<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>Docker のインストールからコンテナ作成まで</title><meta name="next-head-count" content="3"/><link rel="preload" href="/_next/static/css/e1c3d6ee91fcccc28a7c.css" as="style"/><link rel="stylesheet" href="/_next/static/css/e1c3d6ee91fcccc28a7c.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/main-f7ca7a935b246c4edd14.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.d2e6186d001d2275b0af.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.b2562460c774f5a57980.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-b63af2e2dfcc0bffd9c0.js" as="script"/><link rel="preload" href="/_next/static/chunks/c5b568cee8545d966ddc8d89f9063461e084494a.c564a02921d697744263.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/articles/%5Bid%5D-565d4c3adc05a3ed7d91.js" as="script"/></head><body><div id="__next"><div><div><div><h1>Ghostの囁き</h1><hr color="black"/></div><h2>Docker のインストールからコンテナ作成まで</h2><h2>開発環境</h2><p>Ubuntu/trusty64</p><h2>Docker のインストール</h2><pre style="color:black;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;position:relative;margin:.5em 0;overflow:visible;padding:0;background-color:#fdfdfd;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;margin-bottom:1em"><code class="language-bash" style="color:black;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;max-height:inherit;height:inherit;padding:0 1em;display:block;overflow:auto"><span>$ </span><span class="token" style="color:#2f9c0a">sudo</span><span> </span><span class="token" style="color:#2f9c0a">apt-get</span><span> update
</span><span>$ </span><span class="token" style="color:#2f9c0a">sudo</span><span> </span><span class="token" style="color:#2f9c0a">apt-get</span><span> -y </span><span class="token" style="color:#2f9c0a">install</span><span> </span><span class="token" style="color:#5F6364">\</span><span>
</span><span>    apt-transport-https </span><span class="token" style="color:#5F6364">\</span><span>
</span><span>    ca-certificates </span><span class="token" style="color:#5F6364">\</span><span>
</span><span>    </span><span class="token" style="color:#2f9c0a">curl</span><span> </span><span class="token" style="color:#5F6364">\</span><span>
</span>    software-properties-common
<span>$ </span><span class="token" style="color:#2f9c0a">curl</span><span> -fsSL https://download.docker.com/linux/ubuntu/gpg </span><span class="token" style="color:#a67f59;background:rgba(255, 255, 255, 0.5)">|</span><span> </span><span class="token" style="color:#2f9c0a">sudo</span><span> apt-key </span><span class="token" style="color:#2f9c0a">add</span><span> -
</span><span>$ </span><span class="token" style="color:#2f9c0a">sudo</span><span> apt-key fingerprint 0EBFCD88
</span><span>$ </span><span class="token" style="color:#2f9c0a">sudo</span><span> add-apt-repository -y  </span><span class="token" style="color:#5F6364">\</span><span>
</span><span>   </span><span class="token" style="color:#2f9c0a">&quot;deb [arch=amd64] https://download.docker.com/linux/ubuntu \
</span><span class="token" style="color:#2f9c0a">   </span><span class="token" style="color:#a67f59;background:rgba(255, 255, 255, 0.5)">$(</span><span class="token" style="color:#a67f59;background:rgba(255, 255, 255, 0.5)">lsb_release -cs</span><span class="token" style="color:#a67f59;background:rgba(255, 255, 255, 0.5)">)</span><span class="token" style="color:#2f9c0a"> \
</span><span class="token" style="color:#2f9c0a">   stable&quot;</span><span>
</span><span>$ </span><span class="token" style="color:#2f9c0a">sudo</span><span> </span><span class="token" style="color:#2f9c0a">apt-get</span><span> update
</span><span>$ </span><span class="token" style="color:#2f9c0a">sudo</span><span> </span><span class="token" style="color:#2f9c0a">apt-get</span><span> </span><span class="token" style="color:#2f9c0a">install</span><span> -y docker-ce</span></code></pre><h2>Docker コマンド</h2><h3>ローカルに保存された docker イメージの一覧を取得</h3><pre style="color:black;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;position:relative;margin:.5em 0;overflow:visible;padding:0;background-color:#fdfdfd;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;margin-bottom:1em"><code class="language-bash" style="color:black;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;max-height:inherit;height:inherit;padding:0 1em;display:block;overflow:auto"><span>$ docker images</span></code></pre><h3>docker hub にあるイメージを検索</h3><pre style="color:black;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;position:relative;margin:.5em 0;overflow:visible;padding:0;background-color:#fdfdfd;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;margin-bottom:1em"><code class="language-bash" style="color:black;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;max-height:inherit;height:inherit;padding:0 1em;display:block;overflow:auto"><span>$ docker search </span><span class="token" style="color:#a67f59;background:rgba(255, 255, 255, 0.5)">&lt;</span><span>イメージ</span><span class="token" style="color:#a67f59;background:rgba(255, 255, 255, 0.5)">&gt;</span></code></pre><h3>docker hub にあるイメージをローカルに取得する</h3><pre style="color:black;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;position:relative;margin:.5em 0;overflow:visible;padding:0;background-color:#fdfdfd;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;margin-bottom:1em"><code class="language-bash" style="color:black;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;max-height:inherit;height:inherit;padding:0 1em;display:block;overflow:auto"><span>$ docker pull </span><span class="token" style="color:#a67f59;background:rgba(255, 255, 255, 0.5)">&lt;</span><span>イメージ</span><span class="token" style="color:#a67f59;background:rgba(255, 255, 255, 0.5)">&gt;</span></code></pre><h3>コンテナでプロセスを起動する</h3><pre style="color:black;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;position:relative;margin:.5em 0;overflow:visible;padding:0;background-color:#fdfdfd;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;margin-bottom:1em"><code class="language-bash" style="color:black;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;max-height:inherit;height:inherit;padding:0 1em;display:block;overflow:auto"><span>$ docker run -it </span><span class="token" style="color:#a67f59;background:rgba(255, 255, 255, 0.5)">&lt;</span><span>イメージ</span><span class="token" style="color:#a67f59;background:rgba(255, 255, 255, 0.5)">&gt;</span><span> /bin/bash</span></code></pre><h3>プロセスを確認する(停止されたものも含む)</h3><pre style="color:black;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;position:relative;margin:.5em 0;overflow:visible;padding:0;background-color:#fdfdfd;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;margin-bottom:1em"><code class="language-bash" style="color:black;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;max-height:inherit;height:inherit;padding:0 1em;display:block;overflow:auto"><span>$ docker </span><span class="token" style="color:#2f9c0a">ps</span><span> -a</span></code></pre><h3>停止されたコンテナの削除</h3><pre style="color:black;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;position:relative;margin:.5em 0;overflow:visible;padding:0;background-color:#fdfdfd;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;margin-bottom:1em"><code class="language-bash" style="color:black;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;max-height:inherit;height:inherit;padding:0 1em;display:block;overflow:auto"><span>$ docker </span><span class="token" style="color:#2f9c0a">rm</span><span> </span><span class="token" style="color:#a67f59;background:rgba(255, 255, 255, 0.5)">&lt;</span><span>コンテナid</span><span class="token" style="color:#a67f59;background:rgba(255, 255, 255, 0.5)">&gt;</span></code></pre><p>id は一意なので頭の 4 桁程度入力すれば OK。</p><h3>コンテナを全て削除</h3><pre style="color:black;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;position:relative;margin:.5em 0;overflow:visible;padding:0;background-color:#fdfdfd;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;margin-bottom:1em"><code class="language-bash" style="color:black;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;max-height:inherit;height:inherit;padding:0 1em;display:block;overflow:auto"><span>$ docker </span><span class="token" style="color:#2f9c0a">rm</span><span> </span><span class="token" style="color:#a67f59;background:rgba(255, 255, 255, 0.5)">$(</span><span class="token" style="color:#a67f59;background:rgba(255, 255, 255, 0.5)">docker </span><span class="token" style="color:#2f9c0a;background:rgba(255, 255, 255, 0.5)">ps</span><span class="token" style="color:#a67f59;background:rgba(255, 255, 255, 0.5)"> -aq</span><span class="token" style="color:#a67f59;background:rgba(255, 255, 255, 0.5)">)</span></code></pre><h3>exit と同時にコンテナの削除</h3><pre style="color:black;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;position:relative;margin:.5em 0;overflow:visible;padding:0;background-color:#fdfdfd;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;margin-bottom:1em"><code class="language-bash" style="color:black;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;max-height:inherit;height:inherit;padding:0 1em;display:block;overflow:auto"><span>$ docker run --rm -it </span><span class="token" style="color:#a67f59;background:rgba(255, 255, 255, 0.5)">&lt;</span><span>イメージ</span><span class="token" style="color:#a67f59;background:rgba(255, 255, 255, 0.5)">&gt;</span><span> /bin/bash</span></code></pre><h3>ポートをホスト側に公開して起動</h3><pre style="color:black;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;position:relative;margin:.5em 0;overflow:visible;padding:0;background-color:#fdfdfd;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;margin-bottom:1em"><code class="language-bash" style="color:black;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;max-height:inherit;height:inherit;padding:0 1em;display:block;overflow:auto"><span>$ docker run -it -p </span><span class="token" style="color:#c92c2c">80</span><span>:80 </span><span class="token" style="color:#a67f59;background:rgba(255, 255, 255, 0.5)">&lt;</span><span>イメージ</span><span class="token" style="color:#a67f59;background:rgba(255, 255, 255, 0.5)">&gt;</span><span> /bin/bash</span></code></pre><h3>外部ファイルを取り込む</h3><pre style="color:black;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;position:relative;margin:.5em 0;overflow:visible;padding:0;background-color:#fdfdfd;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;margin-bottom:1em"><code class="language-bash" style="color:black;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;max-height:inherit;height:inherit;padding:0 1em;display:block;overflow:auto"><span>$ docker run -it -v </span><span class="token" style="color:#a67f59;background:rgba(255, 255, 255, 0.5)">&lt;</span><span>ホスト側のパス</span><span class="token" style="color:#a67f59;background:rgba(255, 255, 255, 0.5)">&gt;</span><span>:</span><span class="token" style="color:#a67f59;background:rgba(255, 255, 255, 0.5)">&lt;</span><span>コンテナ側のパス</span><span class="token" style="color:#a67f59;background:rgba(255, 255, 255, 0.5)">&gt;</span><span> </span><span class="token" style="color:#a67f59;background:rgba(255, 255, 255, 0.5)">&lt;</span><span>イメージ</span><span class="token" style="color:#a67f59;background:rgba(255, 255, 255, 0.5)">&gt;</span><span> /bin/bash</span></code></pre><h2>Dockerfile 作成してからの流れ</h2><h3>Dockerfile からイメージを作成</h3><pre style="color:black;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;position:relative;margin:.5em 0;overflow:visible;padding:0;background-color:#fdfdfd;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;margin-bottom:1em"><code class="language-bash" style="color:black;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;max-height:inherit;height:inherit;padding:0 1em;display:block;overflow:auto"><span>$ docker build -t </span><span class="token" style="color:#a67f59;background:rgba(255, 255, 255, 0.5)">&lt;</span><span>作成するイメージ名</span><span class="token" style="color:#a67f59;background:rgba(255, 255, 255, 0.5)">&gt;</span><span> </span><span class="token" style="color:#1990b8">.</span></code></pre><h3>作成したイメージからコンテナを起動</h3><pre style="color:black;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;position:relative;margin:.5em 0;overflow:visible;padding:0;background-color:#fdfdfd;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;margin-bottom:1em"><code class="language-bash" style="color:black;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;max-height:inherit;height:inherit;padding:0 1em;display:block;overflow:auto"><span>$ docker run --name </span><span class="token" style="color:#a67f59;background:rgba(255, 255, 255, 0.5)">&lt;</span><span>起動するコンテナ名</span><span class="token" style="color:#a67f59;background:rgba(255, 255, 255, 0.5)">&gt;</span><span> -d -p </span><span class="token" style="color:#a67f59;background:rgba(255, 255, 255, 0.5)">&lt;</span><span>イメージ名</span><span class="token" style="color:#a67f59;background:rgba(255, 255, 255, 0.5)">&gt;</span></code></pre><h3>コンテナの停止</h3><pre style="color:black;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;position:relative;margin:.5em 0;overflow:visible;padding:0;background-color:#fdfdfd;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;margin-bottom:1em"><code class="language-bash" style="color:black;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;max-height:inherit;height:inherit;padding:0 1em;display:block;overflow:auto"><span>$ docker stop </span><span class="token" style="color:#a67f59;background:rgba(255, 255, 255, 0.5)">&lt;</span><span>コンテナ名</span><span class="token" style="color:#a67f59;background:rgba(255, 255, 255, 0.5)">&gt;</span></code></pre><div><p><a href="/">TOPへ戻る</a></p></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"articleData":{"id":"20180213090000","contentHtml":"\n## 開発環境\nUbuntu/trusty64\n\n## Docker のインストール\n```bash\n$ sudo apt-get update\n$ sudo apt-get -y install \\\n    apt-transport-https \\\n    ca-certificates \\\n    curl \\\n    software-properties-common\n$ curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -\n$ sudo apt-key fingerprint 0EBFCD88\n$ sudo add-apt-repository -y  \\\n   \"deb [arch=amd64] https://download.docker.com/linux/ubuntu \\\n   $(lsb_release -cs) \\\n   stable\"\n$ sudo apt-get update\n$ sudo apt-get install -y docker-ce\n```\n\n## Docker コマンド\n### ローカルに保存された docker イメージの一覧を取得\n```bash\n$ docker images\n```\n\n### docker hub にあるイメージを検索\n```bash\n$ docker search \u003cイメージ\u003e\n```\n\n### docker hub にあるイメージをローカルに取得する\n```bash\n$ docker pull \u003cイメージ\u003e\n```\n\n### コンテナでプロセスを起動する\n```bash\n$ docker run -it \u003cイメージ\u003e /bin/bash\n```\n\n### プロセスを確認する(停止されたものも含む)\n```bash\n$ docker ps -a\n```\n\n### 停止されたコンテナの削除\n```bash\n$ docker rm \u003cコンテナid\u003e\n```\n\nid は一意なので頭の 4 桁程度入力すれば OK。\n\n### コンテナを全て削除\n```bash\n$ docker rm $(docker ps -aq)\n```\n\n### exit と同時にコンテナの削除\n```bash\n$ docker run --rm -it \u003cイメージ\u003e /bin/bash\n```\n\n### ポートをホスト側に公開して起動\n```bash\n$ docker run -it -p 80:80 \u003cイメージ\u003e /bin/bash\n```\n\n### 外部ファイルを取り込む\n```bash\n$ docker run -it -v \u003cホスト側のパス\u003e:\u003cコンテナ側のパス\u003e \u003cイメージ\u003e /bin/bash\n```\n\n## Dockerfile 作成してからの流れ\n### Dockerfile からイメージを作成\n```bash\n$ docker build -t \u003c作成するイメージ名\u003e .\n```\n\n### 作成したイメージからコンテナを起動\n```bash\n$ docker run --name \u003c起動するコンテナ名\u003e -d -p \u003cイメージ名\u003e\n```\n\n### コンテナの停止\n```bash\n$ docker stop \u003cコンテナ名\u003e\n```\n","title":"Docker のインストールからコンテナ作成まで","date":20180213090000,"tags":["Docker"]}},"__N_SSG":true},"page":"/articles/[id]","query":{"id":"20180213090000"},"buildId":"72bz4HMCGJRWnOVLPUilo","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-8f31809deb7932dd0187.js"></script><script src="/_next/static/chunks/main-f7ca7a935b246c4edd14.js" async=""></script><script src="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" async=""></script><script src="/_next/static/chunks/framework.d2e6186d001d2275b0af.js" async=""></script><script src="/_next/static/chunks/commons.b2562460c774f5a57980.js" async=""></script><script src="/_next/static/chunks/pages/_app-b63af2e2dfcc0bffd9c0.js" async=""></script><script src="/_next/static/chunks/c5b568cee8545d966ddc8d89f9063461e084494a.c564a02921d697744263.js" async=""></script><script src="/_next/static/chunks/pages/articles/%5Bid%5D-565d4c3adc05a3ed7d91.js" async=""></script><script src="/_next/static/72bz4HMCGJRWnOVLPUilo/_buildManifest.js" async=""></script><script src="/_next/static/72bz4HMCGJRWnOVLPUilo/_ssgManifest.js" async=""></script></body></html>