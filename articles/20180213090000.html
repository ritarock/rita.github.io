<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>MyDocs</title><meta name="next-head-count" content="3"/><link rel="preload" href="/_next/static/css/e5069c53c645de81365c.css" as="style"/><link rel="stylesheet" href="/_next/static/css/e5069c53c645de81365c.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/webpack-189c53927ffd3caf09c3.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework-2f612445bd50b211f15a.js" as="script"/><link rel="preload" href="/_next/static/chunks/main-c8b51cc0a92c3008cd1b.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-7163558e7d92093a94d2.js" as="script"/><link rel="preload" href="/_next/static/chunks/996-109927db333074874af4.js" as="script"/><link rel="preload" href="/_next/static/chunks/394-1ac6c205f84cbd1b2925.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/articles/%5Bid%5D-6ddac1fc6283bcb21133.js" as="script"/></head><body><div id="__next"><div><div><div class="bg-gray-600 h-10 leading-10 text-2xl"><a class="no-underline text-gray-100 mx-2" href="/">MyDocs</a></div></div><div class="mx-7"><h1><b># <!-- -->Docker のインストールからコンテナ作成まで</b></h1><h2>開発環境</h2>
<p>Ubuntu/trusty64</p>
<h2>Docker のインストール</h2>
<pre><div class="text-xs" node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-bash" style="white-space:pre"><span>$ sudo apt-get update
</span>$ sudo apt-get -y install \
<!-- -->    apt-transport-https \
<!-- -->    ca-certificates \
<!-- -->    curl \
<!-- -->    software-properties-common
<!-- -->$ curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -
<!-- -->$ sudo apt-key fingerprint 0EBFCD88
<!-- -->$ sudo add-apt-repository -y  \
<span>   </span><span style="color:#a6e22e">&quot;deb [arch=amd64] https://download.docker.com/linux/ubuntu \
</span><span style="color:#a6e22e">   </span><span style="color:#a6e22e">$(lsb_release -cs)</span><span style="color:#a6e22e"> \
</span><span style="color:#a6e22e">   stable&quot;</span><span>
</span>$ sudo apt-get update
<!-- -->$ sudo apt-get install -y docker-ce
</code></div></pre>
<h2>Docker コマンド</h2>
<h3>ローカルに保存された docker イメージの一覧を取得</h3>
<pre><div class="text-xs" node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-bash" style="white-space:pre"><span>$ docker images</span></code></div></pre>
<h3>docker hub にあるイメージを検索</h3>
<pre><div class="text-xs" node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-bash" style="white-space:pre"><span>$ docker search &lt;イメージ&gt;</span></code></div></pre>
<h3>docker hub にあるイメージをローカルに取得する</h3>
<pre><div class="text-xs" node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-bash" style="white-space:pre"><span>$ docker pull &lt;イメージ&gt;</span></code></div></pre>
<h3>コンテナでプロセスを起動する</h3>
<pre><div class="text-xs" node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-bash" style="white-space:pre"><span>$ docker run -it &lt;イメージ&gt; /bin/bash</span></code></div></pre>
<h3>プロセスを確認する(停止されたものも含む)</h3>
<pre><div class="text-xs" node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-bash" style="white-space:pre"><span>$ docker ps -a</span></code></div></pre>
<h3>停止されたコンテナの削除</h3>
<pre><div class="text-xs" node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-bash" style="white-space:pre"><span>$ docker rm &lt;コンテナid&gt;</span></code></div></pre>
<p>id は一意なので頭の 4 桁程度入力すれば OK。</p>
<h3>コンテナを全て削除</h3>
<pre><div class="text-xs" node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-bash" style="white-space:pre"><span>$ docker rm $(docker ps -aq)</span></code></div></pre>
<h3>exit と同時にコンテナの削除</h3>
<pre><div class="text-xs" node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-bash" style="white-space:pre"><span>$ docker run --rm -it &lt;イメージ&gt; /bin/bash</span></code></div></pre>
<h3>ポートをホスト側に公開して起動</h3>
<pre><div class="text-xs" node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-bash" style="white-space:pre"><span>$ docker run -it -p 80:80 &lt;イメージ&gt; /bin/bash</span></code></div></pre>
<h3>外部ファイルを取り込む</h3>
<pre><div class="text-xs" node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-bash" style="white-space:pre"><span>$ docker run -it -v &lt;ホスト側のパス&gt;:&lt;コンテナ側のパス&gt; &lt;イメージ&gt; /bin/bash</span></code></div></pre>
<h2>Dockerfile 作成してからの流れ</h2>
<h3>Dockerfile からイメージを作成</h3>
<pre><div class="text-xs" node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-bash" style="white-space:pre"><span>$ docker build -t &lt;作成するイメージ名&gt; .</span></code></div></pre>
<h3>作成したイメージからコンテナを起動</h3>
<pre><div class="text-xs" node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-bash" style="white-space:pre"><span>$ docker run --name &lt;起動するコンテナ名&gt; -d -p &lt;イメージ名&gt;</span></code></div></pre>
<h3>コンテナの停止</h3>
<pre><div class="text-xs" node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-bash" style="white-space:pre"><span>$ docker stop &lt;コンテナ名&gt;</span></code></div></pre></div><br/></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"id":"20180213090000","fileContents":"{\n  \"title\": \"Docker のインストールからコンテナ作成まで\",\n  \"date\": 20180213090000,\n  \"tags\": [\n    \"docker\"\n  ],\n  \"bodyContent\": \"## 開発環境\\nUbuntu/trusty64\\n\\n## Docker のインストール\\n```bash\\n$ sudo apt-get update\\n$ sudo apt-get -y install \\\\\\n    apt-transport-https \\\\\\n    ca-certificates \\\\\\n    curl \\\\\\n    software-properties-common\\n$ curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -\\n$ sudo apt-key fingerprint 0EBFCD88\\n$ sudo add-apt-repository -y  \\\\\\n   \\\"deb [arch=amd64] https://download.docker.com/linux/ubuntu \\\\\\n   $(lsb_release -cs) \\\\\\n   stable\\\"\\n$ sudo apt-get update\\n$ sudo apt-get install -y docker-ce\\n```\\n\\n## Docker コマンド\\n### ローカルに保存された docker イメージの一覧を取得\\n```bash\\n$ docker images\\n```\\n\\n### docker hub にあるイメージを検索\\n```bash\\n$ docker search \u003cイメージ\u003e\\n```\\n\\n### docker hub にあるイメージをローカルに取得する\\n```bash\\n$ docker pull \u003cイメージ\u003e\\n```\\n\\n### コンテナでプロセスを起動する\\n```bash\\n$ docker run -it \u003cイメージ\u003e /bin/bash\\n```\\n\\n### プロセスを確認する(停止されたものも含む)\\n```bash\\n$ docker ps -a\\n```\\n\\n### 停止されたコンテナの削除\\n```bash\\n$ docker rm \u003cコンテナid\u003e\\n```\\n\\nid は一意なので頭の 4 桁程度入力すれば OK。\\n\\n### コンテナを全て削除\\n```bash\\n$ docker rm $(docker ps -aq)\\n```\\n\\n### exit と同時にコンテナの削除\\n```bash\\n$ docker run --rm -it \u003cイメージ\u003e /bin/bash\\n```\\n\\n### ポートをホスト側に公開して起動\\n```bash\\n$ docker run -it -p 80:80 \u003cイメージ\u003e /bin/bash\\n```\\n\\n### 外部ファイルを取り込む\\n```bash\\n$ docker run -it -v \u003cホスト側のパス\u003e:\u003cコンテナ側のパス\u003e \u003cイメージ\u003e /bin/bash\\n```\\n\\n## Dockerfile 作成してからの流れ\\n### Dockerfile からイメージを作成\\n```bash\\n$ docker build -t \u003c作成するイメージ名\u003e .\\n```\\n\\n### 作成したイメージからコンテナを起動\\n```bash\\n$ docker run --name \u003c起動するコンテナ名\u003e -d -p \u003cイメージ名\u003e\\n```\\n\\n### コンテナの停止\\n```bash\\n$ docker stop \u003cコンテナ名\u003e\\n```\",\n  \"bodyHtml\": \"\u003ch2\u003e開発環境\u003c/h2\u003e\\n\u003cp\u003eUbuntu/trusty64\u003c/p\u003e\\n\u003ch2\u003eDocker のインストール\u003c/h2\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs\\\"\u003e$ sudo apt-get update\\n$ sudo apt-get -y install \\\\\\n    apt-transport-https \\\\\\n    ca-certificates \\\\\\n    curl \\\\\\n    software-properties-common\\n$ curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -\\n$ sudo apt-key fingerprint 0EBFCD88\\n$ sudo add-apt-repository -y  \\\\\\n   \u003cspan class=\\\"hljs-string\\\"\u003e\u0026quot;deb [arch=amd64] https://download.docker.com/linux/ubuntu \\\\\\n   \u003cspan class=\\\"hljs-subst\\\"\u003e$(lsb_release -cs)\u003c/span\u003e \\\\\\n   stable\u0026quot;\u003c/span\u003e\\n$ sudo apt-get update\\n$ sudo apt-get install -y docker-ce\u003c/code\u003e\u003c/pre\u003e\u003ch2\u003eDocker コマンド\u003c/h2\u003e\\n\u003ch3\u003eローカルに保存された docker イメージの一覧を取得\u003c/h3\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs\\\"\u003e$ docker images\u003c/code\u003e\u003c/pre\u003e\u003ch3\u003edocker hub にあるイメージを検索\u003c/h3\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs\\\"\u003e$ docker search \u0026lt;イメージ\u0026gt;\u003c/code\u003e\u003c/pre\u003e\u003ch3\u003edocker hub にあるイメージをローカルに取得する\u003c/h3\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs\\\"\u003e$ docker pull \u0026lt;イメージ\u0026gt;\u003c/code\u003e\u003c/pre\u003e\u003ch3\u003eコンテナでプロセスを起動する\u003c/h3\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs\\\"\u003e$ docker run -it \u0026lt;イメージ\u0026gt; /bin/bash\u003c/code\u003e\u003c/pre\u003e\u003ch3\u003eプロセスを確認する(停止されたものも含む)\u003c/h3\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs\\\"\u003e$ docker ps -a\u003c/code\u003e\u003c/pre\u003e\u003ch3\u003e停止されたコンテナの削除\u003c/h3\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs\\\"\u003e$ docker rm \u0026lt;コンテナid\u0026gt;\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eid は一意なので頭の 4 桁程度入力すれば OK。\u003c/p\u003e\\n\u003ch3\u003eコンテナを全て削除\u003c/h3\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs\\\"\u003e$ docker rm $(docker ps -aq)\u003c/code\u003e\u003c/pre\u003e\u003ch3\u003eexit と同時にコンテナの削除\u003c/h3\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs\\\"\u003e$ docker run --rm -it \u0026lt;イメージ\u0026gt; /bin/bash\u003c/code\u003e\u003c/pre\u003e\u003ch3\u003eポートをホスト側に公開して起動\u003c/h3\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs\\\"\u003e$ docker run -it -p 80:80 \u0026lt;イメージ\u0026gt; /bin/bash\u003c/code\u003e\u003c/pre\u003e\u003ch3\u003e外部ファイルを取り込む\u003c/h3\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs\\\"\u003e$ docker run -it -v \u0026lt;ホスト側のパス\u0026gt;:\u0026lt;コンテナ側のパス\u0026gt; \u0026lt;イメージ\u0026gt; /bin/bash\u003c/code\u003e\u003c/pre\u003e\u003ch2\u003eDockerfile 作成してからの流れ\u003c/h2\u003e\\n\u003ch3\u003eDockerfile からイメージを作成\u003c/h3\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs\\\"\u003e$ docker build -t \u0026lt;作成するイメージ名\u0026gt; .\u003c/code\u003e\u003c/pre\u003e\u003ch3\u003e作成したイメージからコンテナを起動\u003c/h3\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs\\\"\u003e$ docker run --name \u0026lt;起動するコンテナ名\u0026gt; -d -p \u0026lt;イメージ名\u0026gt;\u003c/code\u003e\u003c/pre\u003e\u003ch3\u003eコンテナの停止\u003c/h3\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs\\\"\u003e$ docker stop \u0026lt;コンテナ名\u0026gt;\u003c/code\u003e\u003c/pre\u003e\",\n  \"dir\": \"articles\",\n  \"base\": \"20180213090000.json\",\n  \"ext\": \".json\",\n  \"sourceBase\": \"20180213090000.md\",\n  \"sourceExt\": \".md\"\n}"}},"__N_SSG":true},"page":"/articles/[id]","query":{"id":"20180213090000"},"buildId":"idjm8PerGZBt_fETBw4Y6","isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-7b08e4c67f4f1b892f4b.js"></script><script src="/_next/static/chunks/webpack-189c53927ffd3caf09c3.js" async=""></script><script src="/_next/static/chunks/framework-2f612445bd50b211f15a.js" async=""></script><script src="/_next/static/chunks/main-c8b51cc0a92c3008cd1b.js" async=""></script><script src="/_next/static/chunks/pages/_app-7163558e7d92093a94d2.js" async=""></script><script src="/_next/static/chunks/996-109927db333074874af4.js" async=""></script><script src="/_next/static/chunks/394-1ac6c205f84cbd1b2925.js" async=""></script><script src="/_next/static/chunks/pages/articles/%5Bid%5D-6ddac1fc6283bcb21133.js" async=""></script><script src="/_next/static/idjm8PerGZBt_fETBw4Y6/_buildManifest.js" async=""></script><script src="/_next/static/idjm8PerGZBt_fETBw4Y6/_ssgManifest.js" async=""></script></body></html>