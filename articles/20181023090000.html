<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>vim をちゃんとやる(8)</title><meta name="next-head-count" content="3"/><link rel="preload" href="/_next/static/css/e1c3d6ee91fcccc28a7c.css" as="style"/><link rel="stylesheet" href="/_next/static/css/e1c3d6ee91fcccc28a7c.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/main-ede76a10e175da2c838c.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.d2e6186d001d2275b0af.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.a7dbd9461ef86be5edbe.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-08dd9b2df416c6b3d01d.js" as="script"/><link rel="preload" href="/_next/static/chunks/c5b568cee8545d966ddc8d89f9063461e084494a.1e2dd07e60f764e7baed.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/articles/%5Bid%5D-06d630cb089f242b4471.js" as="script"/></head><body><div id="__next"><div><div><div><h1>Ghostの囁き</h1><hr color="black"/></div><h2>vim をちゃんとやる(8)</h2><h2>&lt;C-r&gt;<!-- -->&lt;C-w&gt;</h2><p>検索の自動補完。</p><h2>:%s/{文字}//gn</h2><p>文字数をカウント。</p><h2>:%s/{対象文字}/{置換後の文字}/g</h2><p>ファイルの対象文字を置換する。
:%s/{対象文字}/{置換後の文字} で初めの1文字。
:%s/{対象文字}/{置換後の文字}/g で行のみ。
:%s/{対象文字}/{置換後の文字}/g でファイル全体。</p><h2>:%s/{対象文字}/{置換後の文字}/gc</h2><p>1文字1文字置換するかどうかを確認できる。
q で終了。
a でカーソル以降全て置換。</p><h2>:%s=@0/g</h2><p>レジスタ0の中身を対象に置換する。</p><h2>g&amp;</h2><p>直前の置換をファイル全体に適用する。</p><h2>gv</h2><p>直前の選択範囲を再度選択する。</p><h2>csvのフィールドを入れ替える</h2><p>/\v[^,]*,([^,]),([^,])$<br/>:%s//\3,\2,\1<br/>列選択して、順序入れ替え。</p><h2>2つの単語を入れ替える</h2><p>/\v(&lt;単語A&gt;|&lt;単語B&gt;)<br/>:%s//={&quot;単語A&quot;:&quot;単語B&quot;,&quot;単語B&quot;:&quot;単語A&quot;}[submatch(1)]/g</p><div><p><a href="/">TOPへ戻る</a></p></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"articleData":{"id":"20181023090000","contentHtml":"\n## \\\u003cC-r\u003e\u003cC-w\u003e\n検索の自動補完。\n\n## :%s/{文字}//gn\n文字数をカウント。\n\n## :%s/{対象文字}/{置換後の文字}/g\nファイルの対象文字を置換する。\n:%s/{対象文字}/{置換後の文字} で初めの1文字。\n:%s/{対象文字}/{置換後の文字}/g で行のみ。\n:%s/{対象文字}/{置換後の文字}/g でファイル全体。\n\n## :%s/{対象文字}/{置換後の文字}/gc\n1文字1文字置換するかどうかを確認できる。\nq で終了。\na でカーソル以降全て置換。\n\n## :%s\\=@0/g\nレジスタ0の中身を対象に置換する。\n\n## g\u0026\n直前の置換をファイル全体に適用する。\n\n## gv\n直前の選択範囲を再度選択する。\n\n## csvのフィールドを入れ替える\n/\\v[^,]*,([^,]),([^,])$  \n:%s//\\3,\\2,\\1  \n列選択して、順序入れ替え。\n\n## 2つの単語を入れ替える\n/\\v(\u003c単語A\u003e|\u003c単語B\u003e)  \n:%s//\\={\"単語A\":\"単語B\",\"単語B\":\"単語A\"}[submatch(1)]/g\n","title":"vim をちゃんとやる(8)","date":20181023090000,"tags":["vim"]}},"__N_SSG":true},"page":"/articles/[id]","query":{"id":"20181023090000"},"buildId":"piNJd9ab-EqawAvzFlVtb","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-8f31809deb7932dd0187.js"></script><script src="/_next/static/chunks/main-ede76a10e175da2c838c.js" async=""></script><script src="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" async=""></script><script src="/_next/static/chunks/framework.d2e6186d001d2275b0af.js" async=""></script><script src="/_next/static/chunks/commons.a7dbd9461ef86be5edbe.js" async=""></script><script src="/_next/static/chunks/pages/_app-08dd9b2df416c6b3d01d.js" async=""></script><script src="/_next/static/chunks/c5b568cee8545d966ddc8d89f9063461e084494a.1e2dd07e60f764e7baed.js" async=""></script><script src="/_next/static/chunks/pages/articles/%5Bid%5D-06d630cb089f242b4471.js" async=""></script><script src="/_next/static/piNJd9ab-EqawAvzFlVtb/_buildManifest.js" async=""></script><script src="/_next/static/piNJd9ab-EqawAvzFlVtb/_ssgManifest.js" async=""></script></body></html>