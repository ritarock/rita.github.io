<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>MyDocs</title><meta name="next-head-count" content="3"/><link rel="preload" href="/_next/static/css/e5069c53c645de81365c.css" as="style"/><link rel="stylesheet" href="/_next/static/css/e5069c53c645de81365c.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/webpack-189c53927ffd3caf09c3.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework-2f612445bd50b211f15a.js" as="script"/><link rel="preload" href="/_next/static/chunks/main-c8b51cc0a92c3008cd1b.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-7163558e7d92093a94d2.js" as="script"/><link rel="preload" href="/_next/static/chunks/996-109927db333074874af4.js" as="script"/><link rel="preload" href="/_next/static/chunks/394-1ac6c205f84cbd1b2925.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/articles/%5Bid%5D-6ddac1fc6283bcb21133.js" as="script"/></head><body><div id="__next"><div><div><div class="bg-gray-600 h-10 leading-10 text-2xl"><a class="no-underline text-gray-100 mx-2" href="/">MyDocs</a></div></div><div class="mx-7"><h1><b># <!-- -->form_with の使い方</b></h1><h2>form_with</h2>
<p>新しいバージョンの rails なら <em><strong>form_for, form_tag</strong></em> は使用せずに <em><strong>form_with</strong></em> を使う事ができる。</p>
<p>モデルの有無で書き方が変わる。</p>
<h3>モデルが有るとき</h3>
<pre><div class="text-xs" node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-ruby" style="white-space:pre"><span>form_with </span><span style="color:#bf79db">model:</span><span> </span><span style="color:#a6e22e">&#x27;モデル名&#x27;</span><span> </span><span style="color:#f92672;font-weight:bold">do</span><span> </span><span class="hljs-params">|form|</span><span>
</span><span>  </span><span style="color:#75715e"># 中身</span><span>
</span><span></span><span style="color:#f92672;font-weight:bold">end</span></code></div></pre>
<h3>モデルが無いとき</h3>
<ul>
<li>URL で指定する</li>
</ul>
<pre><div class="text-xs" node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-ruby" style="white-space:pre"><span>form_with </span><span style="color:#bf79db">model:</span><span> </span><span style="color:#a6e22e">&#x27;URL&#x27;</span><span> </span><span style="color:#f92672;font-weight:bold">do</span><span> </span><span class="hljs-params">|form|</span><span>
</span><span>  </span><span style="color:#75715e"># 中身</span><span>
</span><span></span><span style="color:#f92672;font-weight:bold">end</span></code></div></pre>
<ul>
<li>PATH で指定する</li>
</ul>
<pre><div class="text-xs" node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-ruby" style="white-space:pre"><span>form_with </span><span style="color:#bf79db">model:</span><span> </span><span style="color:#a6e22e">&#x27;PATH&#x27;</span><span> </span><span style="color:#f92672;font-weight:bold">do</span><span> </span><span class="hljs-params">|form|</span><span>
</span><span>  </span><span style="color:#75715e"># 中身</span><span>
</span><span></span><span style="color:#f92672;font-weight:bold">end</span></code></div></pre>
<h2>オプション</h2>
<p>よく使うもの。</p>
<table><thead><tr><th>オプション</th><th>説明</th><th>デフォルト値</th></tr></thead><tbody><tr><td>:url</td><td>URL を指定</td><td>-</td></tr><tr><td>:method</td><td>HTTP メソッド</td><td>POST</td></tr><tr><td>:local</td><td>リモート送信を無効</td><td>false</td></tr></tbody></table>
<h2>URL からフォームを作成 ( form_for 的な使い方 )</h2>
<pre><div class="text-xs" node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-slim" style="white-space:pre"><span style="color:#a6e22e;font-weight:bold">= form_with url :posts_path do |f|</span><span>
</span><span></span><span style="color:#66d9ef">  = f.text_field :title</span></code></div></pre>
<p>生成される HTML。</p>
<pre><div class="text-xs" node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-html" style="white-space:pre"><span>&lt;form action=</span><span style="color:#a6e22e">&quot;/pots&quot;</span><span> method=</span><span style="color:#a6e22e">&quot;post&quot;</span><span> </span><span style="color:#f92672;font-weight:bold">data</span><span>-</span><span style="color:#75715e">remote=&quot;true&quot;&gt;</span><span>
</span><span>  &lt;</span><span style="color:#f92672;font-weight:bold">input</span><span> type=</span><span style="color:#a6e22e">&quot;text&quot;</span><span> </span><span style="color:#f92672;font-weight:bold">name</span><span>=</span><span style="color:#a6e22e">&quot;title&quot;</span><span>&gt;
</span>&lt;/form&gt;
</code></div></pre>
<h2>モデルを指定してフォームを作成 ( form_for 的な使い方 )</h2>
<pre><div class="text-xs" node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-slim" style="white-space:pre"><span>= form_with </span><span style="color:#a6e22e">mod</span><span style="color:#bf79db">el:</span><span> Post.new do |f|
</span><span>  = f.text_field </span><span style="color:#bf79db">:ti</span><span>tle</span></code></div></pre>
<p>生成される HTML。</p>
<pre><div class="text-xs" node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-html" style="white-space:pre"><span>&lt;form action=</span><span style="color:#a6e22e">&quot;/pots&quot;</span><span> method=</span><span style="color:#a6e22e">&quot;post&quot;</span><span> </span><span style="color:#f92672;font-weight:bold">data</span><span>-</span><span style="color:#75715e">remote=&quot;true&quot;&gt;</span><span>
</span><span>  &lt;</span><span style="color:#f92672;font-weight:bold">input</span><span> type=</span><span style="color:#a6e22e">&quot;text&quot;</span><span> </span><span style="color:#f92672;font-weight:bold">name</span><span>=</span><span style="color:#a6e22e">&quot;post[title]&quot;</span><span>&gt;
</span>&lt;/form&gt;
</code></div></pre></div><br/></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"id":"20191130183100","fileContents":"{\n  \"title\": \"form_with の使い方\",\n  \"date\": 20191130183100,\n  \"tags\": [\n    \"ruby\"\n  ],\n  \"bodyContent\": \"## form_with\\n新しいバージョンの rails なら ***form_for, form_tag*** は使用せずに ***form_with*** を使う事ができる。\\n\\nモデルの有無で書き方が変わる。\\n\\n### モデルが有るとき\\n```ruby\\nform_with model: 'モデル名' do |form|\\n  # 中身\\nend\\n```\\n\\n### モデルが無いとき\\n- URL で指定する\\n```ruby\\nform_with model: 'URL' do |form|\\n  # 中身\\nend\\n```\\n- PATH で指定する\\n```ruby\\nform_with model: 'PATH' do |form|\\n  # 中身\\nend\\n```\\n\\n## オプション\\nよく使うもの。\\n\\n|オプション|説明|デフォルト値|\\n|-|-|-|\\n:url|URL を指定|-\\n:method|HTTP メソッド| POST\\n:local| リモート送信を無効|false\\n\\n## URL からフォームを作成 ( form_for 的な使い方 )\\n```slim\\n= form_with url :posts_path do |f|\\n  = f.text_field :title\\n```\\n\\n生成される HTML。\\n```html\\n\u003cform action=\\\"/pots\\\" method=\\\"post\\\" data-remote=\\\"true\\\"\u003e\\n  \u003cinput type=\\\"text\\\" name=\\\"title\\\"\u003e\\n\u003c/form\u003e\\n```\\n\\n## モデルを指定してフォームを作成 ( form_for 的な使い方 )\\n```slim\\n= form_with model: Post.new do |f|\\n  = f.text_field :title\\n```\\n\\n生成される HTML。\\n```html\\n\u003cform action=\\\"/pots\\\" method=\\\"post\\\" data-remote=\\\"true\\\"\u003e\\n  \u003cinput type=\\\"text\\\" name=\\\"post[title]\\\"\u003e\\n\u003c/form\u003e\\n```\",\n  \"bodyHtml\": \"\u003ch2\u003eform_with\u003c/h2\u003e\\n\u003cp\u003e新しいバージョンの rails なら \u003cem\u003e\u003cstrong\u003eform_for, form_tag\u003c/strong\u003e\u003c/em\u003e は使用せずに \u003cem\u003e\u003cstrong\u003eform_with\u003c/strong\u003e\u003c/em\u003e を使う事ができる。\u003c/p\u003e\\n\u003cp\u003eモデルの有無で書き方が変わる。\u003c/p\u003e\\n\u003ch3\u003eモデルが有るとき\u003c/h3\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs\\\"\u003eform_with \u003cspan class=\\\"hljs-symbol\\\"\u003emodel:\u003c/span\u003e \u003cspan class=\\\"hljs-string\\\"\u003e\u0026#x27;モデル名\u0026#x27;\u003c/span\u003e \u003cspan class=\\\"hljs-keyword\\\"\u003edo\u003c/span\u003e \u003cspan class=\\\"hljs-params\\\"\u003e|form|\u003c/span\u003e\\n  \u003cspan class=\\\"hljs-comment\\\"\u003e# 中身\u003c/span\u003e\\n\u003cspan class=\\\"hljs-keyword\\\"\u003eend\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003ch3\u003eモデルが無いとき\u003c/h3\u003e\\n\u003cul\u003e\\n\u003cli\u003eURL で指定する\u003c/li\u003e\\n\u003c/ul\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs\\\"\u003eform_with \u003cspan class=\\\"hljs-symbol\\\"\u003emodel:\u003c/span\u003e \u003cspan class=\\\"hljs-string\\\"\u003e\u0026#x27;URL\u0026#x27;\u003c/span\u003e \u003cspan class=\\\"hljs-keyword\\\"\u003edo\u003c/span\u003e \u003cspan class=\\\"hljs-params\\\"\u003e|form|\u003c/span\u003e\\n  \u003cspan class=\\\"hljs-comment\\\"\u003e# 中身\u003c/span\u003e\\n\u003cspan class=\\\"hljs-keyword\\\"\u003eend\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\\n\u003cli\u003ePATH で指定する\u003c/li\u003e\\n\u003c/ul\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs\\\"\u003eform_with \u003cspan class=\\\"hljs-symbol\\\"\u003emodel:\u003c/span\u003e \u003cspan class=\\\"hljs-string\\\"\u003e\u0026#x27;PATH\u0026#x27;\u003c/span\u003e \u003cspan class=\\\"hljs-keyword\\\"\u003edo\u003c/span\u003e \u003cspan class=\\\"hljs-params\\\"\u003e|form|\u003c/span\u003e\\n  \u003cspan class=\\\"hljs-comment\\\"\u003e# 中身\u003c/span\u003e\\n\u003cspan class=\\\"hljs-keyword\\\"\u003eend\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003ch2\u003eオプション\u003c/h2\u003e\\n\u003cp\u003eよく使うもの。\u003c/p\u003e\\n\u003ctable\u003e\\n\u003cthead\u003e\\n\u003ctr\u003e\\n\u003cth\u003eオプション\u003c/th\u003e\\n\u003cth\u003e説明\u003c/th\u003e\\n\u003cth\u003eデフォルト値\u003c/th\u003e\\n\u003c/tr\u003e\\n\u003c/thead\u003e\\n\u003ctbody\u003e\\n\u003ctr\u003e\\n\u003ctd\u003e:url\u003c/td\u003e\\n\u003ctd\u003eURL を指定\u003c/td\u003e\\n\u003ctd\u003e-\u003c/td\u003e\\n\u003c/tr\u003e\\n\u003ctr\u003e\\n\u003ctd\u003e:method\u003c/td\u003e\\n\u003ctd\u003eHTTP メソッド\u003c/td\u003e\\n\u003ctd\u003ePOST\u003c/td\u003e\\n\u003c/tr\u003e\\n\u003ctr\u003e\\n\u003ctd\u003e:local\u003c/td\u003e\\n\u003ctd\u003eリモート送信を無効\u003c/td\u003e\\n\u003ctd\u003efalse\u003c/td\u003e\\n\u003c/tr\u003e\\n\u003c/tbody\u003e\\n\u003c/table\u003e\\n\u003ch2\u003eURL からフォームを作成 ( form_for 的な使い方 )\u003c/h2\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs\\\"\u003e= form_with url :posts_path do |f|\\n  = f.text_field :title\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e生成される HTML。\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs\\\"\u003e\u003cspan class=\\\"hljs-tag\\\"\u003e\u0026lt;\u003cspan class=\\\"hljs-name\\\"\u003eform\u003c/span\u003e \u003cspan class=\\\"hljs-attr\\\"\u003eaction\u003c/span\u003e=\u003cspan class=\\\"hljs-string\\\"\u003e\u0026quot;/pots\u0026quot;\u003c/span\u003e \u003cspan class=\\\"hljs-attr\\\"\u003emethod\u003c/span\u003e=\u003cspan class=\\\"hljs-string\\\"\u003e\u0026quot;post\u0026quot;\u003c/span\u003e \u003cspan class=\\\"hljs-attr\\\"\u003edata-remote\u003c/span\u003e=\u003cspan class=\\\"hljs-string\\\"\u003e\u0026quot;true\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\\n  \u003cspan class=\\\"hljs-tag\\\"\u003e\u0026lt;\u003cspan class=\\\"hljs-name\\\"\u003einput\u003c/span\u003e \u003cspan class=\\\"hljs-attr\\\"\u003etype\u003c/span\u003e=\u003cspan class=\\\"hljs-string\\\"\u003e\u0026quot;text\u0026quot;\u003c/span\u003e \u003cspan class=\\\"hljs-attr\\\"\u003ename\u003c/span\u003e=\u003cspan class=\\\"hljs-string\\\"\u003e\u0026quot;title\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\\n\u003cspan class=\\\"hljs-tag\\\"\u003e\u0026lt;/\u003cspan class=\\\"hljs-name\\\"\u003eform\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003ch2\u003eモデルを指定してフォームを作成 ( form_for 的な使い方 )\u003c/h2\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs\\\"\u003e= form_with model: Post.new do |f|\\n  = f.text_field :title\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e生成される HTML。\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs\\\"\u003e\u003cspan class=\\\"hljs-tag\\\"\u003e\u0026lt;\u003cspan class=\\\"hljs-name\\\"\u003eform\u003c/span\u003e \u003cspan class=\\\"hljs-attr\\\"\u003eaction\u003c/span\u003e=\u003cspan class=\\\"hljs-string\\\"\u003e\u0026quot;/pots\u0026quot;\u003c/span\u003e \u003cspan class=\\\"hljs-attr\\\"\u003emethod\u003c/span\u003e=\u003cspan class=\\\"hljs-string\\\"\u003e\u0026quot;post\u0026quot;\u003c/span\u003e \u003cspan class=\\\"hljs-attr\\\"\u003edata-remote\u003c/span\u003e=\u003cspan class=\\\"hljs-string\\\"\u003e\u0026quot;true\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\\n  \u003cspan class=\\\"hljs-tag\\\"\u003e\u0026lt;\u003cspan class=\\\"hljs-name\\\"\u003einput\u003c/span\u003e \u003cspan class=\\\"hljs-attr\\\"\u003etype\u003c/span\u003e=\u003cspan class=\\\"hljs-string\\\"\u003e\u0026quot;text\u0026quot;\u003c/span\u003e \u003cspan class=\\\"hljs-attr\\\"\u003ename\u003c/span\u003e=\u003cspan class=\\\"hljs-string\\\"\u003e\u0026quot;post[title]\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\\n\u003cspan class=\\\"hljs-tag\\\"\u003e\u0026lt;/\u003cspan class=\\\"hljs-name\\\"\u003eform\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\",\n  \"dir\": \"articles\",\n  \"base\": \"20191130183100.json\",\n  \"ext\": \".json\",\n  \"sourceBase\": \"20191130183100.md\",\n  \"sourceExt\": \".md\"\n}"}},"__N_SSG":true},"page":"/articles/[id]","query":{"id":"20191130183100"},"buildId":"_LB-QiwFGFmJW_qA8mt1t","isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-7b08e4c67f4f1b892f4b.js"></script><script src="/_next/static/chunks/webpack-189c53927ffd3caf09c3.js" async=""></script><script src="/_next/static/chunks/framework-2f612445bd50b211f15a.js" async=""></script><script src="/_next/static/chunks/main-c8b51cc0a92c3008cd1b.js" async=""></script><script src="/_next/static/chunks/pages/_app-7163558e7d92093a94d2.js" async=""></script><script src="/_next/static/chunks/996-109927db333074874af4.js" async=""></script><script src="/_next/static/chunks/394-1ac6c205f84cbd1b2925.js" async=""></script><script src="/_next/static/chunks/pages/articles/%5Bid%5D-6ddac1fc6283bcb21133.js" async=""></script><script src="/_next/static/_LB-QiwFGFmJW_qA8mt1t/_buildManifest.js" async=""></script><script src="/_next/static/_LB-QiwFGFmJW_qA8mt1t/_ssgManifest.js" async=""></script></body></html>