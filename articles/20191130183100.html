<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>form_with の使い方</title><meta name="next-head-count" content="3"/><link rel="preload" href="/_next/static/css/e1c3d6ee91fcccc28a7c.css" as="style"/><link rel="stylesheet" href="/_next/static/css/e1c3d6ee91fcccc28a7c.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/main-f7ca7a935b246c4edd14.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.d2e6186d001d2275b0af.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.b2562460c774f5a57980.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-b63af2e2dfcc0bffd9c0.js" as="script"/><link rel="preload" href="/_next/static/chunks/c5b568cee8545d966ddc8d89f9063461e084494a.c564a02921d697744263.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/articles/%5Bid%5D-565d4c3adc05a3ed7d91.js" as="script"/></head><body><div id="__next"><div><div><div><h1>Ghostの囁き</h1><hr color="black"/></div><h2>form_with の使い方</h2><h2>form_with</h2><p>新しいバージョンの rails なら <code>form_for, form_tag</code> は使用せずに <code>form_with</code> を使う事ができる。</p><p>モデルの有無で書き方が変わる。</p><h3>モデルが有るとき</h3><pre style="color:black;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;position:relative;margin:.5em 0;overflow:visible;padding:0;background-color:#fdfdfd;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;margin-bottom:1em"><code class="language-ruby" style="color:black;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;max-height:inherit;height:inherit;padding:0 1em;display:block;overflow:auto"><span>form_with model</span><span class="token" style="color:#5F6364">:</span><span> </span><span class="token" style="color:#2f9c0a">&#x27;モデル名&#x27;</span><span> </span><span class="token" style="color:#1990b8">do</span><span> </span><span class="token" style="color:#a67f59;background:rgba(255, 255, 255, 0.5)">|</span><span>form</span><span class="token" style="color:#a67f59;background:rgba(255, 255, 255, 0.5)">|</span><span>
</span><span>  </span><span class="token" style="color:#7D8B99"># 中身</span><span>
</span><span></span><span class="token" style="color:#1990b8">end</span></code></pre><h3>モデルが無いとき</h3><ul><li>URL で指定する</li></ul><pre style="color:black;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;position:relative;margin:.5em 0;overflow:visible;padding:0;background-color:#fdfdfd;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;margin-bottom:1em"><code class="language-ruby" style="color:black;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;max-height:inherit;height:inherit;padding:0 1em;display:block;overflow:auto"><span>form_with model</span><span class="token" style="color:#5F6364">:</span><span> </span><span class="token" style="color:#2f9c0a">&#x27;URL&#x27;</span><span> </span><span class="token" style="color:#1990b8">do</span><span> </span><span class="token" style="color:#a67f59;background:rgba(255, 255, 255, 0.5)">|</span><span>form</span><span class="token" style="color:#a67f59;background:rgba(255, 255, 255, 0.5)">|</span><span>
</span><span>  </span><span class="token" style="color:#7D8B99"># 中身</span><span>
</span><span></span><span class="token" style="color:#1990b8">end</span></code></pre><ul><li>PATH で指定する</li></ul><pre style="color:black;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;position:relative;margin:.5em 0;overflow:visible;padding:0;background-color:#fdfdfd;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;margin-bottom:1em"><code class="language-ruby" style="color:black;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;max-height:inherit;height:inherit;padding:0 1em;display:block;overflow:auto"><span>form_with model</span><span class="token" style="color:#5F6364">:</span><span> </span><span class="token" style="color:#2f9c0a">&#x27;PATH&#x27;</span><span> </span><span class="token" style="color:#1990b8">do</span><span> </span><span class="token" style="color:#a67f59;background:rgba(255, 255, 255, 0.5)">|</span><span>form</span><span class="token" style="color:#a67f59;background:rgba(255, 255, 255, 0.5)">|</span><span>
</span><span>  </span><span class="token" style="color:#7D8B99"># 中身</span><span>
</span><span></span><span class="token" style="color:#1990b8">end</span></code></pre><h2>オプション</h2><p>よく使うもの。</p><table><thead><tr><th>オプション</th><th>説明</th><th>デフォルト値</th></tr></thead><tbody><tr><td>:url</td><td>URL を指定</td><td>-</td></tr><tr><td>:method</td><td>HTTP メソッド</td><td>POST</td></tr><tr><td>:local</td><td>リモート送信を無効</td><td>false</td></tr></tbody></table><h2>URL からフォームを作成 ( form_for 的な使い方 )</h2><pre style="color:black;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;position:relative;margin:.5em 0;overflow:visible;padding:0;background-color:#fdfdfd;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;margin-bottom:1em"><code class="language-slim" style="color:black;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;max-height:inherit;height:inherit;padding:0 1em;display:block;overflow:auto"><span>= form_with url :posts_path do |f|
</span>  = f.text_field :title
</code></pre><p>生成される HTML。</p><pre style="color:black;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;position:relative;margin:.5em 0;overflow:visible;padding:0;background-color:#fdfdfd;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;margin-bottom:1em"><code class="language-html" style="color:black;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;max-height:inherit;height:inherit;padding:0 1em;display:block;overflow:auto"><span class="token" style="color:#5F6364">&lt;</span><span class="token" style="color:#c92c2c">form</span><span class="token" style="color:#c92c2c"> </span><span class="token" style="color:#2f9c0a">action</span><span class="token attr-equals" style="color:#5F6364">=</span><span class="token" style="color:#5F6364">&quot;</span><span class="token" style="color:#1990b8">/pots</span><span class="token" style="color:#5F6364">&quot;</span><span class="token" style="color:#c92c2c"> </span><span class="token" style="color:#2f9c0a">method</span><span class="token attr-equals" style="color:#5F6364">=</span><span class="token" style="color:#5F6364">&quot;</span><span class="token" style="color:#1990b8">post</span><span class="token" style="color:#5F6364">&quot;</span><span class="token" style="color:#c92c2c"> </span><span class="token" style="color:#2f9c0a">data-remote</span><span class="token attr-equals" style="color:#5F6364">=</span><span class="token" style="color:#5F6364">&quot;</span><span class="token" style="color:#1990b8">true</span><span class="token" style="color:#5F6364">&quot;</span><span class="token" style="color:#5F6364">&gt;</span><span>
</span><span>  </span><span class="token" style="color:#5F6364">&lt;</span><span class="token" style="color:#c92c2c">input</span><span class="token" style="color:#c92c2c"> </span><span class="token" style="color:#2f9c0a">type</span><span class="token attr-equals" style="color:#5F6364">=</span><span class="token" style="color:#5F6364">&quot;</span><span class="token" style="color:#1990b8">text</span><span class="token" style="color:#5F6364">&quot;</span><span class="token" style="color:#c92c2c"> </span><span class="token" style="color:#2f9c0a">name</span><span class="token attr-equals" style="color:#5F6364">=</span><span class="token" style="color:#5F6364">&quot;</span><span class="token" style="color:#1990b8">title</span><span class="token" style="color:#5F6364">&quot;</span><span class="token" style="color:#5F6364">&gt;</span><span>
</span><span></span><span class="token" style="color:#5F6364">&lt;/</span><span class="token" style="color:#c92c2c">form</span><span class="token" style="color:#5F6364">&gt;</span></code></pre><h2>モデルを指定してフォームを作成 ( form_for 的な使い方 )</h2><pre style="color:black;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;position:relative;margin:.5em 0;overflow:visible;padding:0;background-color:#fdfdfd;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;margin-bottom:1em"><code class="language-slim" style="color:black;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;max-height:inherit;height:inherit;padding:0 1em;display:block;overflow:auto"><span>= form_with model: Post.new do |f|
</span>  = f.text_field :title
</code></pre><p>生成される HTML。</p><pre style="color:black;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;position:relative;margin:.5em 0;overflow:visible;padding:0;background-color:#fdfdfd;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;margin-bottom:1em"><code class="language-html" style="color:black;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;max-height:inherit;height:inherit;padding:0 1em;display:block;overflow:auto"><span class="token" style="color:#5F6364">&lt;</span><span class="token" style="color:#c92c2c">form</span><span class="token" style="color:#c92c2c"> </span><span class="token" style="color:#2f9c0a">action</span><span class="token attr-equals" style="color:#5F6364">=</span><span class="token" style="color:#5F6364">&quot;</span><span class="token" style="color:#1990b8">/pots</span><span class="token" style="color:#5F6364">&quot;</span><span class="token" style="color:#c92c2c"> </span><span class="token" style="color:#2f9c0a">method</span><span class="token attr-equals" style="color:#5F6364">=</span><span class="token" style="color:#5F6364">&quot;</span><span class="token" style="color:#1990b8">post</span><span class="token" style="color:#5F6364">&quot;</span><span class="token" style="color:#c92c2c"> </span><span class="token" style="color:#2f9c0a">data-remote</span><span class="token attr-equals" style="color:#5F6364">=</span><span class="token" style="color:#5F6364">&quot;</span><span class="token" style="color:#1990b8">true</span><span class="token" style="color:#5F6364">&quot;</span><span class="token" style="color:#5F6364">&gt;</span><span>
</span><span>  </span><span class="token" style="color:#5F6364">&lt;</span><span class="token" style="color:#c92c2c">input</span><span class="token" style="color:#c92c2c"> </span><span class="token" style="color:#2f9c0a">type</span><span class="token attr-equals" style="color:#5F6364">=</span><span class="token" style="color:#5F6364">&quot;</span><span class="token" style="color:#1990b8">text</span><span class="token" style="color:#5F6364">&quot;</span><span class="token" style="color:#c92c2c"> </span><span class="token" style="color:#2f9c0a">name</span><span class="token attr-equals" style="color:#5F6364">=</span><span class="token" style="color:#5F6364">&quot;</span><span class="token" style="color:#1990b8">post[title]</span><span class="token" style="color:#5F6364">&quot;</span><span class="token" style="color:#5F6364">&gt;</span><span>
</span><span></span><span class="token" style="color:#5F6364">&lt;/</span><span class="token" style="color:#c92c2c">form</span><span class="token" style="color:#5F6364">&gt;</span></code></pre><div><p><a href="/">TOPへ戻る</a></p></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"articleData":{"id":"20191130183100","contentHtml":"\n## form_with\n新しいバージョンの rails なら `form_for, form_tag` は使用せずに `form_with` を使う事ができる。\n\nモデルの有無で書き方が変わる。\n\n### モデルが有るとき\n```ruby\nform_with model: 'モデル名' do |form|\n  # 中身\nend\n```\n\n### モデルが無いとき\n- URL で指定する\n```ruby\nform_with model: 'URL' do |form|\n  # 中身\nend\n```\n- PATH で指定する\n```ruby\nform_with model: 'PATH' do |form|\n  # 中身\nend\n```\n\n## オプション\nよく使うもの。\n\n|オプション|説明|デフォルト値|\n|-|-|-|\n:url|URL を指定|-\n:method|HTTP メソッド| POST\n:local| リモート送信を無効|false\n\n## URL からフォームを作成 ( form_for 的な使い方 )\n```slim\n= form_with url :posts_path do |f|\n  = f.text_field :title\n```\n\n生成される HTML。\n```html\n\u003cform action=\"/pots\" method=\"post\" data-remote=\"true\"\u003e\n  \u003cinput type=\"text\" name=\"title\"\u003e\n\u003c/form\u003e\n```\n\n## モデルを指定してフォームを作成 ( form_for 的な使い方 )\n```slim\n= form_with model: Post.new do |f|\n  = f.text_field :title\n```\n\n生成される HTML。\n```html\n\u003cform action=\"/pots\" method=\"post\" data-remote=\"true\"\u003e\n  \u003cinput type=\"text\" name=\"post[title]\"\u003e\n\u003c/form\u003e\n```","title":"form_with の使い方","date":20191130183100,"tags":["Ruby"]}},"__N_SSG":true},"page":"/articles/[id]","query":{"id":"20191130183100"},"buildId":"8VPh2w0QwyWiuxlWI8Hxt","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-8f31809deb7932dd0187.js"></script><script src="/_next/static/chunks/main-f7ca7a935b246c4edd14.js" async=""></script><script src="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" async=""></script><script src="/_next/static/chunks/framework.d2e6186d001d2275b0af.js" async=""></script><script src="/_next/static/chunks/commons.b2562460c774f5a57980.js" async=""></script><script src="/_next/static/chunks/pages/_app-b63af2e2dfcc0bffd9c0.js" async=""></script><script src="/_next/static/chunks/c5b568cee8545d966ddc8d89f9063461e084494a.c564a02921d697744263.js" async=""></script><script src="/_next/static/chunks/pages/articles/%5Bid%5D-565d4c3adc05a3ed7d91.js" async=""></script><script src="/_next/static/8VPh2w0QwyWiuxlWI8Hxt/_buildManifest.js" async=""></script><script src="/_next/static/8VPh2w0QwyWiuxlWI8Hxt/_ssgManifest.js" async=""></script></body></html>