<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>MyDocs</title><meta name="next-head-count" content="3"/><link rel="preload" href="/_next/static/css/718387ccdbc2fd6d5285.css" as="style"/><link rel="stylesheet" href="/_next/static/css/718387ccdbc2fd6d5285.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/webpack-189c53927ffd3caf09c3.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework-2f612445bd50b211f15a.js" as="script"/><link rel="preload" href="/_next/static/chunks/main-c8b51cc0a92c3008cd1b.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-7163558e7d92093a94d2.js" as="script"/><link rel="preload" href="/_next/static/chunks/996-109927db333074874af4.js" as="script"/><link rel="preload" href="/_next/static/chunks/394-1ac6c205f84cbd1b2925.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/articles/%5Bid%5D-ab036cc92d9ceaf2a9ff.js" as="script"/></head><body><div id="__next"><div><div><div class="bg-gray-600 h-10 leading-10 text-2xl"><a class="no-underline text-gray-100 mx-2" href="/">MyDocs</a></div></div><div class="mx-7"><h1><b># <!-- -->コマンドいろいろ</b></h1><p><a href="https://roadmap.sh/roadmaps">Developer Roadmaps</a> にあった DevOps コマンドをまとめておく.</p>
<h2>文字列操作</h2>
<h3>awk</h3>
<p>列を抽出する.</p>
<pre><div node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-bash" style="white-space:pre"><span>$ </span><span style="color:#a6e22e">echo</span><span> 1 2 3 4|awk </span><span style="color:#a6e22e">&#x27;{print $1}&#x27;</span><span>
</span>1
<span>$ </span><span style="color:#a6e22e">echo</span><span> 1 2 3 4|awk </span><span style="color:#a6e22e">&#x27;{print $2}&#x27;</span><span>
</span>2
</code></div></pre>
<p><code node="[object Object]">$0</code> だとすべて.</p>
<pre><div node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-bash" style="white-space:pre"><span>$ </span><span style="color:#a6e22e">echo</span><span> 1 2 3 4|awk </span><span style="color:#a6e22e">&#x27;{print $0}&#x27;</span><span>
</span>1 2 3 4
</code></div></pre>
<p>区切り文字の指定もできる.</p>
<pre><div node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-bash" style="white-space:pre"><span>$ </span><span style="color:#a6e22e">echo</span><span> 1:2:3:4|awk -F</span><span style="color:#a6e22e">&#x27;[:]&#x27;</span><span> </span><span style="color:#a6e22e">&#x27;{print $1}&#x27;</span><span>
</span>1
</code></div></pre>
<h3>sed</h3>
<p>文字列置換.</p>
<pre><div node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-bash" style="white-space:pre"><span>$ cat test.txt
</span>1 2 3 4 5
<span>$ sed </span><span style="color:#a6e22e">&#x27;s/3/333/g&#x27;</span><span> test.txt
</span>1 2 333 4 5
</code></div></pre>
<h3>grep</h3>
<p>文字列検索.</p>
<pre><div node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-bash" style="white-space:pre"><span>$ cat test.txt
</span>1
<!-- -->2
<!-- -->3
<!-- -->4
<!-- -->5
<!-- -->
<!-- -->$ cat test.txt | grep 3
<!-- -->3
</code></div></pre>
<p><code node="[object Object]">-v</code> は一致しないものを検索する.</p>
<h3>sort</h3>
<p>ソートする.</p>
<pre><div node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-bash" style="white-space:pre"><span>$ cat test.txt
</span>1
<!-- -->12
<!-- -->3
<!-- -->23
<!-- -->55
<!-- -->22
<!-- -->
<!-- -->$ sort test.txt
<!-- -->1
<!-- -->12
<!-- -->22
<!-- -->23
<!-- -->3
<!-- -->55
</code></div></pre>
<p><code node="[object Object]">-n</code> は数値として並べる.</p>
<pre><div node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-bash" style="white-space:pre"><span>$ sort -n test.txt
</span>1
<!-- -->3
<!-- -->12
<!-- -->22
<!-- -->23
<!-- -->55
</code></div></pre>
<p><code node="[object Object]">-r</code> は逆順として並べる.</p>
<pre><div node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-bash" style="white-space:pre"><span>$ sort -n -r test.txt
</span>55
<!-- -->23
<!-- -->22
<!-- -->12
<!-- -->3
<!-- -->1
</code></div></pre>
<h3>uniq</h3>
<p>重複した行を削除.</p>
<pre><div node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-bash" style="white-space:pre"><span>$ cat test.txt
</span>0123456789
<!-- -->abcdefghij
<!-- -->abcdefghij
<!-- -->ABCDEFGHIJ
<!-- -->9876543210
<!-- -->
<!-- -->$ uniq test.txt
<!-- -->0123456789
<!-- -->abcdefghij
<!-- -->ABCDEFGHIJ
<!-- -->9876543210
</code></div></pre>
<p><code node="[object Object]">-i</code> は大文字小文字を無視する.</p>
<pre><div node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-bash" style="white-space:pre"><span>$ uniq -i test.txt
</span>0123456789
<!-- -->abcdefghij
<!-- -->9876543210
</code></div></pre>
<h3>cat</h3>
<p>ファイル出力.</p>
<pre><div node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-bash" style="white-space:pre"><span>$ cat test.txt
</span>0123456789
<!-- -->abcdefghij
<!-- -->abcdefghij
<!-- -->ABCDEFGHIJ
<!-- -->9876543210
</code></div></pre>
<h3>cut</h3>
<p>awk で良さそう.</p>
<pre><div node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-bash" style="white-space:pre"><span>$ cat test.txt
</span>1:2:3
<!-- -->4:5:6
<!-- -->7:8:9
<!-- -->
<span>$ cut -f 2 -d </span><span style="color:#a6e22e">&quot;:&quot;</span><span> test.txt
</span>2
<!-- -->5
<!-- -->8
</code></div></pre>
<p><code node="[object Object]">awk</code> でやる場合.</p>
<pre><div node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-bash" style="white-space:pre"><span>$ cat test.txt |awk -F </span><span style="color:#a6e22e">&#x27;:&#x27;</span><span> </span><span style="color:#a6e22e">&#x27;{print $2}&#x27;</span><span>
</span>2
<!-- -->5
<!-- -->8
</code></div></pre>
<h3>echo</h3>
<p>文字列を表示する.</p>
<pre><div node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-bash" style="white-space:pre"><span>$ </span><span style="color:#a6e22e">echo</span><span> </span><span style="color:#a6e22e">&#x27;aaa&#x27;</span><span>
</span>aaa
</code></div></pre>
<h3>fmt</h3>
<p>整形.</p>
<pre><div node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-bash" style="white-space:pre"><span>$ cat test.txt
</span>1 2 3
<!-- -->4 5 6
<!-- -->7 8 9
<!-- -->
<!-- -->$ fmt test.txt
<!-- -->1 2 3 4 5 6 7 8 9
</code></div></pre>
<h3>tr</h3>
<p>文字の変換,削除する.</p>
<pre><div node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-bash" style="white-space:pre"><span>$ cat test.txt
</span>12345
<!-- -->abcde
<!-- -->ABCDE
<!-- -->
<!-- -->$ cat test.txt | tr abc XYZ
<!-- -->12345
<!-- -->XYZde
<!-- -->ABCDE
<!-- -->
<!-- -->$ cat test.txt | tr -d 123
<!-- -->45
<!-- -->abcde
<!-- -->ABCDE
</code></div></pre>
<h3>nl</h3>
<p>行数表示できる.</p>
<pre><div node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-bash" style="white-space:pre"><span>$ nl test.txt
</span>     1 12345
<!-- -->     2 abcde
<!-- -->     3 ABCDE
</code></div></pre>
<p>cat でやるなら <code node="[object Object]">-b</code> を使う.</p>
<pre><div node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-bash" style="white-space:pre"><span>$ cat -b test.txt
</span>     1 12345
<!-- -->     2 abcde
<!-- -->     3 ABCDE
</code></div></pre>
<h3>egrep</h3>
<p><code node="[object Object]">grep -E</code> と同じ意味.</p>
<p>拡張正規表現ってのが使える.普通の正規表現と何が違うかはよくわからない.</p>
<pre><div node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-bash" style="white-space:pre"><span>$ cat test.txt
</span>12345
<!-- -->bar
<!-- -->foo
<!-- -->
<span>$ grep -E </span><span style="color:#a6e22e">&#x27;^(bar|foo)&#x27;</span><span> test.txt
</span>bar
<!-- -->foo
</code></div></pre>
<h3>fgrep</h3>
<p><code node="[object Object]">grep -F</code> と同じ意味.</p>
<p>正規表現文字をそのまま検索できる.</p>
<pre><div node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-bash" style="white-space:pre"><span>$ cat test.txt
</span>12345
<!-- -->bar.foo
<!-- -->
<span>$ grep -F </span><span style="color:#a6e22e">&#x27;bar.foo&#x27;</span><span> test.txt
</span>bar.foo
</code></div></pre>
<h3>wc</h3>
<p>行数,単語数を数える.</p>
<pre><div node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-bash" style="white-space:pre"><span>$ cat test.txt
</span>Hello World!
</code></div></pre>
<p><code node="[object Object]">-m</code> は文字数を数える.</p>
<pre><div node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-bash" style="white-space:pre"><span>$ wc -m test.txt
</span>      13 test.txt
</code></div></pre>
<p><code node="[object Object]">-w</code> は単語数を数える.</p>
<pre><div node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-bash" style="white-space:pre"><span>$ wc -w test.txt
</span>       2 test.txt
</code></div></pre>
<h2>プロセス管理</h2>
<h3>ps</h3>
<p>全プロセスを表示する.</p>
<pre><div node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-bash" style="white-space:pre"><span>$ ps aux</span></code></div></pre>
<h3>top</h3>
<p>プロセス,CPU,メモリを表示.</p>
<p>デフォルトだと CPU 使用率順にソート.</p>
<p><code node="[object Object]">-a</code> でメモリ使用順にソート.</p>
<h3>htop</h3>
<p>top より見やすい.</p>
<p>Shift + P で CPU 使用率,Shift + M でメモリ使用率順.</p>
<h3>atop</h3>
<p>top コマンドの代替.</p>
<p>htop のほうが良さそう.</p>
<h3>lsof</h3>
<p>特定のポート番号を待ち受けているか,もしくはファイルを読み込んでいるかを調べるとき.</p>
<p>80 番ポートで実行中のプロセスを調べる.</p>
<pre><div node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-bash" style="white-space:pre"><span>$ lsof -i:80 -P</span></code></div></pre>
<p>特定のファイルを開いているプロセスを調べる.</p>
<pre><div node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-bash" style="white-space:pre"><span>$ lsof &lt;FILE&gt;</span></code></div></pre>
<p>コマンドを指定する.</p>
<pre><div node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-bash" style="white-space:pre"><span>$ lsof -c &lt;COMMAND&gt;</span></code></div></pre>
<h2>ネットワーク</h2>
<h3>nmap</h3>
<p>サーバの開いているポートを調べる.</p>
<pre><div node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-bash" style="white-space:pre"><span>$ nmap &lt;SERVER&gt;</span></code></div></pre>
<h3>tcpdump</h3>
<p>パケットをキャプチャする.</p>
<p>ホストを指定してキャプチャする.</p>
<pre><div node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-bash" style="white-space:pre"><span>$ tcpdump host &lt;HOST&gt;</span></code></div></pre>
<p>port を指定する.</p>
<pre><div node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-bash" style="white-space:pre"><span>$ tcpdump host &lt;HOST&gt; and port 22
</span>$ tcpdump host &lt;HOST&gt; or port 22
</code></div></pre>
<h3>ping</h3>
<p>パケットを送信して通信を確認.</p>
<h3>traceroute</h3>
<p>経路と応答を調べる.</p>
<p><code node="[object Object]">&lt;TARGET&gt;</code> までの経路と応答を調べる.</p>
<pre><div node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-bash" style="white-space:pre"><span>$ traceroute &lt;TARGET&gt;</span></code></div></pre>
<h3>mtr</h3>
<p>経路と応答を調べる.
traceroute とだいたい同じ.</p>
<h3>dig</h3>
<p>ドメイン名に対する IP を調べる.</p>
<pre><div node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-bash" style="white-space:pre"><span>$ dig www.google.co.jp</span></code></div></pre>
<h3>netstat</h3>
<p>ネットワーク関連の情報を表示.</p>
<p><code node="[object Object]">-r</code> でルーティングテーブルを表示する.</p>
<h2>システムパフォーマンス</h2>
<h3>nmon</h3>
<p>OS のベンチマークをとったりできる.</p>
<h3>iostat</h3>
<p>CPU 使用率と I/O デバイスの使用状況を調べる.</p>
<h3>sar</h3>
<p>メモリ,プロセス,スワップ, CPU 等の統計情報を調べる.</p>
<h3>vmstat</h3>
<p>仮想メモリや CPU,ディスク I/O の統計情報を調べる.</p>
<h2>その他</h2>
<h3>strace</h3>
<p>実行コマンドをトレースする.</p>
<pre><div node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-bash" style="white-space:pre"><span>$ strace ls</span></code></div></pre>
<h3>uname</h3>
<p>カーネル名を表示.</p>
<p><code node="[object Object]">-a</code> で全ての情報を表示する.</p>
<pre><div node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-bash" style="white-space:pre"><span>$ uname -a</span></code></div></pre>
<h3>df</h3>
<p>ディスクの空き容量を調べる.</p>
<p><code node="[object Object]">-h</code> で読みやすく表示.</p>
<pre><div node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-bash" style="white-space:pre"><span>$ df -h</span></code></div></pre>
<h3>history</h3>
<p>コマンドの履歴を表示.</p>
<p><code node="[object Object]">-d</code> で指定した番号の履歴を削除する.</p>
<pre><div node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-bash" style="white-space:pre"><span>$ </span><span style="color:#a6e22e">history</span><span> -d 10</span></code></div></pre> </div><br/></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"id":"20210109001701","fileContents":"{\n  \"title\": \"コマンドいろいろ\",\n  \"date\": 20210109001701,\n  \"tags\": [\n    \"linux\"\n  ],\n  \"bodyContent\": \"[Developer Roadmaps](https://roadmap.sh/roadmaps) にあった DevOps コマンドをまとめておく.\\n\\n## 文字列操作\\n### awk\\n列を抽出する.\\n```bash\\n$ echo 1 2 3 4|awk '{print $1}'\\n1\\n$ echo 1 2 3 4|awk '{print $2}'\\n2\\n```\\n\\n`$0` だとすべて.\\n```bash\\n$ echo 1 2 3 4|awk '{print $0}'\\n1 2 3 4\\n```\\n\\n区切り文字の指定もできる.\\n```bash\\n$ echo 1:2:3:4|awk -F'[:]' '{print $1}'\\n1\\n```\\n\\n### sed\\n文字列置換.\\n```bash\\n$ cat test.txt\\n1 2 3 4 5\\n$ sed 's/3/333/g' test.txt\\n1 2 333 4 5\\n```\\n\\n### grep\\n文字列検索.\\n```bash\\n$ cat test.txt\\n1\\n2\\n3\\n4\\n5\\n\\n$ cat test.txt | grep 3\\n3\\n```\\n\\n`-v` は一致しないものを検索する.\\n\\n### sort\\nソートする.\\n```bash\\n$ cat test.txt\\n1\\n12\\n3\\n23\\n55\\n22\\n\\n$ sort test.txt\\n1\\n12\\n22\\n23\\n3\\n55\\n```\\n\\n`-n` は数値として並べる.\\n```bash\\n$ sort -n test.txt\\n1\\n3\\n12\\n22\\n23\\n55\\n```\\n\\n`-r` は逆順として並べる.\\n```bash\\n$ sort -n -r test.txt\\n55\\n23\\n22\\n12\\n3\\n1\\n```\\n\\n### uniq\\n重複した行を削除.\\n```bash\\n$ cat test.txt\\n0123456789\\nabcdefghij\\nabcdefghij\\nABCDEFGHIJ\\n9876543210\\n\\n$ uniq test.txt\\n0123456789\\nabcdefghij\\nABCDEFGHIJ\\n9876543210\\n```\\n\\n`-i` は大文字小文字を無視する.\\n```bash\\n$ uniq -i test.txt\\n0123456789\\nabcdefghij\\n9876543210\\n```\\n\\n### cat\\nファイル出力.\\n```bash\\n$ cat test.txt\\n0123456789\\nabcdefghij\\nabcdefghij\\nABCDEFGHIJ\\n9876543210\\n```\\n\\n### cut\\nawk で良さそう.\\n```bash\\n$ cat test.txt\\n1:2:3\\n4:5:6\\n7:8:9\\n\\n$ cut -f 2 -d \\\":\\\" test.txt\\n2\\n5\\n8\\n```\\n\\n`awk` でやる場合.\\n```bash\\n$ cat test.txt |awk -F ':' '{print $2}'\\n2\\n5\\n8\\n```\\n\\n### echo\\n文字列を表示する.\\n```bash\\n$ echo 'aaa'\\naaa\\n```\\n\\n### fmt\\n整形.\\n```bash\\n$ cat test.txt\\n1 2 3\\n4 5 6\\n7 8 9\\n\\n$ fmt test.txt\\n1 2 3 4 5 6 7 8 9\\n```\\n\\n### tr\\n文字の変換,削除する.\\n```bash\\n$ cat test.txt\\n12345\\nabcde\\nABCDE\\n\\n$ cat test.txt | tr abc XYZ\\n12345\\nXYZde\\nABCDE\\n\\n$ cat test.txt | tr -d 123\\n45\\nabcde\\nABCDE\\n```\\n\\n### nl\\n行数表示できる.\\n```bash\\n$ nl test.txt\\n     1 12345\\n     2 abcde\\n     3 ABCDE\\n```\\n\\ncat でやるなら `-b` を使う.\\n```bash\\n$ cat -b test.txt\\n     1 12345\\n     2 abcde\\n     3 ABCDE\\n```\\n\\n### egrep\\n`grep -E` と同じ意味.\\n\\n拡張正規表現ってのが使える.普通の正規表現と何が違うかはよくわからない.\\n```bash\\n$ cat test.txt\\n12345\\nbar\\nfoo\\n\\n$ grep -E '^(bar|foo)' test.txt\\nbar\\nfoo\\n```\\n\\n### fgrep\\n`grep -F` と同じ意味.\\n\\n正規表現文字をそのまま検索できる.\\n```bash\\n$ cat test.txt\\n12345\\nbar.foo\\n\\n$ grep -F 'bar.foo' test.txt\\nbar.foo\\n```\\n\\n### wc\\n行数,単語数を数える.\\n```bash\\n$ cat test.txt\\nHello World!\\n```\\n\\n`-m` は文字数を数える.\\n```bash\\n$ wc -m test.txt\\n      13 test.txt\\n```\\n\\n`-w` は単語数を数える.\\n```bash\\n$ wc -w test.txt\\n       2 test.txt\\n```\\n\\n## プロセス管理\\n### ps\\n全プロセスを表示する.\\n```bash\\n$ ps aux\\n```\\n\\n### top\\nプロセス,CPU,メモリを表示.\\n\\nデフォルトだと CPU 使用率順にソート.\\n\\n`-a` でメモリ使用順にソート.\\n\\n### htop\\ntop より見やすい.\\n\\nShift + P で CPU 使用率,Shift + M でメモリ使用率順.\\n\\n### atop\\ntop コマンドの代替.\\n\\nhtop のほうが良さそう.\\n\\n### lsof\\n特定のポート番号を待ち受けているか,もしくはファイルを読み込んでいるかを調べるとき.\\n\\n80 番ポートで実行中のプロセスを調べる.\\n```bash\\n$ lsof -i:80 -P\\n```\\n\\n特定のファイルを開いているプロセスを調べる.\\n```bash\\n$ lsof \u003cFILE\u003e\\n```\\n\\nコマンドを指定する.\\n```bash\\n$ lsof -c \u003cCOMMAND\u003e\\n```\\n\\n## ネットワーク\\n### nmap\\nサーバの開いているポートを調べる.\\n```bash\\n$ nmap \u003cSERVER\u003e\\n```\\n\\n### tcpdump\\nパケットをキャプチャする.\\n\\nホストを指定してキャプチャする.\\n```bash\\n$ tcpdump host \u003cHOST\u003e\\n```\\n\\nport を指定する.\\n```bash\\n$ tcpdump host \u003cHOST\u003e and port 22\\n$ tcpdump host \u003cHOST\u003e or port 22\\n```\\n\\n### ping\\nパケットを送信して通信を確認.\\n\\n### traceroute\\n経路と応答を調べる.\\n\\n`\u003cTARGET\u003e` までの経路と応答を調べる.\\n```bash\\n$ traceroute \u003cTARGET\u003e\\n```\\n\\n### mtr\\n経路と応答を調べる.\\ntraceroute とだいたい同じ.\\n\\n### dig\\nドメイン名に対する IP を調べる.\\n```bash\\n$ dig www.google.co.jp\\n```\\n\\n### netstat\\nネットワーク関連の情報を表示.\\n\\n`-r` でルーティングテーブルを表示する.\\n\\n## システムパフォーマンス\\n### nmon\\nOS のベンチマークをとったりできる.\\n\\n### iostat\\nCPU 使用率と I/O デバイスの使用状況を調べる.\\n\\n### sar\\nメモリ,プロセス,スワップ, CPU 等の統計情報を調べる.\\n\\n### vmstat\\n仮想メモリや CPU,ディスク I/O の統計情報を調べる.\\n\\n## その他\\n### strace\\n実行コマンドをトレースする.\\n```bash\\n$ strace ls\\n```\\n\\n### uname\\nカーネル名を表示.\\n\\n`-a` で全ての情報を表示する.\\n```bash\\n$ uname -a\\n```\\n\\n### df\\nディスクの空き容量を調べる.\\n\\n`-h` で読みやすく表示.\\n```bash\\n$ df -h\\n```\\n\\n### history\\nコマンドの履歴を表示.\\n\\n`-d` で指定した番号の履歴を削除する.\\n```bash\\n$ history -d 10\\n```\",\n  \"bodyHtml\": \"\u003cp\u003e\u003ca href=\\\"https://roadmap.sh/roadmaps\\\"\u003eDeveloper Roadmaps\u003c/a\u003e にあった DevOps コマンドをまとめておく.\u003c/p\u003e\\n\u003ch2\u003e文字列操作\u003c/h2\u003e\\n\u003ch3\u003eawk\u003c/h3\u003e\\n\u003cp\u003e列を抽出する.\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs\\\"\u003e$ \u003cspan class=\\\"hljs-built_in\\\"\u003eecho\u003c/span\u003e 1 2 3 4|awk \u003cspan class=\\\"hljs-string\\\"\u003e\u0026#x27;{print $1}\u0026#x27;\u003c/span\u003e\\n1\\n$ \u003cspan class=\\\"hljs-built_in\\\"\u003eecho\u003c/span\u003e 1 2 3 4|awk \u003cspan class=\\\"hljs-string\\\"\u003e\u0026#x27;{print $2}\u0026#x27;\u003c/span\u003e\\n2\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003ccode\u003e$0\u003c/code\u003e だとすべて.\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs\\\"\u003e$ \u003cspan class=\\\"hljs-built_in\\\"\u003eecho\u003c/span\u003e 1 2 3 4|awk \u003cspan class=\\\"hljs-string\\\"\u003e\u0026#x27;{print $0}\u0026#x27;\u003c/span\u003e\\n1 2 3 4\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e区切り文字の指定もできる.\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs\\\"\u003e$ \u003cspan class=\\\"hljs-built_in\\\"\u003eecho\u003c/span\u003e 1:2:3:4|awk -F\u003cspan class=\\\"hljs-string\\\"\u003e\u0026#x27;[:]\u0026#x27;\u003c/span\u003e \u003cspan class=\\\"hljs-string\\\"\u003e\u0026#x27;{print $1}\u0026#x27;\u003c/span\u003e\\n1\u003c/code\u003e\u003c/pre\u003e\u003ch3\u003esed\u003c/h3\u003e\\n\u003cp\u003e文字列置換.\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs\\\"\u003e$ cat test.txt\\n1 2 3 4 5\\n$ sed \u003cspan class=\\\"hljs-string\\\"\u003e\u0026#x27;s/3/333/g\u0026#x27;\u003c/span\u003e test.txt\\n1 2 333 4 5\u003c/code\u003e\u003c/pre\u003e\u003ch3\u003egrep\u003c/h3\u003e\\n\u003cp\u003e文字列検索.\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs\\\"\u003e$ cat test.txt\\n1\\n2\\n3\\n4\\n5\\n\\n$ cat test.txt | grep 3\\n3\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003ccode\u003e-v\u003c/code\u003e は一致しないものを検索する.\u003c/p\u003e\\n\u003ch3\u003esort\u003c/h3\u003e\\n\u003cp\u003eソートする.\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs\\\"\u003e$ cat test.txt\\n1\\n12\\n3\\n23\\n55\\n22\\n\\n$ sort test.txt\\n1\\n12\\n22\\n23\\n3\\n55\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003ccode\u003e-n\u003c/code\u003e は数値として並べる.\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs\\\"\u003e$ sort -n test.txt\\n1\\n3\\n12\\n22\\n23\\n55\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003ccode\u003e-r\u003c/code\u003e は逆順として並べる.\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs\\\"\u003e$ sort -n -r test.txt\\n55\\n23\\n22\\n12\\n3\\n1\u003c/code\u003e\u003c/pre\u003e\u003ch3\u003euniq\u003c/h3\u003e\\n\u003cp\u003e重複した行を削除.\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs\\\"\u003e$ cat test.txt\\n0123456789\\nabcdefghij\\nabcdefghij\\nABCDEFGHIJ\\n9876543210\\n\\n$ uniq test.txt\\n0123456789\\nabcdefghij\\nABCDEFGHIJ\\n9876543210\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003ccode\u003e-i\u003c/code\u003e は大文字小文字を無視する.\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs\\\"\u003e$ uniq -i test.txt\\n0123456789\\nabcdefghij\\n9876543210\u003c/code\u003e\u003c/pre\u003e\u003ch3\u003ecat\u003c/h3\u003e\\n\u003cp\u003eファイル出力.\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs\\\"\u003e$ cat test.txt\\n0123456789\\nabcdefghij\\nabcdefghij\\nABCDEFGHIJ\\n9876543210\u003c/code\u003e\u003c/pre\u003e\u003ch3\u003ecut\u003c/h3\u003e\\n\u003cp\u003eawk で良さそう.\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs\\\"\u003e$ cat test.txt\\n1:2:3\\n4:5:6\\n7:8:9\\n\\n$ cut -f 2 -d \u003cspan class=\\\"hljs-string\\\"\u003e\u0026quot;:\u0026quot;\u003c/span\u003e test.txt\\n2\\n5\\n8\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003ccode\u003eawk\u003c/code\u003e でやる場合.\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs\\\"\u003e$ cat test.txt |awk -F \u003cspan class=\\\"hljs-string\\\"\u003e\u0026#x27;:\u0026#x27;\u003c/span\u003e \u003cspan class=\\\"hljs-string\\\"\u003e\u0026#x27;{print $2}\u0026#x27;\u003c/span\u003e\\n2\\n5\\n8\u003c/code\u003e\u003c/pre\u003e\u003ch3\u003eecho\u003c/h3\u003e\\n\u003cp\u003e文字列を表示する.\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs\\\"\u003e$ \u003cspan class=\\\"hljs-built_in\\\"\u003eecho\u003c/span\u003e \u003cspan class=\\\"hljs-string\\\"\u003e\u0026#x27;aaa\u0026#x27;\u003c/span\u003e\\naaa\u003c/code\u003e\u003c/pre\u003e\u003ch3\u003efmt\u003c/h3\u003e\\n\u003cp\u003e整形.\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs\\\"\u003e$ cat test.txt\\n1 2 3\\n4 5 6\\n7 8 9\\n\\n$ fmt test.txt\\n1 2 3 4 5 6 7 8 9\u003c/code\u003e\u003c/pre\u003e\u003ch3\u003etr\u003c/h3\u003e\\n\u003cp\u003e文字の変換,削除する.\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs\\\"\u003e$ cat test.txt\\n12345\\nabcde\\nABCDE\\n\\n$ cat test.txt | tr abc XYZ\\n12345\\nXYZde\\nABCDE\\n\\n$ cat test.txt | tr -d 123\\n45\\nabcde\\nABCDE\u003c/code\u003e\u003c/pre\u003e\u003ch3\u003enl\u003c/h3\u003e\\n\u003cp\u003e行数表示できる.\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs\\\"\u003e$ nl test.txt\\n     1 12345\\n     2 abcde\\n     3 ABCDE\u003c/code\u003e\u003c/pre\u003e\u003cp\u003ecat でやるなら \u003ccode\u003e-b\u003c/code\u003e を使う.\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs\\\"\u003e$ cat -b test.txt\\n     1 12345\\n     2 abcde\\n     3 ABCDE\u003c/code\u003e\u003c/pre\u003e\u003ch3\u003eegrep\u003c/h3\u003e\\n\u003cp\u003e\u003ccode\u003egrep -E\u003c/code\u003e と同じ意味.\u003c/p\u003e\\n\u003cp\u003e拡張正規表現ってのが使える.普通の正規表現と何が違うかはよくわからない.\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs\\\"\u003e$ cat test.txt\\n12345\\nbar\\nfoo\\n\\n$ grep -E \u003cspan class=\\\"hljs-string\\\"\u003e\u0026#x27;^(bar|foo)\u0026#x27;\u003c/span\u003e test.txt\\nbar\\nfoo\u003c/code\u003e\u003c/pre\u003e\u003ch3\u003efgrep\u003c/h3\u003e\\n\u003cp\u003e\u003ccode\u003egrep -F\u003c/code\u003e と同じ意味.\u003c/p\u003e\\n\u003cp\u003e正規表現文字をそのまま検索できる.\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs\\\"\u003e$ cat test.txt\\n12345\\nbar.foo\\n\\n$ grep -F \u003cspan class=\\\"hljs-string\\\"\u003e\u0026#x27;bar.foo\u0026#x27;\u003c/span\u003e test.txt\\nbar.foo\u003c/code\u003e\u003c/pre\u003e\u003ch3\u003ewc\u003c/h3\u003e\\n\u003cp\u003e行数,単語数を数える.\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs\\\"\u003e$ cat test.txt\\nHello World!\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003ccode\u003e-m\u003c/code\u003e は文字数を数える.\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs\\\"\u003e$ wc -m test.txt\\n      13 test.txt\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003ccode\u003e-w\u003c/code\u003e は単語数を数える.\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs\\\"\u003e$ wc -w test.txt\\n       2 test.txt\u003c/code\u003e\u003c/pre\u003e\u003ch2\u003eプロセス管理\u003c/h2\u003e\\n\u003ch3\u003eps\u003c/h3\u003e\\n\u003cp\u003e全プロセスを表示する.\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs\\\"\u003e$ ps aux\u003c/code\u003e\u003c/pre\u003e\u003ch3\u003etop\u003c/h3\u003e\\n\u003cp\u003eプロセス,CPU,メモリを表示.\u003c/p\u003e\\n\u003cp\u003eデフォルトだと CPU 使用率順にソート.\u003c/p\u003e\\n\u003cp\u003e\u003ccode\u003e-a\u003c/code\u003e でメモリ使用順にソート.\u003c/p\u003e\\n\u003ch3\u003ehtop\u003c/h3\u003e\\n\u003cp\u003etop より見やすい.\u003c/p\u003e\\n\u003cp\u003eShift + P で CPU 使用率,Shift + M でメモリ使用率順.\u003c/p\u003e\\n\u003ch3\u003eatop\u003c/h3\u003e\\n\u003cp\u003etop コマンドの代替.\u003c/p\u003e\\n\u003cp\u003ehtop のほうが良さそう.\u003c/p\u003e\\n\u003ch3\u003elsof\u003c/h3\u003e\\n\u003cp\u003e特定のポート番号を待ち受けているか,もしくはファイルを読み込んでいるかを調べるとき.\u003c/p\u003e\\n\u003cp\u003e80 番ポートで実行中のプロセスを調べる.\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs\\\"\u003e$ lsof -i:80 -P\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e特定のファイルを開いているプロセスを調べる.\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs\\\"\u003e$ lsof \u0026lt;FILE\u0026gt;\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eコマンドを指定する.\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs\\\"\u003e$ lsof -c \u0026lt;COMMAND\u0026gt;\u003c/code\u003e\u003c/pre\u003e\u003ch2\u003eネットワーク\u003c/h2\u003e\\n\u003ch3\u003enmap\u003c/h3\u003e\\n\u003cp\u003eサーバの開いているポートを調べる.\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs\\\"\u003e$ nmap \u0026lt;SERVER\u0026gt;\u003c/code\u003e\u003c/pre\u003e\u003ch3\u003etcpdump\u003c/h3\u003e\\n\u003cp\u003eパケットをキャプチャする.\u003c/p\u003e\\n\u003cp\u003eホストを指定してキャプチャする.\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs\\\"\u003e$ tcpdump host \u0026lt;HOST\u0026gt;\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eport を指定する.\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs\\\"\u003e$ tcpdump host \u0026lt;HOST\u0026gt; and port 22\\n$ tcpdump host \u0026lt;HOST\u0026gt; or port 22\u003c/code\u003e\u003c/pre\u003e\u003ch3\u003eping\u003c/h3\u003e\\n\u003cp\u003eパケットを送信して通信を確認.\u003c/p\u003e\\n\u003ch3\u003etraceroute\u003c/h3\u003e\\n\u003cp\u003e経路と応答を調べる.\u003c/p\u003e\\n\u003cp\u003e\u003ccode\u003e\u0026lt;TARGET\u0026gt;\u003c/code\u003e までの経路と応答を調べる.\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs\\\"\u003e$ traceroute \u0026lt;TARGET\u0026gt;\u003c/code\u003e\u003c/pre\u003e\u003ch3\u003emtr\u003c/h3\u003e\\n\u003cp\u003e経路と応答を調べる.\\ntraceroute とだいたい同じ.\u003c/p\u003e\\n\u003ch3\u003edig\u003c/h3\u003e\\n\u003cp\u003eドメイン名に対する IP を調べる.\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs\\\"\u003e$ dig www.google.co.jp\u003c/code\u003e\u003c/pre\u003e\u003ch3\u003enetstat\u003c/h3\u003e\\n\u003cp\u003eネットワーク関連の情報を表示.\u003c/p\u003e\\n\u003cp\u003e\u003ccode\u003e-r\u003c/code\u003e でルーティングテーブルを表示する.\u003c/p\u003e\\n\u003ch2\u003eシステムパフォーマンス\u003c/h2\u003e\\n\u003ch3\u003enmon\u003c/h3\u003e\\n\u003cp\u003eOS のベンチマークをとったりできる.\u003c/p\u003e\\n\u003ch3\u003eiostat\u003c/h3\u003e\\n\u003cp\u003eCPU 使用率と I/O デバイスの使用状況を調べる.\u003c/p\u003e\\n\u003ch3\u003esar\u003c/h3\u003e\\n\u003cp\u003eメモリ,プロセス,スワップ, CPU 等の統計情報を調べる.\u003c/p\u003e\\n\u003ch3\u003evmstat\u003c/h3\u003e\\n\u003cp\u003e仮想メモリや CPU,ディスク I/O の統計情報を調べる.\u003c/p\u003e\\n\u003ch2\u003eその他\u003c/h2\u003e\\n\u003ch3\u003estrace\u003c/h3\u003e\\n\u003cp\u003e実行コマンドをトレースする.\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs\\\"\u003e$ strace ls\u003c/code\u003e\u003c/pre\u003e\u003ch3\u003euname\u003c/h3\u003e\\n\u003cp\u003eカーネル名を表示.\u003c/p\u003e\\n\u003cp\u003e\u003ccode\u003e-a\u003c/code\u003e で全ての情報を表示する.\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs\\\"\u003e$ uname -a\u003c/code\u003e\u003c/pre\u003e\u003ch3\u003edf\u003c/h3\u003e\\n\u003cp\u003eディスクの空き容量を調べる.\u003c/p\u003e\\n\u003cp\u003e\u003ccode\u003e-h\u003c/code\u003e で読みやすく表示.\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs\\\"\u003e$ df -h\u003c/code\u003e\u003c/pre\u003e\u003ch3\u003ehistory\u003c/h3\u003e\\n\u003cp\u003eコマンドの履歴を表示.\u003c/p\u003e\\n\u003cp\u003e\u003ccode\u003e-d\u003c/code\u003e で指定した番号の履歴を削除する.\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs\\\"\u003e$ \u003cspan class=\\\"hljs-built_in\\\"\u003ehistory\u003c/span\u003e -d 10\u003c/code\u003e\u003c/pre\u003e\",\n  \"dir\": \"articles\",\n  \"base\": \"20210109001701.json\",\n  \"ext\": \".json\",\n  \"sourceBase\": \"20210109001701.md\",\n  \"sourceExt\": \".md\"\n}"}},"__N_SSG":true},"page":"/articles/[id]","query":{"id":"20210109001701"},"buildId":"R9ACjQ0_AUxQIfoug3msX","isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-7b08e4c67f4f1b892f4b.js"></script><script src="/_next/static/chunks/webpack-189c53927ffd3caf09c3.js" async=""></script><script src="/_next/static/chunks/framework-2f612445bd50b211f15a.js" async=""></script><script src="/_next/static/chunks/main-c8b51cc0a92c3008cd1b.js" async=""></script><script src="/_next/static/chunks/pages/_app-7163558e7d92093a94d2.js" async=""></script><script src="/_next/static/chunks/996-109927db333074874af4.js" async=""></script><script src="/_next/static/chunks/394-1ac6c205f84cbd1b2925.js" async=""></script><script src="/_next/static/chunks/pages/articles/%5Bid%5D-ab036cc92d9ceaf2a9ff.js" async=""></script><script src="/_next/static/R9ACjQ0_AUxQIfoug3msX/_buildManifest.js" async=""></script><script src="/_next/static/R9ACjQ0_AUxQIfoug3msX/_ssgManifest.js" async=""></script></body></html>