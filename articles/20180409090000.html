<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>MyDocs</title><meta name="next-head-count" content="3"/><link rel="preload" href="/_next/static/css/718387ccdbc2fd6d5285.css" as="style"/><link rel="stylesheet" href="/_next/static/css/718387ccdbc2fd6d5285.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/webpack-189c53927ffd3caf09c3.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework-2f612445bd50b211f15a.js" as="script"/><link rel="preload" href="/_next/static/chunks/main-c8b51cc0a92c3008cd1b.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-7163558e7d92093a94d2.js" as="script"/><link rel="preload" href="/_next/static/chunks/996-109927db333074874af4.js" as="script"/><link rel="preload" href="/_next/static/chunks/394-1ac6c205f84cbd1b2925.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/articles/%5Bid%5D-ab036cc92d9ceaf2a9ff.js" as="script"/></head><body><div id="__next"><div><div><div class="bg-gray-600 h-10 leading-10 text-2xl"><a class="no-underline text-gray-100 mx-2" href="/">MyDocs</a></div></div><div class="mx-7"><h1><b># <!-- -->Ansible で MacBook を管理</b></h1><p>MacBook の環境を管理する.</p>
<h2>環境</h2>
<pre><div node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-bash" style="white-space:pre"><span style="color:#75715e"># brew と brew cask は導入済み</span><span>
</span>$ brew install ansible
<!-- -->
<span></span><span style="color:#75715e"># 上記,コマンドを実行済み</span><span>
</span>$ ansible --version
<!-- -->ansible 2.5.0
</code></div></pre>
<p>今回用意した 2 つのファイル.</p>
<ul>
<li>hosts</li>
</ul>
<pre><div node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-hosts" style="white-space:pre"><span style="color:#bf79db">localhost</span></code></div></pre>
<ul>
<li>localhost.yml</li>
</ul>
<pre><div node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-yaml" style="white-space:pre"><span style="color:#75715e">---</span><span>
</span><span>  </span><span style="color:#a6e22e">-</span><span> </span><span class="hljs-attr">hosts:</span><span> </span><span style="color:#a6e22e">localhost</span><span>
</span><span>    </span><span class="hljs-attr">connection:</span><span> </span><span style="color:#a6e22e">local</span><span>
</span><span>    </span><span class="hljs-attr">gather_facts:</span><span> </span><span style="color:#f92672;font-weight:bold">no</span><span>
</span><span>    </span><span class="hljs-attr">become:</span><span> </span><span style="color:#f92672;font-weight:bold">no</span><span>
</span>
<span>    </span><span class="hljs-attr">vars:</span><span>
</span><span>      </span><span class="hljs-attr">homebrew_packages:</span><span>
</span><span>        </span><span style="color:#a6e22e">-</span><span> </span><span class="hljs-attr">name:</span><span> </span><span style="color:#a6e22e">fish</span><span>
</span><span>        </span><span style="color:#a6e22e">-</span><span> </span><span class="hljs-attr">name:</span><span> </span><span style="color:#a6e22e">git</span><span>
</span><span>        </span><span style="color:#a6e22e">-</span><span> </span><span class="hljs-attr">name:</span><span> </span><span style="color:#a6e22e">node</span><span>
</span><span>        </span><span style="color:#a6e22e">-</span><span> </span><span class="hljs-attr">name:</span><span> </span><span style="color:#a6e22e">pyenv</span><span>
</span><span>        </span><span style="color:#a6e22e">-</span><span> </span><span class="hljs-attr">name:</span><span> </span><span style="color:#a6e22e">python</span><span>
</span><span>        </span><span style="color:#a6e22e">-</span><span> </span><span class="hljs-attr">name:</span><span> </span><span style="color:#a6e22e">tree</span><span>
</span><span>        </span><span style="color:#a6e22e">-</span><span> </span><span class="hljs-attr">name:</span><span> </span><span style="color:#a6e22e">vim</span><span>
</span>
<span>      </span><span class="hljs-attr">homebrew_cask_packages:</span><span>
</span><span>        </span><span style="color:#a6e22e">-</span><span> </span><span class="hljs-attr">name:</span><span> </span><span style="color:#a6e22e">atom</span><span>
</span><span>        </span><span style="color:#a6e22e">-</span><span> </span><span class="hljs-attr">name:</span><span> </span><span style="color:#a6e22e">docker</span><span>
</span><span>        </span><span style="color:#a6e22e">-</span><span> </span><span class="hljs-attr">name:</span><span> </span><span style="color:#a6e22e">dropbox</span><span>
</span><span>        </span><span style="color:#a6e22e">-</span><span> </span><span class="hljs-attr">name:</span><span> </span><span style="color:#a6e22e">evernote</span><span>
</span><span>        </span><span style="color:#a6e22e">-</span><span> </span><span class="hljs-attr">name:</span><span> </span><span style="color:#a6e22e">google-chrome</span><span>
</span><span>        </span><span style="color:#a6e22e">-</span><span> </span><span class="hljs-attr">name:</span><span> </span><span style="color:#a6e22e">google-drive</span><span>
</span><span>        </span><span style="color:#a6e22e">-</span><span> </span><span class="hljs-attr">name:</span><span> </span><span style="color:#a6e22e">iTerm2</span><span>
</span><span>        </span><span style="color:#a6e22e">-</span><span> </span><span class="hljs-attr">name:</span><span> </span><span style="color:#a6e22e">slack</span><span>
</span><span>        </span><span style="color:#a6e22e">-</span><span> </span><span class="hljs-attr">name:</span><span> </span><span style="color:#a6e22e">vagrant</span><span>
</span><span>        </span><span style="color:#a6e22e">-</span><span> </span><span class="hljs-attr">name:</span><span> </span><span style="color:#a6e22e">virtualbox</span><span>
</span>
<span>    </span><span class="hljs-attr">tasks:</span><span>
</span><span>        </span><span style="color:#a6e22e">-</span><span> </span><span class="hljs-attr">name:</span><span> </span><span style="color:#a6e22e">update</span><span> </span><span style="color:#a6e22e">homebrew</span><span>
</span><span>          </span><span class="hljs-attr">homebrew:</span><span> </span><span style="color:#a6e22e">update_homebrew=yes</span><span>
</span>
<span>        </span><span style="color:#75715e"># brew</span><span>
</span><span>        </span><span style="color:#a6e22e">-</span><span> </span><span class="hljs-attr">name:</span><span> </span><span style="color:#a6e22e">install</span><span> </span><span style="color:#a6e22e">homebrew_packages</span><span>
</span><span>          </span><span class="hljs-attr">homebrew:</span><span>
</span><span>            </span><span style="color:#a6e22e">name={{</span><span> </span><span style="color:#a6e22e">item.name</span><span> </span><span style="color:#a6e22e">}}</span><span>
</span><span>          </span><span class="hljs-attr">with_items:</span><span> </span><span style="color:#a6e22e">&#x27;</span><span style="color:#a6e22e">{{ homebrew_packages }}</span><span style="color:#a6e22e">&#x27;</span><span>
</span>
<span>        </span><span style="color:#75715e"># homebrew_cask</span><span>
</span><span>        </span><span style="color:#a6e22e">-</span><span> </span><span class="hljs-attr">name:</span><span> </span><span style="color:#a6e22e">install</span><span> </span><span style="color:#a6e22e">homebrew_cask_packages</span><span>
</span><span>          </span><span class="hljs-attr">homebrew_cask:</span><span>
</span><span>            </span><span style="color:#a6e22e">name={{</span><span> </span><span style="color:#a6e22e">item.name</span><span> </span><span style="color:#a6e22e">}}</span><span>
</span><span>          </span><span class="hljs-attr">with_items:</span><span> </span><span style="color:#a6e22e">&#x27;</span><span style="color:#a6e22e">{{ homebrew_cask_packages }}</span><span style="color:#a6e22e">&#x27;</span></code></div></pre>
<p>実行.</p>
<pre><div node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-bash" style="white-space:pre"><span>$ ansible-playbook -i hosts localhostsyml</span></code></div></pre>
<p><a href="https://github.com/ritarock/dotfiles/tree/master/.macbook-provisioning">ソースコード</a></p> </div><br/></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"id":"20180409090000","fileContents":"{\n  \"title\": \"Ansible で MacBook を管理\",\n  \"date\": 20180409090000,\n  \"tags\": [\n    \"ansible\",\n    \"mac\"\n  ],\n  \"bodyContent\": \"MacBook の環境を管理する.\\n\\n## 環境\\n```bash\\n# brew と brew cask は導入済み\\n$ brew install ansible\\n\\n# 上記,コマンドを実行済み\\n$ ansible --version\\nansible 2.5.0\\n```\\n\\n今回用意した 2 つのファイル.\\n\\n- hosts\\n```hosts\\nlocalhost\\n```\\n\\n- localhost.yml\\n```yaml\\n---\\n  - hosts: localhost\\n    connection: local\\n    gather_facts: no\\n    become: no\\n\\n    vars:\\n      homebrew_packages:\\n        - name: fish\\n        - name: git\\n        - name: node\\n        - name: pyenv\\n        - name: python\\n        - name: tree\\n        - name: vim\\n\\n      homebrew_cask_packages:\\n        - name: atom\\n        - name: docker\\n        - name: dropbox\\n        - name: evernote\\n        - name: google-chrome\\n        - name: google-drive\\n        - name: iTerm2\\n        - name: slack\\n        - name: vagrant\\n        - name: virtualbox\\n\\n    tasks:\\n        - name: update homebrew\\n          homebrew: update_homebrew=yes\\n\\n        # brew\\n        - name: install homebrew_packages\\n          homebrew:\\n            name={{ item.name }}\\n          with_items: '{{ homebrew_packages }}'\\n\\n        # homebrew_cask\\n        - name: install homebrew_cask_packages\\n          homebrew_cask:\\n            name={{ item.name }}\\n          with_items: '{{ homebrew_cask_packages }}'\\n```\\n\\n実行.\\n```bash\\n$ ansible-playbook -i hosts localhostsyml\\n```\\n\\n[ソースコード](https://github.com/ritarock/dotfiles/tree/master/.macbook-provisioning)\",\n  \"bodyHtml\": \"\u003cp\u003eMacBook の環境を管理する.\u003c/p\u003e\\n\u003ch2\u003e環境\u003c/h2\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs\\\"\u003e\u003cspan class=\\\"hljs-comment\\\"\u003e# brew と brew cask は導入済み\u003c/span\u003e\\n$ brew install ansible\\n\\n\u003cspan class=\\\"hljs-comment\\\"\u003e# 上記,コマンドを実行済み\u003c/span\u003e\\n$ ansible --version\\nansible 2.5.0\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e今回用意した 2 つのファイル.\u003c/p\u003e\\n\u003cul\u003e\\n\u003cli\u003ehosts\u003c/li\u003e\\n\u003c/ul\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs\\\"\u003elocalhost\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\\n\u003cli\u003elocalhost.yml\u003c/li\u003e\\n\u003c/ul\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs\\\"\u003e\u003cspan class=\\\"hljs-meta\\\"\u003e---\u003c/span\u003e\\n  \u003cspan class=\\\"hljs-bullet\\\"\u003e-\u003c/span\u003e \u003cspan class=\\\"hljs-attr\\\"\u003ehosts:\u003c/span\u003e \u003cspan class=\\\"hljs-string\\\"\u003elocalhost\u003c/span\u003e\\n    \u003cspan class=\\\"hljs-attr\\\"\u003econnection:\u003c/span\u003e \u003cspan class=\\\"hljs-string\\\"\u003elocal\u003c/span\u003e\\n    \u003cspan class=\\\"hljs-attr\\\"\u003egather_facts:\u003c/span\u003e \u003cspan class=\\\"hljs-literal\\\"\u003eno\u003c/span\u003e\\n    \u003cspan class=\\\"hljs-attr\\\"\u003ebecome:\u003c/span\u003e \u003cspan class=\\\"hljs-literal\\\"\u003eno\u003c/span\u003e\\n\\n    \u003cspan class=\\\"hljs-attr\\\"\u003evars:\u003c/span\u003e\\n      \u003cspan class=\\\"hljs-attr\\\"\u003ehomebrew_packages:\u003c/span\u003e\\n        \u003cspan class=\\\"hljs-bullet\\\"\u003e-\u003c/span\u003e \u003cspan class=\\\"hljs-attr\\\"\u003ename:\u003c/span\u003e \u003cspan class=\\\"hljs-string\\\"\u003efish\u003c/span\u003e\\n        \u003cspan class=\\\"hljs-bullet\\\"\u003e-\u003c/span\u003e \u003cspan class=\\\"hljs-attr\\\"\u003ename:\u003c/span\u003e \u003cspan class=\\\"hljs-string\\\"\u003egit\u003c/span\u003e\\n        \u003cspan class=\\\"hljs-bullet\\\"\u003e-\u003c/span\u003e \u003cspan class=\\\"hljs-attr\\\"\u003ename:\u003c/span\u003e \u003cspan class=\\\"hljs-string\\\"\u003enode\u003c/span\u003e\\n        \u003cspan class=\\\"hljs-bullet\\\"\u003e-\u003c/span\u003e \u003cspan class=\\\"hljs-attr\\\"\u003ename:\u003c/span\u003e \u003cspan class=\\\"hljs-string\\\"\u003epyenv\u003c/span\u003e\\n        \u003cspan class=\\\"hljs-bullet\\\"\u003e-\u003c/span\u003e \u003cspan class=\\\"hljs-attr\\\"\u003ename:\u003c/span\u003e \u003cspan class=\\\"hljs-string\\\"\u003epython\u003c/span\u003e\\n        \u003cspan class=\\\"hljs-bullet\\\"\u003e-\u003c/span\u003e \u003cspan class=\\\"hljs-attr\\\"\u003ename:\u003c/span\u003e \u003cspan class=\\\"hljs-string\\\"\u003etree\u003c/span\u003e\\n        \u003cspan class=\\\"hljs-bullet\\\"\u003e-\u003c/span\u003e \u003cspan class=\\\"hljs-attr\\\"\u003ename:\u003c/span\u003e \u003cspan class=\\\"hljs-string\\\"\u003evim\u003c/span\u003e\\n\\n      \u003cspan class=\\\"hljs-attr\\\"\u003ehomebrew_cask_packages:\u003c/span\u003e\\n        \u003cspan class=\\\"hljs-bullet\\\"\u003e-\u003c/span\u003e \u003cspan class=\\\"hljs-attr\\\"\u003ename:\u003c/span\u003e \u003cspan class=\\\"hljs-string\\\"\u003eatom\u003c/span\u003e\\n        \u003cspan class=\\\"hljs-bullet\\\"\u003e-\u003c/span\u003e \u003cspan class=\\\"hljs-attr\\\"\u003ename:\u003c/span\u003e \u003cspan class=\\\"hljs-string\\\"\u003edocker\u003c/span\u003e\\n        \u003cspan class=\\\"hljs-bullet\\\"\u003e-\u003c/span\u003e \u003cspan class=\\\"hljs-attr\\\"\u003ename:\u003c/span\u003e \u003cspan class=\\\"hljs-string\\\"\u003edropbox\u003c/span\u003e\\n        \u003cspan class=\\\"hljs-bullet\\\"\u003e-\u003c/span\u003e \u003cspan class=\\\"hljs-attr\\\"\u003ename:\u003c/span\u003e \u003cspan class=\\\"hljs-string\\\"\u003eevernote\u003c/span\u003e\\n        \u003cspan class=\\\"hljs-bullet\\\"\u003e-\u003c/span\u003e \u003cspan class=\\\"hljs-attr\\\"\u003ename:\u003c/span\u003e \u003cspan class=\\\"hljs-string\\\"\u003egoogle-chrome\u003c/span\u003e\\n        \u003cspan class=\\\"hljs-bullet\\\"\u003e-\u003c/span\u003e \u003cspan class=\\\"hljs-attr\\\"\u003ename:\u003c/span\u003e \u003cspan class=\\\"hljs-string\\\"\u003egoogle-drive\u003c/span\u003e\\n        \u003cspan class=\\\"hljs-bullet\\\"\u003e-\u003c/span\u003e \u003cspan class=\\\"hljs-attr\\\"\u003ename:\u003c/span\u003e \u003cspan class=\\\"hljs-string\\\"\u003eiTerm2\u003c/span\u003e\\n        \u003cspan class=\\\"hljs-bullet\\\"\u003e-\u003c/span\u003e \u003cspan class=\\\"hljs-attr\\\"\u003ename:\u003c/span\u003e \u003cspan class=\\\"hljs-string\\\"\u003eslack\u003c/span\u003e\\n        \u003cspan class=\\\"hljs-bullet\\\"\u003e-\u003c/span\u003e \u003cspan class=\\\"hljs-attr\\\"\u003ename:\u003c/span\u003e \u003cspan class=\\\"hljs-string\\\"\u003evagrant\u003c/span\u003e\\n        \u003cspan class=\\\"hljs-bullet\\\"\u003e-\u003c/span\u003e \u003cspan class=\\\"hljs-attr\\\"\u003ename:\u003c/span\u003e \u003cspan class=\\\"hljs-string\\\"\u003evirtualbox\u003c/span\u003e\\n\\n    \u003cspan class=\\\"hljs-attr\\\"\u003etasks:\u003c/span\u003e\\n        \u003cspan class=\\\"hljs-bullet\\\"\u003e-\u003c/span\u003e \u003cspan class=\\\"hljs-attr\\\"\u003ename:\u003c/span\u003e \u003cspan class=\\\"hljs-string\\\"\u003eupdate\u003c/span\u003e \u003cspan class=\\\"hljs-string\\\"\u003ehomebrew\u003c/span\u003e\\n          \u003cspan class=\\\"hljs-attr\\\"\u003ehomebrew:\u003c/span\u003e \u003cspan class=\\\"hljs-string\\\"\u003eupdate_homebrew=yes\u003c/span\u003e\\n\\n        \u003cspan class=\\\"hljs-comment\\\"\u003e# brew\u003c/span\u003e\\n        \u003cspan class=\\\"hljs-bullet\\\"\u003e-\u003c/span\u003e \u003cspan class=\\\"hljs-attr\\\"\u003ename:\u003c/span\u003e \u003cspan class=\\\"hljs-string\\\"\u003einstall\u003c/span\u003e \u003cspan class=\\\"hljs-string\\\"\u003ehomebrew_packages\u003c/span\u003e\\n          \u003cspan class=\\\"hljs-attr\\\"\u003ehomebrew:\u003c/span\u003e\\n            \u003cspan class=\\\"hljs-string\\\"\u003ename={{\u003c/span\u003e \u003cspan class=\\\"hljs-string\\\"\u003eitem.name\u003c/span\u003e \u003cspan class=\\\"hljs-string\\\"\u003e}}\u003c/span\u003e\\n          \u003cspan class=\\\"hljs-attr\\\"\u003ewith_items:\u003c/span\u003e \u003cspan class=\\\"hljs-string\\\"\u003e\u0026#x27;\u003cspan class=\\\"hljs-template-variable\\\"\u003e{{ homebrew_packages }}\u003c/span\u003e\u0026#x27;\u003c/span\u003e\\n\\n        \u003cspan class=\\\"hljs-comment\\\"\u003e# homebrew_cask\u003c/span\u003e\\n        \u003cspan class=\\\"hljs-bullet\\\"\u003e-\u003c/span\u003e \u003cspan class=\\\"hljs-attr\\\"\u003ename:\u003c/span\u003e \u003cspan class=\\\"hljs-string\\\"\u003einstall\u003c/span\u003e \u003cspan class=\\\"hljs-string\\\"\u003ehomebrew_cask_packages\u003c/span\u003e\\n          \u003cspan class=\\\"hljs-attr\\\"\u003ehomebrew_cask:\u003c/span\u003e\\n            \u003cspan class=\\\"hljs-string\\\"\u003ename={{\u003c/span\u003e \u003cspan class=\\\"hljs-string\\\"\u003eitem.name\u003c/span\u003e \u003cspan class=\\\"hljs-string\\\"\u003e}}\u003c/span\u003e\\n          \u003cspan class=\\\"hljs-attr\\\"\u003ewith_items:\u003c/span\u003e \u003cspan class=\\\"hljs-string\\\"\u003e\u0026#x27;\u003cspan class=\\\"hljs-template-variable\\\"\u003e{{ homebrew_cask_packages }}\u003c/span\u003e\u0026#x27;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e実行.\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"hljs\\\"\u003e$ ansible-playbook -i hosts localhostsyml\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003ca href=\\\"https://github.com/ritarock/dotfiles/tree/master/.macbook-provisioning\\\"\u003eソースコード\u003c/a\u003e\u003c/p\u003e\\n\",\n  \"dir\": \"articles\",\n  \"base\": \"20180409090000.json\",\n  \"ext\": \".json\",\n  \"sourceBase\": \"20180409090000.md\",\n  \"sourceExt\": \".md\"\n}"}},"__N_SSG":true},"page":"/articles/[id]","query":{"id":"20180409090000"},"buildId":"dFoxb0CgrvIbHl6uRBWBj","isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-7b08e4c67f4f1b892f4b.js"></script><script src="/_next/static/chunks/webpack-189c53927ffd3caf09c3.js" async=""></script><script src="/_next/static/chunks/framework-2f612445bd50b211f15a.js" async=""></script><script src="/_next/static/chunks/main-c8b51cc0a92c3008cd1b.js" async=""></script><script src="/_next/static/chunks/pages/_app-7163558e7d92093a94d2.js" async=""></script><script src="/_next/static/chunks/996-109927db333074874af4.js" async=""></script><script src="/_next/static/chunks/394-1ac6c205f84cbd1b2925.js" async=""></script><script src="/_next/static/chunks/pages/articles/%5Bid%5D-ab036cc92d9ceaf2a9ff.js" async=""></script><script src="/_next/static/dFoxb0CgrvIbHl6uRBWBj/_buildManifest.js" async=""></script><script src="/_next/static/dFoxb0CgrvIbHl6uRBWBj/_ssgManifest.js" async=""></script></body></html>