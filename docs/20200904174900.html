<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>MyDocs</title><meta name="next-head-count" content="3"/><link rel="preload" href="/_next/static/css/e44854d771c00df0.css" as="style"/><link rel="stylesheet" href="/_next/static/css/e44854d771c00df0.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-514908bffb652963.js" defer=""></script><script src="/_next/static/chunks/framework-91d7f78b5b4003c8.js" defer=""></script><script src="/_next/static/chunks/main-d98b4a7f39fdfc80.js" defer=""></script><script src="/_next/static/chunks/pages/_app-327d6f89185e0007.js" defer=""></script><script src="/_next/static/chunks/594-14c965e1fcce40c6.js" defer=""></script><script src="/_next/static/chunks/pages/docs/%5Bid%5D-5449b7016e4923d1.js" defer=""></script><script src="/_next/static/-aLFpBSYk4c7R4kJjgHn8/_buildManifest.js" defer=""></script><script src="/_next/static/-aLFpBSYk4c7R4kJjgHn8/_ssgManifest.js" defer=""></script><script src="/_next/static/-aLFpBSYk4c7R4kJjgHn8/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><div><div><div class="bg-gray-600 h-10 leading-10 text-2xl"><a class="no-underline text-gray-100 mx-2" href="/">MyDocs</a></div></div><div class="mx-7"><h1><b># <!-- -->配列をユニークにする</b></h1><h2>JavaScript</h2>
<h3>set を使う</h3>
<p>配列を Set に変換。</p>
<pre><div node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-javascript" style="white-space:pre"><span style="color:#f92672;font-weight:bold">const</span><span> arr = [</span><span class="hljs-number">0</span><span>, </span><span class="hljs-number">0</span><span>, </span><span class="hljs-number">1</span><span>, </span><span class="hljs-number">1</span><span>, </span><span class="hljs-number">1</span><span>, </span><span class="hljs-number">2</span><span>, </span><span class="hljs-number">3</span><span>, </span><span class="hljs-number">4</span><span>, </span><span class="hljs-number">5</span><span>, </span><span class="hljs-number">5</span><span>, </span><span class="hljs-number">5</span><span>, </span><span class="hljs-number">6</span><span>, </span><span class="hljs-number">6</span><span>, </span><span class="hljs-number">7</span><span>, </span><span class="hljs-number">8</span><span>, </span><span class="hljs-number">9</span><span>, </span><span class="hljs-number">9</span><span>, </span><span class="hljs-number">9</span><span>]
</span><span></span><span style="color:#f92672;font-weight:bold">const</span><span> set = </span><span style="color:#f92672;font-weight:bold">new</span><span> </span><span style="color:#a6e22e">Set</span><span>(arr)
</span>
<span></span><span style="color:#a6e22e">console</span><span>.log(set)
</span><span></span><span style="color:#75715e">// Set(10) { 0, 1, 2, 3, 4, 5, 6, 7, 8, 9 }</span></code></div><p class="h-2"></p></pre>
<p>Set を配列に変換。</p>
<pre><div node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-javascript" style="white-space:pre"><span style="color:#f92672;font-weight:bold">const</span><span> arr = [</span><span class="hljs-number">0</span><span>, </span><span class="hljs-number">0</span><span>, </span><span class="hljs-number">1</span><span>, </span><span class="hljs-number">1</span><span>, </span><span class="hljs-number">1</span><span>, </span><span class="hljs-number">2</span><span>, </span><span class="hljs-number">3</span><span>, </span><span class="hljs-number">4</span><span>, </span><span class="hljs-number">5</span><span>, </span><span class="hljs-number">5</span><span>, </span><span class="hljs-number">5</span><span>, </span><span class="hljs-number">6</span><span>, </span><span class="hljs-number">6</span><span>, </span><span class="hljs-number">7</span><span>, </span><span class="hljs-number">8</span><span>, </span><span class="hljs-number">9</span><span>, </span><span class="hljs-number">9</span><span>, </span><span class="hljs-number">9</span><span>]
</span><span></span><span style="color:#f92672;font-weight:bold">const</span><span> set = </span><span style="color:#f92672;font-weight:bold">new</span><span> </span><span style="color:#a6e22e">Set</span><span>(arr)
</span>
<span></span><span style="color:#f92672;font-weight:bold">const</span><span> setToAArr = </span><span style="color:#a6e22e">Array</span><span>.from(set)
</span>
<span></span><span style="color:#a6e22e">console</span><span>.log(setToAArr)
</span><span></span><span style="color:#75715e">// [</span><span>
</span><span></span><span style="color:#75715e">//   0, 1, 2, 3, 4,</span><span>
</span><span></span><span style="color:#75715e">//   5, 6, 7, 8, 9</span><span>
</span><span></span><span style="color:#75715e">// ]</span></code></div><p class="h-2"></p></pre>
<p>スプレッド構文を使う。</p>
<pre><div node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-javascript" style="white-space:pre"><span style="color:#f92672;font-weight:bold">const</span><span> arr = [</span><span class="hljs-number">0</span><span>, </span><span class="hljs-number">0</span><span>, </span><span class="hljs-number">1</span><span>, </span><span class="hljs-number">1</span><span>, </span><span class="hljs-number">1</span><span>, </span><span class="hljs-number">2</span><span>, </span><span class="hljs-number">3</span><span>, </span><span class="hljs-number">4</span><span>, </span><span class="hljs-number">5</span><span>, </span><span class="hljs-number">5</span><span>, </span><span class="hljs-number">5</span><span>, </span><span class="hljs-number">6</span><span>, </span><span class="hljs-number">6</span><span>, </span><span class="hljs-number">7</span><span>, </span><span class="hljs-number">8</span><span>, </span><span class="hljs-number">9</span><span>, </span><span class="hljs-number">9</span><span>, </span><span class="hljs-number">9</span><span>]
</span><span></span><span style="color:#f92672;font-weight:bold">const</span><span> set = </span><span style="color:#f92672;font-weight:bold">new</span><span> </span><span style="color:#a6e22e">Set</span><span>(arr)
</span>
<span></span><span style="color:#f92672;font-weight:bold">const</span><span> setToAArr = [...set]
</span>
<span></span><span style="color:#a6e22e">console</span><span>.log(setToAArr)
</span><span></span><span style="color:#75715e">// [</span><span>
</span><span></span><span style="color:#75715e">//   0, 1, 2, 3, 4,</span><span>
</span><span></span><span style="color:#75715e">//   5, 6, 7, 8, 9</span><span>
</span><span></span><span style="color:#75715e">// ]</span></code></div><p class="h-2"></p></pre>
<h3>map を使う</h3>
<p>配列を Map に変換。</p>
<pre><div node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-javascript" style="white-space:pre"><span style="color:#f92672;font-weight:bold">const</span><span> arr = [{</span><span class="hljs-attr">id</span><span>: </span><span class="hljs-number">1</span><span>}, {</span><span class="hljs-attr">id</span><span>: </span><span class="hljs-number">2</span><span>}, {</span><span class="hljs-attr">id</span><span>: </span><span class="hljs-number">2</span><span>}, {</span><span class="hljs-attr">id</span><span>: </span><span class="hljs-number">3</span><span>}]
</span>
<span></span><span style="color:#f92672;font-weight:bold">const</span><span> m = </span><span style="color:#f92672;font-weight:bold">new</span><span> </span><span style="color:#a6e22e">Map</span><span>(arr.map(</span><span class="hljs-function hljs-params">e</span><span class="hljs-function"> =&gt;</span><span> [e.id, e]))
</span>
<span></span><span style="color:#a6e22e">console</span><span>.log(m)
</span><span></span><span style="color:#75715e">// Map(3) { 1 =&gt; { id: 1 }, 2 =&gt; { id: 2 }, 3 =&gt; { id: 3 } }</span></code></div><p class="h-2"></p></pre>
<h2>Golang</h2>
<pre><div node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-go" style="white-space:pre"><span style="color:#f92672;font-weight:bold">package</span><span> main
</span>
<span></span><span style="color:#f92672;font-weight:bold">import</span><span> (
</span><span>	</span><span style="color:#a6e22e">&quot;fmt&quot;</span><span>
</span>)
<!-- -->
<span></span><span class="hljs-function" style="color:#f92672;font-weight:bold">func</span><span class="hljs-function"> </span><span class="hljs-function" style="color:#a6e22e;font-weight:bold">main</span><span class="hljs-function hljs-params">()</span><span> {
</span><span>	arr := []</span><span style="color:#f92672;font-weight:bold">int</span><span>{</span><span class="hljs-number">0</span><span>, </span><span class="hljs-number">0</span><span>, </span><span class="hljs-number">1</span><span>, </span><span class="hljs-number">1</span><span>, </span><span class="hljs-number">1</span><span>, </span><span class="hljs-number">2</span><span>, </span><span class="hljs-number">3</span><span>, </span><span class="hljs-number">4</span><span>, </span><span class="hljs-number">5</span><span>, </span><span class="hljs-number">5</span><span>, </span><span class="hljs-number">5</span><span>, </span><span class="hljs-number">6</span><span>, </span><span class="hljs-number">6</span><span>, </span><span class="hljs-number">7</span><span>, </span><span class="hljs-number">8</span><span>, </span><span class="hljs-number">9</span><span>, </span><span class="hljs-number">9</span><span>, </span><span class="hljs-number">9</span><span>}
</span><span>	m := </span><span style="color:#a6e22e">make</span><span>(</span><span style="color:#f92672;font-weight:bold">map</span><span>[</span><span style="color:#f92672;font-weight:bold">int</span><span>]</span><span style="color:#f92672;font-weight:bold">struct</span><span>{})
</span><span>	uniqArr := </span><span style="color:#a6e22e">make</span><span>([]</span><span style="color:#f92672;font-weight:bold">int</span><span>, </span><span class="hljs-number">0</span><span>)
</span>
<span>	</span><span style="color:#f92672;font-weight:bold">for</span><span> _, v := </span><span style="color:#f92672;font-weight:bold">range</span><span> arr {
</span><span>		</span><span style="color:#f92672;font-weight:bold">if</span><span> _, ok := m[v]; !ok {
</span><span>			m[v] = </span><span style="color:#f92672;font-weight:bold">struct</span><span>{}{}
</span><span>			uniqArr = </span><span style="color:#a6e22e">append</span><span>(uniqArr, v)
</span>		}
<!-- -->	}
<!-- -->	
<span>	fmt.Println(uniqArr) </span><span style="color:#75715e">// [0 1 2 3 4 5 6 7 8 9]</span><span>
</span>}
</code></div><p class="h-2"></p></pre></div><br/></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"docBody":{"id":"20200904174900","title":"配列をユニークにする","content":"\n## JavaScript\n### set を使う\n配列を Set に変換。\n```javascript\nconst arr = [0, 0, 1, 1, 1, 2, 3, 4, 5, 5, 5, 6, 6, 7, 8, 9, 9, 9]\nconst set = new Set(arr)\n\nconsole.log(set)\n// Set(10) { 0, 1, 2, 3, 4, 5, 6, 7, 8, 9 }\n```\n\nSet を配列に変換。\n```javascript\nconst arr = [0, 0, 1, 1, 1, 2, 3, 4, 5, 5, 5, 6, 6, 7, 8, 9, 9, 9]\nconst set = new Set(arr)\n\nconst setToAArr = Array.from(set)\n\nconsole.log(setToAArr)\n// [\n//   0, 1, 2, 3, 4,\n//   5, 6, 7, 8, 9\n// ]\n```\n\nスプレッド構文を使う。\n```javascript\nconst arr = [0, 0, 1, 1, 1, 2, 3, 4, 5, 5, 5, 6, 6, 7, 8, 9, 9, 9]\nconst set = new Set(arr)\n\nconst setToAArr = [...set]\n\nconsole.log(setToAArr)\n// [\n//   0, 1, 2, 3, 4,\n//   5, 6, 7, 8, 9\n// ]\n```\n\n### map を使う\n配列を Map に変換。\n```javascript\nconst arr = [{id: 1}, {id: 2}, {id: 2}, {id: 3}]\n\nconst m = new Map(arr.map(e =\u003e [e.id, e]))\n\nconsole.log(m)\n// Map(3) { 1 =\u003e { id: 1 }, 2 =\u003e { id: 2 }, 3 =\u003e { id: 3 } }\n```\n\n## Golang\n```go\npackage main\n\nimport (\n\t\"fmt\"\n)\n\nfunc main() {\n\tarr := []int{0, 0, 1, 1, 1, 2, 3, 4, 5, 5, 5, 6, 6, 7, 8, 9, 9, 9}\n\tm := make(map[int]struct{})\n\tuniqArr := make([]int, 0)\n\n\tfor _, v := range arr {\n\t\tif _, ok := m[v]; !ok {\n\t\t\tm[v] = struct{}{}\n\t\t\tuniqArr = append(uniqArr, v)\n\t\t}\n\t}\n\t\n\tfmt.Println(uniqArr) // [0 1 2 3 4 5 6 7 8 9]\n}\n```\n"}},"__N_SSG":true},"page":"/docs/[id]","query":{"id":"20200904174900"},"buildId":"-aLFpBSYk4c7R4kJjgHn8","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>