<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>MyDocs</title><meta name="next-head-count" content="3"/><link rel="preload" href="/_next/static/css/a58c9bb1e05a64ba.css" as="style"/><link rel="stylesheet" href="/_next/static/css/a58c9bb1e05a64ba.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-9b312e20a4e32339.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-18053c3f67c4d467.js" defer=""></script><script src="/_next/static/chunks/pages/_app-867c56f07dfc6f09.js" defer=""></script><script src="/_next/static/chunks/10-be41e95a1b576b2e.js" defer=""></script><script src="/_next/static/chunks/668-6fd87f58c86db0c0.js" defer=""></script><script src="/_next/static/chunks/pages/docs/%5Bid%5D-eb53b8ffdeb3374a.js" defer=""></script><script src="/_next/static/sFKu9YLMTEY5rj5izUzEv/_buildManifest.js" defer=""></script><script src="/_next/static/sFKu9YLMTEY5rj5izUzEv/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div><a class="sc-dkzDqf hPBBbq">MyDocs</a></div><p></p><h1><b># <!-- -->コマンドいろいろ</b></h1><p><a href="https://roadmap.sh/roadmaps">Developer Roadmaps</a> にあった DevOps コマンドをまとめておく。</p>
<h2>文字列操作</h2>
<h3>awk</h3>
<p>列を抽出する。</p>
<pre><div class="sc-bczRLJ xShwa"><div class="sc-gsnTZi iXcekV">bash</div><pre node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-shell" style="white-space:pre"><span style="color:#75715e">$</span><span class="bash"> </span><span class="bash" style="color:#a6e22e">echo</span><span class="bash"> 1 2 3 4|awk </span><span class="bash" style="color:#a6e22e">&#x27;{print $1}&#x27;</span><span>
</span>1
<span></span><span style="color:#75715e">$</span><span class="bash"> </span><span class="bash" style="color:#a6e22e">echo</span><span class="bash"> 1 2 3 4|awk </span><span class="bash" style="color:#a6e22e">&#x27;{print $2}&#x27;</span><span>
</span>2</code></pre></div></pre>
<p><code>$0</code> だとすべて。</p>
<pre><div class="sc-bczRLJ xShwa"><div class="sc-gsnTZi iXcekV">bash</div><pre node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-shell" style="white-space:pre"><span style="color:#75715e">$</span><span class="bash"> </span><span class="bash" style="color:#a6e22e">echo</span><span class="bash"> 1 2 3 4|awk </span><span class="bash" style="color:#a6e22e">&#x27;{print $0}&#x27;</span><span>
</span>1 2 3 4</code></pre></div></pre>
<p>区切り文字の指定もできる。</p>
<pre><div class="sc-bczRLJ xShwa"><div class="sc-gsnTZi iXcekV">bash</div><pre node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-shell" style="white-space:pre"><span style="color:#75715e">$</span><span class="bash"> </span><span class="bash" style="color:#a6e22e">echo</span><span class="bash"> 1:2:3:4|awk -F</span><span class="bash" style="color:#a6e22e">&#x27;[:]&#x27;</span><span class="bash"> </span><span class="bash" style="color:#a6e22e">&#x27;{print $1}&#x27;</span><span>
</span>1</code></pre></div></pre>
<h3>sed</h3>
<p>文字列置換。</p>
<pre><div class="sc-bczRLJ xShwa"><div class="sc-gsnTZi iXcekV">bash</div><pre node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-shell" style="white-space:pre"><span style="color:#75715e">$</span><span class="bash"> cat test.txt</span><span>
</span>1 2 3 4 5
<span></span><span style="color:#75715e">$</span><span class="bash"> sed </span><span class="bash" style="color:#a6e22e">&#x27;s/3/333/g&#x27;</span><span class="bash"> test.txt</span><span>
</span>1 2 333 4 5</code></pre></div></pre>
<h3>grep</h3>
<p>文字列検索。</p>
<pre><div class="sc-bczRLJ xShwa"><div class="sc-gsnTZi iXcekV">bash</div><pre node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-shell" style="white-space:pre"><span style="color:#75715e">$</span><span class="bash"> cat test.txt</span><span>
</span>1
<!-- -->2
<!-- -->3
<!-- -->4
<!-- -->5
<span></span><span style="color:#75715e">
</span><span style="color:#75715e">$</span><span class="bash"> cat test.txt | grep 3</span><span>
</span>3</code></pre></div></pre>
<p><code>-v</code> は一致しないものを検索する。</p>
<h3>sort</h3>
<p>ソートする。</p>
<pre><div class="sc-bczRLJ xShwa"><div class="sc-gsnTZi iXcekV">bash</div><pre node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-shell" style="white-space:pre"><span style="color:#75715e">$</span><span class="bash"> cat test.txt</span><span>
</span>1
<!-- -->12
<!-- -->3
<!-- -->23
<!-- -->55
<!-- -->22
<span></span><span style="color:#75715e">
</span><span style="color:#75715e">$</span><span class="bash"> sort test.txt</span><span>
</span>1
<!-- -->12
<!-- -->22
<!-- -->23
<!-- -->3
<!-- -->55</code></pre></div></pre>
<p><code>-n</code> は数値として並べる。</p>
<pre><div class="sc-bczRLJ xShwa"><div class="sc-gsnTZi iXcekV">bash</div><pre node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-shell" style="white-space:pre"><span style="color:#75715e">$</span><span class="bash"> sort -n test.txt</span><span>
</span>1
<!-- -->3
<!-- -->12
<!-- -->22
<!-- -->23
<!-- -->55</code></pre></div></pre>
<p><code>-r</code> は逆順として並べる。</p>
<pre><div class="sc-bczRLJ xShwa"><div class="sc-gsnTZi iXcekV">bash</div><pre node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-shell" style="white-space:pre"><span style="color:#75715e">$</span><span class="bash"> sort -n -r test.txt</span><span>
</span>55
<!-- -->23
<!-- -->22
<!-- -->12
<!-- -->3
<!-- -->1</code></pre></div></pre>
<h3>uniq</h3>
<p>重複した行を削除。</p>
<pre><div class="sc-bczRLJ xShwa"><div class="sc-gsnTZi iXcekV">bash</div><pre node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-shell" style="white-space:pre"><span style="color:#75715e">$</span><span class="bash"> cat test.txt</span><span>
</span>0123456789
<!-- -->abcdefghij
<!-- -->abcdefghij
<!-- -->ABCDEFGHIJ
<!-- -->9876543210
<span></span><span style="color:#75715e">
</span><span style="color:#75715e">$</span><span class="bash"> uniq test.txt</span><span>
</span>0123456789
<!-- -->abcdefghij
<!-- -->ABCDEFGHIJ
<!-- -->9876543210</code></pre></div></pre>
<p><code>-i</code> は大文字小文字を無視する。</p>
<pre><div class="sc-bczRLJ xShwa"><div class="sc-gsnTZi iXcekV">bash</div><pre node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-shell" style="white-space:pre"><span style="color:#75715e">$</span><span class="bash"> uniq -i test.txt</span><span>
</span>0123456789
<!-- -->abcdefghij
<!-- -->9876543210</code></pre></div></pre>
<h3>cat</h3>
<p>ファイル出力。</p>
<pre><div class="sc-bczRLJ xShwa"><div class="sc-gsnTZi iXcekV">bash</div><pre node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-shell" style="white-space:pre"><span style="color:#75715e">$</span><span class="bash"> cat test.txt</span><span>
</span>0123456789
<!-- -->abcdefghij
<!-- -->abcdefghij
<!-- -->ABCDEFGHIJ
<!-- -->9876543210</code></pre></div></pre>
<h3>cut</h3>
<p>awk で良さそう。</p>
<pre><div class="sc-bczRLJ xShwa"><div class="sc-gsnTZi iXcekV">bash</div><pre node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-shell" style="white-space:pre"><span style="color:#75715e">$</span><span class="bash"> cat test.txt</span><span>
</span>1:2:3
<!-- -->4:5:6
<!-- -->7:8:9
<span></span><span style="color:#75715e">
</span><span style="color:#75715e">$</span><span class="bash"> cut -f 2 -d </span><span class="bash" style="color:#a6e22e">&quot;:&quot;</span><span class="bash"> test.txt</span><span>
</span>2
<!-- -->5
<!-- -->8</code></pre></div></pre>
<p><code>awk</code> でやる場合。</p>
<pre><div class="sc-bczRLJ xShwa"><div class="sc-gsnTZi iXcekV">bash</div><pre node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-shell" style="white-space:pre"><span style="color:#75715e">$</span><span class="bash"> cat test.txt |awk -F </span><span class="bash" style="color:#a6e22e">&#x27;:&#x27;</span><span class="bash"> </span><span class="bash" style="color:#a6e22e">&#x27;{print $2}&#x27;</span><span>
</span>2
<!-- -->5
<!-- -->8</code></pre></div></pre>
<h3>echo</h3>
<p>文字列を表示する。</p>
<pre><div class="sc-bczRLJ xShwa"><div class="sc-gsnTZi iXcekV">bash</div><pre node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-shell" style="white-space:pre"><span style="color:#75715e">$</span><span class="bash"> </span><span class="bash" style="color:#a6e22e">echo</span><span class="bash"> </span><span class="bash" style="color:#a6e22e">&#x27;aaa&#x27;</span><span>
</span>aaa</code></pre></div></pre>
<h3>fmt</h3>
<p>整形。</p>
<pre><div class="sc-bczRLJ xShwa"><div class="sc-gsnTZi iXcekV">bash</div><pre node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-shell" style="white-space:pre"><span style="color:#75715e">$</span><span class="bash"> cat test.txt</span><span>
</span>1 2 3
<!-- -->4 5 6
<!-- -->7 8 9
<span></span><span style="color:#75715e">
</span><span style="color:#75715e">$</span><span class="bash"> fmt test.txt</span><span>
</span>1 2 3 4 5 6 7 8 9</code></pre></div></pre>
<h3>tr</h3>
<p>文字の変換、削除する。</p>
<pre><div class="sc-bczRLJ xShwa"><div class="sc-gsnTZi iXcekV">bash</div><pre node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-shell" style="white-space:pre"><span style="color:#75715e">$</span><span class="bash"> cat test.txt</span><span>
</span>12345
<!-- -->abcde
<!-- -->ABCDE
<span></span><span style="color:#75715e">
</span><span style="color:#75715e">$</span><span class="bash"> cat test.txt | tr abc XYZ</span><span>
</span>12345
<!-- -->XYZde
<!-- -->ABCDE
<span></span><span style="color:#75715e">
</span><span style="color:#75715e">$</span><span class="bash"> cat test.txt | tr -d 123</span><span>
</span>45
<!-- -->abcde
<!-- -->ABCDE</code></pre></div></pre>
<h3>nl</h3>
<p>行数表示できる。</p>
<pre><div class="sc-bczRLJ xShwa"><div class="sc-gsnTZi iXcekV">bash</div><pre node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-shell" style="white-space:pre"><span style="color:#75715e">$</span><span class="bash"> nl test.txt</span><span>
</span>     1 12345
<!-- -->     2 abcde
<!-- -->     3 ABCDE</code></pre></div></pre>
<p>cat でやるなら <code>-b</code> を使う。</p>
<pre><div class="sc-bczRLJ xShwa"><div class="sc-gsnTZi iXcekV">bash</div><pre node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-shell" style="white-space:pre"><span style="color:#75715e">$</span><span class="bash"> cat -b test.txt</span><span>
</span>     1 12345
<!-- -->     2 abcde
<!-- -->     3 ABCDE</code></pre></div></pre>
<h3>egrep</h3>
<p><code>grep -E</code> と同じ意味。</p>
<p>拡張正規表現ってのが使える.普通の正規表現と何が違うかはよくわからない。</p>
<pre><div class="sc-bczRLJ xShwa"><div class="sc-gsnTZi iXcekV">bash</div><pre node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-shell" style="white-space:pre"><span style="color:#75715e">$</span><span class="bash"> cat test.txt</span><span>
</span>12345
<!-- -->bar
<!-- -->foo
<span></span><span style="color:#75715e">
</span><span style="color:#75715e">$</span><span class="bash"> grep -E </span><span class="bash" style="color:#a6e22e">&#x27;^(bar|foo)&#x27;</span><span class="bash"> test.txt</span><span>
</span>bar
<!-- -->foo</code></pre></div></pre>
<h3>fgrep</h3>
<p><code>grep -F</code> と同じ意味。</p>
<p>正規表現文字をそのまま検索できる。</p>
<pre><div class="sc-bczRLJ xShwa"><div class="sc-gsnTZi iXcekV">bash</div><pre node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-shell" style="white-space:pre"><span style="color:#75715e">$</span><span class="bash"> cat test.txt</span><span>
</span>12345
<!-- -->bar.foo
<span></span><span style="color:#75715e">
</span><span style="color:#75715e">$</span><span class="bash"> grep -F </span><span class="bash" style="color:#a6e22e">&#x27;bar.foo&#x27;</span><span class="bash"> test.txt</span><span>
</span>bar.foo</code></pre></div></pre>
<h3>wc</h3>
<p>行数、単語数を数える。</p>
<pre><div class="sc-bczRLJ xShwa"><div class="sc-gsnTZi iXcekV">bash</div><pre node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-shell" style="white-space:pre"><span style="color:#75715e">$</span><span class="bash"> cat test.txt</span><span>
</span>Hello World!</code></pre></div></pre>
<p><code>-m</code> は文字数を数える。</p>
<pre><div class="sc-bczRLJ xShwa"><div class="sc-gsnTZi iXcekV">bash</div><pre node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-shell" style="white-space:pre"><span style="color:#75715e">$</span><span class="bash"> wc -m test.txt</span><span>
</span>      13 test.txt</code></pre></div></pre>
<p><code>-w</code> は単語数を数える。</p>
<pre><div class="sc-bczRLJ xShwa"><div class="sc-gsnTZi iXcekV">bash</div><pre node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-shell" style="white-space:pre"><span style="color:#75715e">$</span><span class="bash"> wc -w test.txt</span><span>
</span>       2 test.txt</code></pre></div></pre>
<h2>プロセス管理</h2>
<h3>ps</h3>
<p>全プロセスを表示する。</p>
<pre><div class="sc-bczRLJ xShwa"><div class="sc-gsnTZi iXcekV">bash</div><pre node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-shell" style="white-space:pre"><span style="color:#75715e">$</span><span class="bash"> ps aux</span></code></pre></div></pre>
<h3>top</h3>
<p>プロセス、CPU、メモリを表示。</p>
<p>デフォルトだと CPU 使用率順にソート。</p>
<p><code>-a</code> でメモリ使用順にソート。</p>
<h3>htop</h3>
<p>top より見やすい。</p>
<p>Shift + P で CPU 使用率、Shift + M でメモリ使用率順。</p>
<h3>atop</h3>
<p>top コマンドの代替。</p>
<p>htop のほうが良さそう。</p>
<h3>lsof</h3>
<p>特定のポート番号を待ち受けているか、もしくはファイルを読み込んでいるかを調べるとき。</p>
<p>80 番ポートで実行中のプロセスを調べる。</p>
<pre><div class="sc-bczRLJ xShwa"><div class="sc-gsnTZi iXcekV">bash</div><pre node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-shell" style="white-space:pre"><span style="color:#75715e">$</span><span class="bash"> lsof -i:80 -P</span></code></pre></div></pre>
<p>特定のファイルを開いているプロセスを調べる。</p>
<pre><div class="sc-bczRLJ xShwa"><div class="sc-gsnTZi iXcekV">bash</div><pre node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-shell" style="white-space:pre"><span style="color:#75715e">$</span><span class="bash"> lsof &lt;FILE&gt;</span></code></pre></div></pre>
<p>コマンドを指定する。</p>
<pre><div class="sc-bczRLJ xShwa"><div class="sc-gsnTZi iXcekV">bash</div><pre node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-shell" style="white-space:pre"><span style="color:#75715e">$</span><span class="bash"> lsof -c &lt;COMMAND&gt;</span></code></pre></div></pre>
<h2>ネットワーク</h2>
<h3>nmap</h3>
<p>サーバの開いているポートを調べる。</p>
<pre><div class="sc-bczRLJ xShwa"><div class="sc-gsnTZi iXcekV">bash</div><pre node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-shell" style="white-space:pre"><span style="color:#75715e">$</span><span class="bash"> nmap &lt;SERVER&gt;</span></code></pre></div></pre>
<h3>tcpdump</h3>
<p>パケットをキャプチャする。</p>
<p>ホストを指定してキャプチャする。</p>
<pre><div class="sc-bczRLJ xShwa"><div class="sc-gsnTZi iXcekV">bash</div><pre node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-shell" style="white-space:pre"><span style="color:#75715e">$</span><span class="bash"> tcpdump host &lt;HOST&gt;</span></code></pre></div></pre>
<p>port を指定する。</p>
<pre><div class="sc-bczRLJ xShwa"><div class="sc-gsnTZi iXcekV">bash</div><pre node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-shell" style="white-space:pre"><span style="color:#75715e">$</span><span class="bash"> tcpdump host &lt;HOST&gt; and port 22</span><span>
</span><span></span><span style="color:#75715e">$</span><span class="bash"> tcpdump host &lt;HOST&gt; or port 22</span></code></pre></div></pre>
<h3>ping</h3>
<p>パケットを送信して通信を確認。</p>
<h3>traceroute</h3>
<p>経路と応答を調べる。</p>
<p><code>&lt;TARGET&gt;</code> までの経路と応答を調べる。</p>
<pre><div class="sc-bczRLJ xShwa"><div class="sc-gsnTZi iXcekV">bash</div><pre node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-shell" style="white-space:pre"><span style="color:#75715e">$</span><span class="bash"> traceroute &lt;TARGET&gt;</span></code></pre></div></pre>
<h3>mtr</h3>
<p>経路と応答を調べる.
traceroute とだいたい同じ。</p>
<h3>dig</h3>
<p>ドメイン名に対する IP を調べる。</p>
<pre><div class="sc-bczRLJ xShwa"><div class="sc-gsnTZi iXcekV">bash</div><pre node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-shell" style="white-space:pre"><span style="color:#75715e">$</span><span class="bash"> dig www.google.co.jp</span></code></pre></div></pre>
<h3>netstat</h3>
<p>ネットワーク関連の情報を表示。</p>
<p><code>-r</code> でルーティングテーブルを表示する。</p>
<h2>システムパフォーマンス</h2>
<h3>nmon</h3>
<p>OS のベンチマークをとったりできる。</p>
<h3>iostat</h3>
<p>CPU 使用率と I/O デバイスの使用状況を調べる。</p>
<h3>sar</h3>
<p>メモリ、プロセス、スワップ、 CPU 等の統計情報を調べる。</p>
<h3>vmstat</h3>
<p>仮想メモリや CPU 、ディスク I/O の統計情報を調べる。</p>
<h2>その他</h2>
<h3>strace</h3>
<p>実行コマンドをトレースする。</p>
<pre><div class="sc-bczRLJ xShwa"><div class="sc-gsnTZi iXcekV">bash</div><pre node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-shell" style="white-space:pre"><span style="color:#75715e">$</span><span class="bash"> strace ls</span></code></pre></div></pre>
<h3>uname</h3>
<p>カーネル名を表示。</p>
<p><code>-a</code> で全ての情報を表示する。</p>
<pre><div class="sc-bczRLJ xShwa"><div class="sc-gsnTZi iXcekV">bash</div><pre node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-shell" style="white-space:pre"><span style="color:#75715e">$</span><span class="bash"> uname -a</span></code></pre></div></pre>
<h3>df</h3>
<p>ディスクの空き容量を調べる。</p>
<p><code>-h</code> で読みやすく表示。</p>
<pre><div class="sc-bczRLJ xShwa"><div class="sc-gsnTZi iXcekV">bash</div><pre node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-shell" style="white-space:pre"><span style="color:#75715e">$</span><span class="bash"> df -h</span></code></pre></div></pre>
<h3>history</h3>
<p>コマンドの履歴を表示。</p>
<p><code>-d</code> で指定した番号の履歴を削除する。</p>
<pre><div class="sc-bczRLJ xShwa"><div class="sc-gsnTZi iXcekV">bash</div><pre node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-shell" style="white-space:pre"><span style="color:#75715e">$</span><span class="bash"> </span><span class="bash" style="color:#a6e22e">history</span><span class="bash"> -d 10</span></code></pre></div></pre></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"contents":{"id":"20210109001701","title":"コマンドいろいろ","body":"\n[Developer Roadmaps](https://roadmap.sh/roadmaps) にあった DevOps コマンドをまとめておく。\n\n## 文字列操作\n### awk\n列を抽出する。\n```bash\n$ echo 1 2 3 4|awk '{print $1}'\n1\n$ echo 1 2 3 4|awk '{print $2}'\n2\n```\n\n`$0` だとすべて。\n```bash\n$ echo 1 2 3 4|awk '{print $0}'\n1 2 3 4\n```\n\n区切り文字の指定もできる。\n```bash\n$ echo 1:2:3:4|awk -F'[:]' '{print $1}'\n1\n```\n\n### sed\n文字列置換。\n```bash\n$ cat test.txt\n1 2 3 4 5\n$ sed 's/3/333/g' test.txt\n1 2 333 4 5\n```\n\n### grep\n文字列検索。\n```bash\n$ cat test.txt\n1\n2\n3\n4\n5\n\n$ cat test.txt | grep 3\n3\n```\n\n`-v` は一致しないものを検索する。\n\n### sort\nソートする。\n```bash\n$ cat test.txt\n1\n12\n3\n23\n55\n22\n\n$ sort test.txt\n1\n12\n22\n23\n3\n55\n```\n\n`-n` は数値として並べる。\n```bash\n$ sort -n test.txt\n1\n3\n12\n22\n23\n55\n```\n\n`-r` は逆順として並べる。\n```bash\n$ sort -n -r test.txt\n55\n23\n22\n12\n3\n1\n```\n\n### uniq\n重複した行を削除。\n```bash\n$ cat test.txt\n0123456789\nabcdefghij\nabcdefghij\nABCDEFGHIJ\n9876543210\n\n$ uniq test.txt\n0123456789\nabcdefghij\nABCDEFGHIJ\n9876543210\n```\n\n`-i` は大文字小文字を無視する。\n```bash\n$ uniq -i test.txt\n0123456789\nabcdefghij\n9876543210\n```\n\n### cat\nファイル出力。\n```bash\n$ cat test.txt\n0123456789\nabcdefghij\nabcdefghij\nABCDEFGHIJ\n9876543210\n```\n\n### cut\nawk で良さそう。\n```bash\n$ cat test.txt\n1:2:3\n4:5:6\n7:8:9\n\n$ cut -f 2 -d \":\" test.txt\n2\n5\n8\n```\n\n`awk` でやる場合。\n```bash\n$ cat test.txt |awk -F ':' '{print $2}'\n2\n5\n8\n```\n\n### echo\n文字列を表示する。\n```bash\n$ echo 'aaa'\naaa\n```\n\n### fmt\n整形。\n```bash\n$ cat test.txt\n1 2 3\n4 5 6\n7 8 9\n\n$ fmt test.txt\n1 2 3 4 5 6 7 8 9\n```\n\n### tr\n文字の変換、削除する。\n```bash\n$ cat test.txt\n12345\nabcde\nABCDE\n\n$ cat test.txt | tr abc XYZ\n12345\nXYZde\nABCDE\n\n$ cat test.txt | tr -d 123\n45\nabcde\nABCDE\n```\n\n### nl\n行数表示できる。\n```bash\n$ nl test.txt\n     1 12345\n     2 abcde\n     3 ABCDE\n```\n\ncat でやるなら `-b` を使う。\n```bash\n$ cat -b test.txt\n     1 12345\n     2 abcde\n     3 ABCDE\n```\n\n### egrep\n`grep -E` と同じ意味。\n\n拡張正規表現ってのが使える.普通の正規表現と何が違うかはよくわからない。\n```bash\n$ cat test.txt\n12345\nbar\nfoo\n\n$ grep -E '^(bar|foo)' test.txt\nbar\nfoo\n```\n\n### fgrep\n`grep -F` と同じ意味。\n\n正規表現文字をそのまま検索できる。\n```bash\n$ cat test.txt\n12345\nbar.foo\n\n$ grep -F 'bar.foo' test.txt\nbar.foo\n```\n\n### wc\n行数、単語数を数える。\n```bash\n$ cat test.txt\nHello World!\n```\n\n`-m` は文字数を数える。\n```bash\n$ wc -m test.txt\n      13 test.txt\n```\n\n`-w` は単語数を数える。\n```bash\n$ wc -w test.txt\n       2 test.txt\n```\n\n## プロセス管理\n### ps\n全プロセスを表示する。\n```bash\n$ ps aux\n```\n\n### top\nプロセス、CPU、メモリを表示。\n\nデフォルトだと CPU 使用率順にソート。\n\n`-a` でメモリ使用順にソート。\n\n### htop\ntop より見やすい。\n\nShift + P で CPU 使用率、Shift + M でメモリ使用率順。\n\n### atop\ntop コマンドの代替。\n\nhtop のほうが良さそう。\n\n### lsof\n特定のポート番号を待ち受けているか、もしくはファイルを読み込んでいるかを調べるとき。\n\n80 番ポートで実行中のプロセスを調べる。\n```bash\n$ lsof -i:80 -P\n```\n\n特定のファイルを開いているプロセスを調べる。\n```bash\n$ lsof \u003cFILE\u003e\n```\n\nコマンドを指定する。\n```bash\n$ lsof -c \u003cCOMMAND\u003e\n```\n\n## ネットワーク\n### nmap\nサーバの開いているポートを調べる。\n```bash\n$ nmap \u003cSERVER\u003e\n```\n\n### tcpdump\nパケットをキャプチャする。\n\nホストを指定してキャプチャする。\n```bash\n$ tcpdump host \u003cHOST\u003e\n```\n\nport を指定する。\n```bash\n$ tcpdump host \u003cHOST\u003e and port 22\n$ tcpdump host \u003cHOST\u003e or port 22\n```\n\n### ping\nパケットを送信して通信を確認。\n\n### traceroute\n経路と応答を調べる。\n\n`\u003cTARGET\u003e` までの経路と応答を調べる。\n```bash\n$ traceroute \u003cTARGET\u003e\n```\n\n### mtr\n経路と応答を調べる.\ntraceroute とだいたい同じ。\n\n### dig\nドメイン名に対する IP を調べる。\n```bash\n$ dig www.google.co.jp\n```\n\n### netstat\nネットワーク関連の情報を表示。\n\n`-r` でルーティングテーブルを表示する。\n\n## システムパフォーマンス\n### nmon\nOS のベンチマークをとったりできる。\n\n### iostat\nCPU 使用率と I/O デバイスの使用状況を調べる。\n\n### sar\nメモリ、プロセス、スワップ、 CPU 等の統計情報を調べる。\n\n### vmstat\n仮想メモリや CPU 、ディスク I/O の統計情報を調べる。\n\n## その他\n### strace\n実行コマンドをトレースする。\n```bash\n$ strace ls\n```\n\n### uname\nカーネル名を表示。\n\n`-a` で全ての情報を表示する。\n```bash\n$ uname -a\n```\n\n### df\nディスクの空き容量を調べる。\n\n`-h` で読みやすく表示。\n```bash\n$ df -h\n```\n\n### history\nコマンドの履歴を表示。\n\n`-d` で指定した番号の履歴を削除する。\n```bash\n$ history -d 10\n```\n"}},"__N_SSG":true},"page":"/docs/[id]","query":{"id":"20210109001701"},"buildId":"sFKu9YLMTEY5rj5izUzEv","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>