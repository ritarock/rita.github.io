<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/a34f9d1faa5f3315-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/45686ffcb70a597f.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-0954c5d36ad957a9.js"/><script src="/_next/static/chunks/fd9d1056-7d9b70e9456442b8.js" async=""></script><script src="/_next/static/chunks/117-9e8e11acbc02133b.js" async=""></script><script src="/_next/static/chunks/main-app-e458bfafba31dafd.js" async=""></script><script src="/_next/static/chunks/972-7c12054a4e525885.js" async=""></script><script src="/_next/static/chunks/app/docs/%5Bid%5D/page-8f3672b7de158179.js" async=""></script><title>MyDocs</title><meta name="description" content="Generated by create next app"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="16x16"/><meta name="next-size-adjust"/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="__className_36bd41"><div><a style="text-decoration:none" href="/"><div style="color:black;font-size:22px;cusor:pointer">MyDocs</div></a></div><p></p><h1><b># <!-- -->Dockerとdocker-composeのまとめ</b></h1><h2>Docker</h2>
<p><code>Dockerfile</code> を元にイメージを構築する。</p>
<h3>build</h3>
<p><code>Dockerfile</code> が存在するディレクトリで実行する。</p>
<pre><code class="language-bash"><pre style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code style="white-space:pre"><span style="color:#a6e22e">$ </span><span>docker build .</span></code></pre></code></pre>
<p><code>-f</code> オプションを使うことで Dockerfile のパスを指定できる。</p>
<pre><code class="language-bash"><pre style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code style="white-space:pre"><span>$ docker </span><span style="color:#f92672;font-weight:bold">build</span><span> -f /</span><span style="color:#f92672;font-weight:bold">path</span><span>/</span><span style="color:#f92672;font-weight:bold">to</span><span>/Dockerfile .</span></code></pre></code></pre>
<h3>FROM</h3>
<p>ベースイメージを指定する。</p>
<pre><code class="language-Dockerfile"><pre style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code style="white-space:pre"><span>FROM &lt;image&gt;[:&lt;tag&gt;][AS &lt;name&gt;]</span></code></pre></code></pre>
<p><code>AS &lt;name&gt;</code> でステージに名前を付けて、以降の <code>FROM</code> と <code>COPY --from=&lt;name&gt;</code> 命令で構築イメージを参照できる。</p>
<h3>RUN</h3>
<p>シェルとして実行される。</p>
<pre><code class="language-Dockerfile"><pre style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code style="white-space:pre"><span>RUN </span><span style="color:#bf79db">/bin/</span><span>sh -c </span><span style="color:#a6e22e">&#x27;source $HOME/.bashrc;&#x27;</span><span> \
</span><span>echo </span><span style="color:#a6e22e">$HOME</span></code></pre></code></pre>
<p>1 行で書く場合。</p>
<pre><code class="language-Dockerfile"><pre style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code style="white-space:pre"><span style="color:#f92672;font-weight:bold">RUN</span><span> /bin/</span><span style="color:#f92672;font-weight:bold">sh</span><span> -c &#x27;source </span><span style="color:#a6e22e">$HOME</span><span>/.bashrc; echo </span><span style="color:#a6e22e">$HOME</span><span>&#x27;</span></code></pre></code></pre>
<p><code>bash/sh</code> 以外のシェルを使う場合は <code>exec</code> 形式でシェルに引数を渡す。</p>
<pre><code class="language-Dockerfile"><pre style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code style="white-space:pre"><span>RUN [</span><span style="color:#a6e22e">&quot;/bin/bash&quot;</span><span>, </span><span style="color:#a6e22e">&quot;-c&quot;</span><span>, </span><span style="color:#a6e22e">&quot;echo hello&quot;</span><span>]</span></code></pre></code></pre>
<p><code>exec</code> 形式で書く場合は json 配列として扱わるため <code>&quot;&quot;</code> で囲む必要がある。</p>
<h3>CMD</h3>
<p><code>Dockerfile</code> 内の <code>CMD</code> 命令は 1 つのみ。複数あっても最後の <code>CMD</code> 命令のみが実行される。
<strong>CMD の目的はコンテナの実行時のデフォルトの処理を指定する</strong></p>
<pre><code class="language-Dockerfile"><pre style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code style="white-space:pre"><span>FROM ubuntu
</span><span>CMD [</span><span style="color:#a6e22e">&quot;/usr/bin/wc&quot;</span><span>, </span><span style="color:#a6e22e">&quot;--help&quot;</span><span>]</span></code></pre></code></pre>
<h3>ADD / COPY</h3>
<p><code>&lt;src&gt;</code> で指定したファイル、ディレクトリをコンテナ内の <code>&lt;dest&gt;</code> にコピーする。
ローカルのファイルをコンテナにコピーしたい場合は <code>COPY</code> を使う。
<code>ADD</code> はローカルでの圧縮ファイルの展開やリモートファイルの展開したい場面で使う。</p>
<pre><code class="language-Dockerfile"><pre style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code style="white-space:pre"><span>ADD [--chown=</span><span style="color:#bf79db">&lt;ユーザ&gt;</span><span>:</span><span style="color:#bf79db">&lt;グループ&gt;</span><span>] </span><span style="color:#bf79db">&lt;src&gt;</span><span> </span><span style="color:#bf79db">&lt;dest&gt;</span><span>
</span><span>COPY [--chown=</span><span style="color:#bf79db">&lt;ユーザ&gt;</span><span>:</span><span style="color:#bf79db">&lt;グループ&gt;</span><span>] </span><span style="color:#bf79db">&lt;src&gt;</span><span> </span><span style="color:#bf79db">&lt;dest&gt;</span></code></pre></code></pre>
<h3>EXPOSE</h3>
<p>コンテナが接続するためのリッスンするポートを指定する。</p>
<pre><code class="language-Dockerfile"><pre style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code style="white-space:pre"><span style="color:#bf79db">EXPOSE</span><span> </span><span class="hljs-number">80</span></code></pre></code></pre>
<p>実際にはポートの公開は行われない。ドキュメント的な用途として使われる。
実際に公開して使うには、 <code>docker run</code> の際にフラグをつける。</p>
<pre><code class="language-bash"><pre style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code style="white-space:pre"><span>$ </span><span style="color:#bf79db">docker</span><span> run --rm -it -p </span><span class="hljs-number">80</span><span>:</span><span class="hljs-number">80</span><span> &lt;image&gt; bash</span></code></pre></code></pre>
<h3>ENV</h3>
<p>環境変数の設定をする。</p>
<pre><code class="language-Dockerfile"><pre style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code style="white-space:pre"><span>ENV </span><span style="color:#f92672">&lt;</span><span style="color:#f92672">key</span><span style="color:#f92672">&gt;</span><span>=</span><span style="color:#f92672">&lt;</span><span style="color:#f92672">value</span><span style="color:#f92672">&gt;</span></code></pre></code></pre>
<p>環境変数は、 <code>Dockerfile</code> 内の変数として使える。
使い方は、 <code>$variable_name</code> もしくは、 <code>${variable_name}</code></p>
<pre><code class="language-Dockerfile"><pre style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code style="white-space:pre"><span style="color:#f92672;font-weight:bold">FROM</span><span> &lt;image&gt;
</span><span></span><span style="color:#f92672;font-weight:bold">ENV</span><span> FOO=/bar
</span><span></span><span style="color:#f92672;font-weight:bold">WORKDIR</span><span class="bash"> </span><span class="bash" style="color:#a6e22e">${FOO}</span><span class="bash"> </span><span class="bash" style="color:#75715e"># WORKDIR /bar</span></code></pre></code></pre>
<h3>ENTRYPOINT</h3>
<p>最適な使い方はイメージに対してメインのコマンドを設定しておき、 <code>CMD</code> を使ってデフォルトフラグを指定する。</p>
<pre><code class="language-Dockerfile"><pre style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code style="white-space:pre"><span>ENTRYPOINT [</span><span style="color:#a6e22e">&quot;go&quot;</span><span>]
</span><span>CMD [</span><span style="color:#a6e22e">&quot;--help&quot;</span><span>]</span></code></pre></code></pre>
<p>パラメータを指定して起動することでコマンドの実行ができる。</p>
<pre><code class="language-bash"><pre style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code style="white-space:pre"><span>$ docker </span><span style="color:#a6e22e">run</span><span> &lt;image&gt; </span><span style="color:#a6e22e">run</span><span> main.go</span></code></pre></code></pre>
<h3>VOLUME</h3>
<p>コンテナによって作成されるファイルやフォルダの公開に使う。イメージの可変的な部分、ユーザが設定可能な部分について使う。</p>
<h3>USER</h3>
<p>非 root ユーザで実行可能な場合は <code>USER</code> を使ってユーザの変更する。</p>
<pre><code class="language-Dockerfile"><pre style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code style="white-space:pre"><span>USER </span><span style="color:#bf79db">&lt;ユーザ&gt;</span><span>[:</span><span style="color:#bf79db">&lt;グループ&gt;</span><span>]</span></code></pre></code></pre>
<h3>WORKDIR</h3>
<p>Dockerfile で続く <code>RUN</code>、 <code>CMD</code>、 <code>ENTRYPOINT</code>、 <code>COPY / ADD</code> の命令の処理時で使う作業ディレクトリを指定する。</p>
<h3>ARG</h3>
<p><code>build</code> 時にユーザが渡せる変数を定義する。
構築時には <code>docker build --build-arg &lt;変数名&gt;=&lt;値&gt;</code> を指定する。</p>
<pre><code class="language-Dockerfile"><pre style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code style="white-space:pre"><span>ARG </span><span style="color:#bf79db">&lt;name&gt;</span><span>[=</span><span style="color:#bf79db">&lt;デフォルト値&gt;</span><span>]</span></code></pre></code></pre>
<h2>docker-compose</h2>
<p>サービスを定義する。</p>
<h3>build</h3>
<p>ビルド時に適用される。</p>
<pre><code class="language-yml"><pre style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code style="white-space:pre"><span style="color:#bf79db">services:</span><span>
</span><span></span><span style="color:#bf79db">  webapp:</span><span>
</span><span></span><span style="color:#bf79db">    build:</span><span> ./dir</span></code></pre></code></pre>
<p><code>context</code> でパスを指定し, <code>Dockerfile</code> や <code>args</code> も指定できる。</p>
<pre><code class="language-yml"><pre style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code style="white-space:pre"><span style="color:#bf79db">services:</span><span>
</span><span></span><span style="color:#bf79db">  webapp:</span><span>
</span><span></span><span style="color:#bf79db">    build:</span><span>
</span><span></span><span style="color:#bf79db">      context:</span><span> ./dir
</span><span></span><span style="color:#bf79db">      dockerfile:</span><span> Dockerfile-alternate
</span><span></span><span style="color:#bf79db">      args:</span><span>
</span><span></span><span style="color:#bf79db">        buildno:</span><span> </span><span class="hljs-number">1</span></code></pre></code></pre>
<p><code>image</code> 名と <code>tag</code> を指定できる。</p>
<pre><code class="language-yml"><pre style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code style="white-space:pre"><span style="color:#bf79db">build:</span><span> ./dir
</span><span></span><span style="color:#bf79db">image:</span><span> webapp:tag</span></code></pre></code></pre>
<h3>context</h3>
<p><code>Dockerfile</code> を含むディレクトリへのパスか、 git リポジトリの URL を指定する。</p>
<pre><code class="language-yml"><pre style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code style="white-space:pre"><span style="color:#bf79db">build:</span><span>
</span><span></span><span style="color:#bf79db">  context:</span><span> ./dir</span></code></pre></code></pre>
<h3>dockerfile</h3>
<p>別の <code>Dockerfile</code> を指定する。この場合、ビルドパスを同時に指定する必要がある。</p>
<pre><code class="language-yml"><pre style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code style="white-space:pre"><span style="color:#bf79db">build:</span><span>
</span><span></span><span style="color:#bf79db">  context:</span><span> .
</span><span></span><span style="color:#bf79db">  dockerfile:</span><span> Dockerfile-alternate</span></code></pre></code></pre>
<h3>args</h3>
<p>ビルド時にのみ有効な環境変数を設定する。
個々をマッピングするか、リストで書く.ブール値はクォートで囲む。</p>
<pre><code class="language-yml"><pre style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code style="white-space:pre"><span style="color:#bf79db">build:</span><span>
</span><span></span><span style="color:#bf79db">  context:</span><span> .
</span><span></span><span style="color:#bf79db">  args:</span><span>
</span><span></span><span style="color:#bf79db">    buildno:</span><span> </span><span class="hljs-number">1</span><span>
</span><span></span><span style="color:#bf79db">    gitcommithash:</span><span> abc123</span></code></pre></code></pre>
<pre><code class="language-yml"><pre style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code style="white-space:pre"><span>build:
</span>  context: .
<!-- -->  args:
<span>    - </span><span class="hljs-attr">buildno</span><span>=</span><span class="hljs-number">1</span><span>
</span><span>    - </span><span class="hljs-attr">gitcommithash</span><span>=abc123</span></code></pre></code></pre>
<h3>command</h3>
<p>デフォルトのコマンドを上書きする。</p>
<pre><code class="language-yml"><pre style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code style="white-space:pre"><span style="color:#a6e22e">command</span><span>: bundle </span><span style="color:#a6e22e">exec</span><span> thin -p 3000</span></code></pre></code></pre>
<p>リスト形式も可能。</p>
<pre><code class="language-yml"><pre style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code style="white-space:pre"><span>command: [</span><span style="color:#a6e22e">&quot;bundle&quot;</span><span>, </span><span style="color:#a6e22e">&quot;exec&quot;</span><span>, </span><span style="color:#a6e22e">&quot;thin&quot;</span><span>, </span><span style="color:#a6e22e">&quot;-p&quot;</span><span>, </span><span style="color:#a6e22e">&quot;3000&quot;</span><span>]</span></code></pre></code></pre>
<h3>depends_on</h3>
<p>サービス起動の依存関係を表す。
以下の場合、 db と redis の起動後に web が起動する。</p>
<pre><code class="language-yml"><pre style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code style="white-space:pre"><span style="color:#bf79db">version:</span><span> </span><span style="color:#a6e22e">&quot;3.9&quot;</span><span>
</span><span></span><span style="color:#bf79db">services:</span><span>
</span><span></span><span style="color:#bf79db">  web:</span><span>
</span><span></span><span style="color:#bf79db">    build:</span><span> .
</span><span></span><span style="color:#bf79db">    depends_on:</span><span>
</span>      - db
<!-- -->      - redis
<span></span><span style="color:#bf79db">  redis:</span><span>
</span><span></span><span style="color:#bf79db">    image:</span><span> redis
</span><span></span><span style="color:#bf79db">  db:</span><span>
</span><span></span><span style="color:#bf79db">    image:</span><span> postgres</span></code></pre></code></pre>
<h3>entrypoint</h3>
<p>デフォルトのエントリーポイントを上書きする。</p>
<pre><code class="language-yml"><pre style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code style="white-space:pre"><span>entrypoint: </span><span style="color:#bf79db">/code/</span><span>entrypoint.sh</span></code></pre></code></pre>
<p>リスト形式も可能。</p>
<pre><code class="language-yml"><pre style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code style="white-space:pre"><span>entrypoint: [</span><span style="color:#a6e22e">&quot;php&quot;</span><span>, </span><span style="color:#a6e22e">&quot;-d&quot;</span><span>, </span><span style="color:#a6e22e">&quot;memry_limit=1&quot;</span><span>, </span><span style="color:#a6e22e">&quot;vendor/bin/phpunit&quot;</span><span>]</span></code></pre></code></pre>
<h3>environment</h3>
<p>環境変数を追加する。
個々をマッピングするか,リストで書く.ブール値はクォートで囲む。</p>
<pre><code class="language-yml"><pre style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code style="white-space:pre"><span style="color:#bf79db">environment:</span><span>
</span><span></span><span style="color:#bf79db">  RACK_ENV:</span><span> development
</span><span></span><span style="color:#bf79db">  SHOW:</span><span> </span><span style="color:#a6e22e">&#x27;true&#x27;</span><span>
</span><span></span><span style="color:#bf79db">  SESSION_SECRET:</span></code></pre></code></pre>
<pre><code class="language-yml"><pre style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code style="white-space:pre"><span>environment:
</span><span>  - </span><span class="hljs-attr">RACK_ENV</span><span>=development
</span><span>  - </span><span class="hljs-attr">SHOW</span><span>=</span><span style="color:#f92672;font-weight:bold">true</span><span>
</span>  - SESSION_SECRET</code></pre></code></pre>
<h3>expose</h3>
<p>ホストマシンにはポートを公開せずに,ポートを expose する.
リンクされたサービスのみアクセス可能。</p>
<pre><code class="language-yml"><pre style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code style="white-space:pre"><span>expose:
</span><span>  -</span><span class="ruby"> </span><span class="ruby" style="color:#a6e22e">&quot;3000&quot;</span><span class="ruby">
</span><span class="ruby"></span><span>  -</span><span class="ruby"> </span><span class="ruby" style="color:#a6e22e">&quot;8000&quot;</span></code></pre></code></pre>
<h3>external_links</h3>
<p>実行する <code>docker-compose.yml</code> 以外から起動されたコンテナをリンクする。
コンテナ名とエイリアス名 (CONTAINER:ALIAS) を指定する。</p>
<pre><code class="language-yml"><pre style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code style="white-space:pre"><span>external_links:
</span><span>  -</span><span class="ruby"> redis_1
</span><span class="ruby"></span><span>  -</span><span class="ruby"> </span><span class="ruby" style="color:#bf79db">project_db_1:</span><span class="ruby">mysql</span></code></pre></code></pre>
<h3>extra_hosts</h3>
<p>ホスト名をマッピングに追加する。
<code>/etc/hosts</code> に追加される。</p>
<pre><code class="language-yml"><pre style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code style="white-space:pre"><span style="color:#bf79db">extra_hosts:</span><span>
</span><span>  - </span><span style="color:#a6e22e">&quot;somehost:162.242.195.82&quot;</span></code></pre></code></pre>
<h3>ports</h3>
<p>公開用のポートを設定する。
ホスト側とコンテナ側のポートを指定する( <code>HOST:CONTAINER</code> )。
もしくは、コンテナ側のポートを指定する。</p>
<pre><code class="language-yml"><pre style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code style="white-space:pre"><span style="color:#bf79db">ports</span><span>:
</span><span>  - &quot;</span><span style="color:#bf79db">3000</span><span style="color:#a6e22e">&quot;
</span><span style="color:#a6e22e">  - &quot;</span><span class="hljs-number">3000</span><span>-</span><span class="hljs-number">3005</span><span style="color:#a6e22e">&quot;
</span><span style="color:#a6e22e">  - &quot;</span><span class="hljs-number">8000</span><span>:</span><span class="hljs-number">8000</span><span style="color:#a6e22e">&quot;
</span><span style="color:#a6e22e">  - &quot;</span><span class="hljs-number">9090</span><span>-</span><span class="hljs-number">9091</span><span>:</span><span class="hljs-number">8080</span><span>-</span><span class="hljs-number">8081</span><span style="color:#a6e22e">&quot;
</span><span style="color:#a6e22e">  - &quot;</span><span class="hljs-number">49100</span><span>:</span><span class="hljs-number">22</span><span style="color:#a6e22e">&quot;
</span><span style="color:#a6e22e">  - &quot;</span><span class="hljs-number">127.0.0.1:8001</span><span>:</span><span class="hljs-number">8001</span><span style="color:#a6e22e">&quot;
</span><span style="color:#a6e22e">  - &quot;</span><span class="hljs-number">127.0.0.1:5000</span><span>-</span><span class="hljs-number">5010</span><span>:</span><span class="hljs-number">5000</span><span>-</span><span class="hljs-number">5010</span><span style="color:#a6e22e">&quot;
</span><span style="color:#a6e22e">  - &quot;</span><span class="hljs-number">6060</span><span>:</span><span class="hljs-number">6060</span><span>/udp</span><span style="color:#a6e22e">&quot;
</span><span style="color:#a6e22e">  - &quot;</span><span class="hljs-number">12400</span><span>-</span><span class="hljs-number">12500</span><span>:</span><span class="hljs-number">1240</span><span style="color:#a6e22e">&quot;</span></code></pre></code></pre>
<h3>volumes</h3>
<p>複数のサービスにわたってボリュームを再利用したい場合、最上位の <code>volumes</code> キーで名前付きボリュームを定義する。
以下の場合、 db サービスのデータディレクトリは、 backup サービスのボリュームにも共有させている。</p>
<pre><code class="language-yml"><pre style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code style="white-space:pre"><span style="color:#bf79db">version:</span><span> </span><span style="color:#a6e22e">&quot;3.9&quot;</span><span>
</span><span></span><span style="color:#bf79db">services:</span><span>
</span><span></span><span style="color:#bf79db">  db:</span><span>
</span><span></span><span style="color:#bf79db">    image:</span><span> db
</span><span></span><span style="color:#bf79db">    volumes:</span><span>
</span><span>      - data-volume:</span><span class="hljs-meta-keyword">/var/</span><span>lib/db
</span><span></span><span style="color:#bf79db">  backup:</span><span>
</span><span></span><span style="color:#bf79db">    image:</span><span> backup-service
</span><span></span><span style="color:#bf79db">    volumes:</span><span>
</span><span>      - data-volume:</span><span class="hljs-meta-keyword">/var/</span><span>lib</span><span class="hljs-meta-keyword">/backup/</span><span>data
</span><span></span><span style="color:#bf79db">volumes:</span><span>
</span>  data-volume:</code></pre></code></pre>
<p>短い書き方では、 <code>[SOURCE:]TARGET[:MODE]</code> と書ける。 <code>ro</code> は <code>readonly</code> 。</p>
<pre><code class="language-yml"><pre style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code style="white-space:pre"><span>- ./cache:</span><span style="color:#bf79db">/tmp/</span><span>cache:ro</span></code></pre></code></pre>
<h3>変数の置換</h3>
<p>シェル環境に <code>POSTGRES_VERSION=9.3</code> が定義されていると、 postgres のバージョンは 9.3 になる。</p>
<pre><code class="language-yml"><pre style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code style="white-space:pre"><span style="color:#bf79db">db:</span><span>
</span><span></span><span style="color:#bf79db">  image:</span><span> </span><span style="color:#a6e22e">&quot;postgres:${POSTGRES_VERSION}&quot;</span></code></pre></code></pre>
<p>環境変数が設定されていない場合は空文字になる。
環境変数のデフォルト値は <code>.env</code> ファイルに設定しておくことができる。</p>
<ul>
<li>${VARIABLE:-default} は VARIABLE がセットされていないか, 空文字のときに <code>default</code> として評価される</li>
<li>${VARIABLE-default} は VARIABLE がセットされているときのみ <code>default</code> として評価される</li>
</ul><script src="/_next/static/chunks/webpack-0954c5d36ad957a9.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/a34f9d1faa5f3315-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/css/45686ffcb70a597f.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"3:I[2846,[],\"\"]\n6:I[4707,[],\"\"]\n8:I[6423,[],\"\"]\na:I[1060,[],\"\"]\n7:[\"id\",\"20210306225218\",\"d\"]\nb:[]\n"])</script><script>self.__next_f.push([1,"0:[\"$\",\"$L3\",null,{\"buildId\":\"DbSjnD7TkIFiSbRUpl1am\",\"assetPrefix\":\"\",\"urlParts\":[\"\",\"docs\",\"20210306225218\"],\"initialTree\":[\"\",{\"children\":[\"docs\",{\"children\":[[\"id\",\"20210306225218\",\"d\"],{\"children\":[\"__PAGE__?{\\\"id\\\":\\\"20210306225218\\\"}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[\"docs\",{\"children\":[[\"id\",\"20210306225218\",\"d\"],{\"children\":[\"__PAGE__\",{},[[\"$L4\",\"$L5\",null],null],null]},[null,[\"$\",\"$L6\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"docs\",\"children\",\"$7\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L8\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]],null]},[null,[\"$\",\"$L6\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"docs\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L8\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]],null]},[[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/45686ffcb70a597f.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\"__className_36bd41\",\"children\":[\"$\",\"$L6\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L8\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[]}]}]}]],null],null],\"couldBeIntercepted\":false,\"initialHead\":[null,\"$L9\"],\"globalErrorComponent\":\"$a\",\"missingSlots\":\"$Wb\"}]\n"])</script><script>self.__next_f.push([1,"c:I[2972,[\"972\",\"static/chunks/972-7c12054a4e525885.js\",\"314\",\"static/chunks/app/docs/%5Bid%5D/page-8f3672b7de158179.js\"],\"\"]\n"])</script><script>self.__next_f.push([1,"5:[[[\"$\",\"div\",null,{\"children\":[null,[\"$\",\"$Lc\",null,{\"href\":\"/\",\"style\":{\"textDecoration\":\"none\"},\"children\":[\"$\",\"div\",null,{\"style\":{\"color\":\"black\",\"fontSize\":\"22px\",\"cusor\":\"pointer\"},\"children\":\"MyDocs\"}]}]]}],[\"$\",\"p\",null,{}]],[\"$\",\"h1\",null,{\"children\":[\"$\",\"b\",null,{\"children\":[\"# \",\"Dockerとdocker-composeのまとめ\"]}]}],[[\"$\",\"h2\",\"h2-0\",{\"children\":\"Docker\"}],\"\\n\",[\"$\",\"p\",\"p-0\",{\"children\":[[\"$\",\"code\",null,{\"children\":\"Dockerfile\"}],\" を元にイメージを構築する。\"]}],\"\\n\",[\"$\",\"h3\",\"h3-0\",{\"children\":\"build\"}],\"\\n\",[\"$\",\"p\",\"p-1\",{\"children\":[[\"$\",\"code\",null,{\"children\":\"Dockerfile\"}],\" が存在するディレクトリで実行する。\"]}],\"\\n\",[\"$\",\"pre\",\"pre-0\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-bash\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"display\":\"block\",\"overflowX\":\"auto\",\"padding\":\"0.5em\",\"background\":\"#272822\",\"color\":\"#ddd\"},\"children\":[\"$\",\"code\",null,{\"className\":\"$undefined\",\"style\":{\"whiteSpace\":\"pre\"},\"children\":[false,[[\"$\",\"span\",\"code-segement0\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"$$ \"]}],[\"$\",\"span\",\"code-segement1\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"docker build .\"]}]]]}]}]}]}],\"\\n\",[\"$\",\"p\",\"p-2\",{\"children\":[[\"$\",\"code\",null,{\"children\":\"-f\"}],\" オプションを使うことで Dockerfile のパスを指定できる。\"]}],\"\\n\",[\"$\",\"pre\",\"pre-1\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-bash\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"display\":\"block\",\"overflowX\":\"auto\",\"padding\":\"0.5em\",\"background\":\"#272822\",\"color\":\"#ddd\"},\"children\":[\"$\",\"code\",null,{\"className\":\"$undefined\",\"style\":{\"whiteSpace\":\"pre\"},\"children\":[false,[[\"$\",\"span\",\"code-segement0\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"$$ docker \"]}],[\"$\",\"span\",\"code-segement1\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#f92672\",\"fontWeight\":\"bold\"},\"children\":[\"build\"]}],[\"$\",\"span\",\"code-segement2\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" -f /\"]}],[\"$\",\"span\",\"code-segement3\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#f92672\",\"fontWeight\":\"bold\"},\"children\":[\"path\"]}],[\"$\",\"span\",\"code-segement4\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"/\"]}],[\"$\",\"span\",\"code-segement5\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#f92672\",\"fontWeight\":\"bold\"},\"children\":[\"to\"]}],[\"$\",\"span\",\"code-segement6\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"/Dockerfile .\"]}]]]}]}]}]}],\"\\n\",[\"$\",\"h3\",\"h3-1\",{\"children\":\"FROM\"}],\"\\n\",[\"$\",\"p\",\"p-3\",{\"children\":\"ベースイメージを指定する。\"}],\"\\n\",[\"$\",\"pre\",\"pre-2\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-Dockerfile\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"display\":\"block\",\"overflowX\":\"auto\",\"padding\":\"0.5em\",\"background\":\"#272822\",\"color\":\"#ddd\"},\"children\":[\"$\",\"code\",null,{\"className\":\"$undefined\",\"style\":{\"whiteSpace\":\"pre\"},\"children\":[false,[[\"$\",\"span\",\"code-segement0\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"FROM \u003cimage\u003e[:\u003ctag\u003e][AS \u003cname\u003e]\"]}]]]}]}]}]}],\"\\n\",[\"$\",\"p\",\"p-4\",{\"children\":[[\"$\",\"code\",null,{\"children\":\"AS \u003cname\u003e\"}],\" でステージに名前を付けて、以降の \",[\"$\",\"code\",null,{\"children\":\"FROM\"}],\" と \",[\"$\",\"code\",null,{\"children\":\"COPY --from=\u003cname\u003e\"}],\" 命令で構築イメージを参照できる。\"]}],\"\\n\",[\"$\",\"h3\",\"h3-2\",{\"children\":\"RUN\"}],\"\\n\",[\"$\",\"p\",\"p-5\",{\"children\":\"シェルとして実行される。\"}],\"\\n\",[\"$\",\"pre\",\"pre-3\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-Dockerfile\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"display\":\"block\",\"overflowX\":\"auto\",\"padding\":\"0.5em\",\"background\":\"#272822\",\"color\":\"#ddd\"},\"children\":[\"$\",\"code\",null,{\"className\":\"$undefined\",\"style\":{\"whiteSpace\":\"pre\"},\"children\":[false,[[\"$\",\"span\",\"code-segement0\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"RUN \"]}],[\"$\",\"span\",\"code-segement1\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"/bin/\"]}],[\"$\",\"span\",\"code-segement2\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"sh -c \"]}],[\"$\",\"span\",\"code-segement3\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"'source $HOME/.bashrc;'\"]}],[\"$\",\"span\",\"code-segement4\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" \\\\\\n\"]}],[\"$\",\"span\",\"code-segement5\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"echo \"]}],[\"$\",\"span\",\"code-segement6\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"$$HOME\"]}]]]}]}]}]}],\"\\n\",[\"$\",\"p\",\"p-6\",{\"children\":\"1 行で書く場合。\"}],\"\\n\",[\"$\",\"pre\",\"pre-4\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-Dockerfile\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"display\":\"block\",\"overflowX\":\"auto\",\"padding\":\"0.5em\",\"background\":\"#272822\",\"color\":\"#ddd\"},\"children\":[\"$\",\"code\",null,{\"className\":\"$undefined\",\"style\":{\"whiteSpace\":\"pre\"},\"children\":[false,[[\"$\",\"span\",\"code-segement0\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#f92672\",\"fontWeight\":\"bold\"},\"children\":[\"RUN\"]}],[\"$\",\"span\",\"code-segement1\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" /bin/\"]}],[\"$\",\"span\",\"code-segement2\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#f92672\",\"fontWeight\":\"bold\"},\"children\":[\"sh\"]}],[\"$\",\"span\",\"code-segement3\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" -c 'source \"]}],[\"$\",\"span\",\"code-segement4\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"$$HOME\"]}],[\"$\",\"span\",\"code-segement5\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"/.bashrc; echo \"]}],[\"$\",\"span\",\"code-segement6\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"$$HOME\"]}],[\"$\",\"span\",\"code-segement7\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"'\"]}]]]}]}]}]}],\"\\n\",[\"$\",\"p\",\"p-7\",{\"children\":[[\"$\",\"code\",null,{\"children\":\"bash/sh\"}],\" 以外のシェルを使う場合は \",[\"$\",\"code\",null,{\"children\":\"exec\"}],\" 形式でシェルに引数を渡す。\"]}],\"\\n\",[\"$\",\"pre\",\"pre-5\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-Dockerfile\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"display\":\"block\",\"overflowX\":\"auto\",\"padding\":\"0.5em\",\"background\":\"#272822\",\"color\":\"#ddd\"},\"children\":[\"$\",\"code\",null,{\"className\":\"$undefined\",\"style\":{\"whiteSpace\":\"pre\"},\"children\":[false,[[\"$\",\"span\",\"code-segement0\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"RUN [\"]}],[\"$\",\"span\",\"code-segement1\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"\\\"/bin/bash\\\"\"]}],[\"$\",\"span\",\"code-segement2\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\", \"]}],[\"$\",\"span\",\"code-segement3\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"\\\"-c\\\"\"]}],[\"$\",\"span\",\"code-segement4\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\", \"]}],[\"$\",\"span\",\"code-segement5\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"\\\"echo hello\\\"\"]}],[\"$\",\"span\",\"code-segement6\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"]\"]}]]]}]}]}]}],\"\\n\",[\"$\",\"p\",\"p-8\",{\"children\":[[\"$\",\"code\",null,{\"children\":\"exec\"}],\" 形式で書く場合は json 配列として扱わるため \",[\"$\",\"code\",null,{\"children\":\"\\\"\\\"\"}],\" で囲む必要がある。\"]}],\"\\n\",[\"$\",\"h3\",\"h3-3\",{\"children\":\"CMD\"}],\"\\n\",[\"$\",\"p\",\"p-9\",{\"children\":[[\"$\",\"code\",null,{\"children\":\"Dockerfile\"}],\" 内の \",[\"$\",\"code\",null,{\"children\":\"CMD\"}],\" 命令は 1 つのみ。複数あっても最後の \",[\"$\",\"code\",null,{\"children\":\"CMD\"}],\" 命令のみが実行される。\\n\",[\"$\",\"strong\",\"strong-0\",{\"children\":\"CMD の目的はコンテナの実行時のデフォルトの処理を指定する\"}]]}],\"\\n\",[\"$\",\"pre\",\"pre-6\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-Dockerfile\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"display\":\"block\",\"overflowX\":\"auto\",\"padding\":\"0.5em\",\"background\":\"#272822\",\"color\":\"#ddd\"},\"children\":[\"$\",\"code\",null,{\"className\":\"$undefined\",\"style\":{\"whiteSpace\":\"pre\"},\"children\":[false,[[\"$\",\"span\",\"code-segement0\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"FROM ubuntu\\n\"]}],[\"$\",\"span\",\"code-segement1\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"CMD [\"]}],[\"$\",\"span\",\"code-segement2\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"\\\"/usr/bin/wc\\\"\"]}],[\"$\",\"span\",\"code-segement3\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\", \"]}],[\"$\",\"span\",\"code-segement4\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"\\\"--help\\\"\"]}],[\"$\",\"span\",\"code-segement5\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"]\"]}]]]}]}]}]}],\"\\n\",[\"$\",\"h3\",\"h3-4\",{\"children\":\"ADD / COPY\"}],\"\\n\",[\"$\",\"p\",\"p-10\",{\"children\":[[\"$\",\"code\",null,{\"children\":\"\u003csrc\u003e\"}],\" で指定したファイル、ディレクトリをコンテナ内の \",[\"$\",\"code\",null,{\"children\":\"\u003cdest\u003e\"}],\" にコピーする。\\nローカルのファイルをコンテナにコピーしたい場合は \",[\"$\",\"code\",null,{\"children\":\"COPY\"}],\" を使う。\\n\",[\"$\",\"code\",null,{\"children\":\"ADD\"}],\" はローカルでの圧縮ファイルの展開やリモートファイルの展開したい場面で使う。\"]}],\"\\n\",[\"$\",\"pre\",\"pre-7\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-Dockerfile\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"display\":\"block\",\"overflowX\":\"auto\",\"padding\":\"0.5em\",\"background\":\"#272822\",\"color\":\"#ddd\"},\"children\":[\"$\",\"code\",null,{\"className\":\"$undefined\",\"style\":{\"whiteSpace\":\"pre\"},\"children\":[false,[[\"$\",\"span\",\"code-segement0\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"ADD [--chown=\"]}],[\"$\",\"span\",\"code-segement1\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"\u003cユーザ\u003e\"]}],[\"$\",\"span\",\"code-segement2\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\":\"]}],[\"$\",\"span\",\"code-segement3\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"\u003cグループ\u003e\"]}],[\"$\",\"span\",\"code-segement4\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"] \"]}],[\"$\",\"span\",\"code-segement5\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"\u003csrc\u003e\"]}],[\"$\",\"span\",\"code-segement6\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" \"]}],[\"$\",\"span\",\"code-segement7\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"\u003cdest\u003e\"]}],[\"$\",\"span\",\"code-segement8\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],[\"$\",\"span\",\"code-segement9\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"COPY [--chown=\"]}],[\"$\",\"span\",\"code-segement10\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"\u003cユーザ\u003e\"]}],[\"$\",\"span\",\"code-segement11\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\":\"]}],[\"$\",\"span\",\"code-segement12\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"\u003cグループ\u003e\"]}],[\"$\",\"span\",\"code-segement13\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"] \"]}],[\"$\",\"span\",\"code-segement14\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"\u003csrc\u003e\"]}],[\"$\",\"span\",\"code-segement15\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" \"]}],[\"$\",\"span\",\"code-segement16\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"\u003cdest\u003e\"]}]]]}]}]}]}],\"\\n\",[\"$\",\"h3\",\"h3-5\",{\"children\":\"EXPOSE\"}],\"\\n\",[\"$\",\"p\",\"p-11\",{\"children\":\"コンテナが接続するためのリッスンするポートを指定する。\"}],\"\\n\",[\"$\",\"pre\",\"pre-8\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-Dockerfile\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"display\":\"block\",\"overflowX\":\"auto\",\"padding\":\"0.5em\",\"background\":\"#272822\",\"color\":\"#ddd\"},\"children\":[\"$\",\"code\",null,{\"className\":\"$undefined\",\"style\":{\"whiteSpace\":\"pre\"},\"children\":[false,[[\"$\",\"span\",\"code-segement0\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"EXPOSE\"]}],[\"$\",\"span\",\"code-segement1\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" \"]}],[\"$\",\"span\",\"code-segement2\",{\"className\":\"hljs-number\",\"style\":{},\"children\":[\"80\"]}]]]}]}]}]}],\"\\n\",[\"$\",\"p\",\"p-12\",{\"children\":[\"実際にはポートの公開は行われない。ドキュメント的な用途として使われる。\\n実際に公開して使うには、 \",[\"$\",\"code\",null,{\"children\":\"docker run\"}],\" の際にフラグをつける。\"]}],\"\\n\",[\"$\",\"pre\",\"pre-9\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-bash\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"display\":\"block\",\"overflowX\":\"auto\",\"padding\":\"0.5em\",\"background\":\"#272822\",\"color\":\"#ddd\"},\"children\":[\"$\",\"code\",null,{\"className\":\"$undefined\",\"style\":{\"whiteSpace\":\"pre\"},\"children\":[false,[[\"$\",\"span\",\"code-segement0\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"$$ \"]}],[\"$\",\"span\",\"code-segement1\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"docker\"]}],[\"$\",\"span\",\"code-segement2\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" run --rm -it -p \"]}],[\"$\",\"span\",\"code-segement3\",{\"className\":\"hljs-number\",\"style\":{},\"children\":[\"80\"]}],[\"$\",\"span\",\"code-segement4\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\":\"]}],[\"$\",\"span\",\"code-segement5\",{\"className\":\"hljs-number\",\"style\":{},\"children\":[\"80\"]}],[\"$\",\"span\",\"code-segement6\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" \u003cimage\u003e bash\"]}]]]}]}]}]}],\"\\n\",[\"$\",\"h3\",\"h3-6\",{\"children\":\"ENV\"}],\"\\n\",[\"$\",\"p\",\"p-13\",{\"children\":\"環境変数の設定をする。\"}],\"\\n\",[\"$\",\"pre\",\"pre-10\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-Dockerfile\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"display\":\"block\",\"overflowX\":\"auto\",\"padding\":\"0.5em\",\"background\":\"#272822\",\"color\":\"#ddd\"},\"children\":[\"$\",\"code\",null,{\"className\":\"$undefined\",\"style\":{\"whiteSpace\":\"pre\"},\"children\":[false,[[\"$\",\"span\",\"code-segement0\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"ENV \"]}],[\"$\",\"span\",\"code-segement1\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#f92672\"},\"children\":[\"\u003c\"]}],[\"$\",\"span\",\"code-segement2\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#f92672\"},\"children\":[\"key\"]}],[\"$\",\"span\",\"code-segement3\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#f92672\"},\"children\":[\"\u003e\"]}],[\"$\",\"span\",\"code-segement4\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"=\"]}],[\"$\",\"span\",\"code-segement5\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#f92672\"},\"children\":[\"\u003c\"]}],[\"$\",\"span\",\"code-segement6\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#f92672\"},\"children\":[\"value\"]}],[\"$\",\"span\",\"code-segement7\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#f92672\"},\"children\":[\"\u003e\"]}]]]}]}]}]}],\"\\n\",[\"$\",\"p\",\"p-14\",{\"children\":[\"環境変数は、 \",[\"$\",\"code\",null,{\"children\":\"Dockerfile\"}],\" 内の変数として使える。\\n使い方は、 \",[\"$\",\"code\",null,{\"children\":\"$$variable_name\"}],\" もしくは、 \",[\"$\",\"code\",null,{\"children\":\"$${variable_name}\"}]]}],\"\\n\",[\"$\",\"pre\",\"pre-11\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-Dockerfile\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"display\":\"block\",\"overflowX\":\"auto\",\"padding\":\"0.5em\",\"background\":\"#272822\",\"color\":\"#ddd\"},\"children\":[\"$\",\"code\",null,{\"className\":\"$undefined\",\"style\":{\"whiteSpace\":\"pre\"},\"children\":[false,[[\"$\",\"span\",\"code-segement0\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#f92672\",\"fontWeight\":\"bold\"},\"children\":[\"FROM\"]}],[\"$\",\"span\",\"code-segement1\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" \u003cimage\u003e\\n\"]}],[\"$\",\"span\",\"code-segement2\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\"]}],[\"$\",\"span\",\"code-segement3\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#f92672\",\"fontWeight\":\"bold\"},\"children\":[\"ENV\"]}],[\"$\",\"span\",\"code-segement4\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" FOO=/bar\\n\"]}],[\"$\",\"span\",\"code-segement5\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\"]}],[\"$\",\"span\",\"code-segement6\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#f92672\",\"fontWeight\":\"bold\"},\"children\":[\"WORKDIR\"]}],[\"$\",\"span\",\"code-segement7\",{\"className\":\"bash\",\"style\":{},\"children\":[\" \"]}],[\"$\",\"span\",\"code-segement8\",{\"className\":\"bash\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"$${FOO}\"]}],[\"$\",\"span\",\"code-segement9\",{\"className\":\"bash\",\"style\":{},\"children\":[\" \"]}],[\"$\",\"span\",\"code-segement10\",{\"className\":\"bash\",\"style\":{\"color\":\"#75715e\"},\"children\":[\"# WORKDIR /bar\"]}]]]}]}]}]}],\"\\n\",[\"$\",\"h3\",\"h3-7\",{\"children\":\"ENTRYPOINT\"}],\"\\n\",[\"$\",\"p\",\"p-15\",{\"children\":[\"最適な使い方はイメージに対してメインのコマンドを設定しておき、 \",[\"$\",\"code\",null,{\"children\":\"CMD\"}],\" を使ってデフォルトフラグを指定する。\"]}],\"\\n\",[\"$\",\"pre\",\"pre-12\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-Dockerfile\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"display\":\"block\",\"overflowX\":\"auto\",\"padding\":\"0.5em\",\"background\":\"#272822\",\"color\":\"#ddd\"},\"children\":[\"$\",\"code\",null,{\"className\":\"$undefined\",\"style\":{\"whiteSpace\":\"pre\"},\"children\":[false,[[\"$\",\"span\",\"code-segement0\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"ENTRYPOINT [\"]}],[\"$\",\"span\",\"code-segement1\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"\\\"go\\\"\"]}],[\"$\",\"span\",\"code-segement2\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"]\\n\"]}],[\"$\",\"span\",\"code-segement3\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"CMD [\"]}],[\"$\",\"span\",\"code-segement4\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"\\\"--help\\\"\"]}],[\"$\",\"span\",\"code-segement5\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"]\"]}]]]}]}]}]}],\"\\n\",[\"$\",\"p\",\"p-16\",{\"children\":\"パラメータを指定して起動することでコマンドの実行ができる。\"}],\"\\n\",[\"$\",\"pre\",\"pre-13\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-bash\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"display\":\"block\",\"overflowX\":\"auto\",\"padding\":\"0.5em\",\"background\":\"#272822\",\"color\":\"#ddd\"},\"children\":[\"$\",\"code\",null,{\"className\":\"$undefined\",\"style\":{\"whiteSpace\":\"pre\"},\"children\":[false,[[\"$\",\"span\",\"code-segement0\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"$$ docker \"]}],[\"$\",\"span\",\"code-segement1\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"run\"]}],[\"$\",\"span\",\"code-segement2\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" \u003cimage\u003e \"]}],[\"$\",\"span\",\"code-segement3\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"run\"]}],[\"$\",\"span\",\"code-segement4\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" main.go\"]}]]]}]}]}]}],\"\\n\",[\"$\",\"h3\",\"h3-8\",{\"children\":\"VOLUME\"}],\"\\n\",[\"$\",\"p\",\"p-17\",{\"children\":\"コンテナによって作成されるファイルやフォルダの公開に使う。イメージの可変的な部分、ユーザが設定可能な部分について使う。\"}],\"\\n\",[\"$\",\"h3\",\"h3-9\",{\"children\":\"USER\"}],\"\\n\",[\"$\",\"p\",\"p-18\",{\"children\":[\"非 root ユーザで実行可能な場合は \",[\"$\",\"code\",null,{\"children\":\"USER\"}],\" を使ってユーザの変更する。\"]}],\"\\n\",[\"$\",\"pre\",\"pre-14\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-Dockerfile\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"display\":\"block\",\"overflowX\":\"auto\",\"padding\":\"0.5em\",\"background\":\"#272822\",\"color\":\"#ddd\"},\"children\":[\"$\",\"code\",null,{\"className\":\"$undefined\",\"style\":{\"whiteSpace\":\"pre\"},\"children\":[false,[[\"$\",\"span\",\"code-segement0\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"USER \"]}],[\"$\",\"span\",\"code-segement1\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"\u003cユーザ\u003e\"]}],[\"$\",\"span\",\"code-segement2\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"[:\"]}],[\"$\",\"span\",\"code-segement3\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"\u003cグループ\u003e\"]}],[\"$\",\"span\",\"code-segement4\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"]\"]}]]]}]}]}]}],\"\\n\",[\"$\",\"h3\",\"h3-10\",{\"children\":\"WORKDIR\"}],\"\\n\",[\"$\",\"p\",\"p-19\",{\"children\":[\"Dockerfile で続く \",[\"$\",\"code\",null,{\"children\":\"RUN\"}],\"、 \",[\"$\",\"code\",null,{\"children\":\"CMD\"}],\"、 \",[\"$\",\"code\",null,{\"children\":\"ENTRYPOINT\"}],\"、 \",[\"$\",\"code\",null,{\"children\":\"COPY / ADD\"}],\" の命令の処理時で使う作業ディレクトリを指定する。\"]}],\"\\n\",[\"$\",\"h3\",\"h3-11\",{\"children\":\"ARG\"}],\"\\n\",[\"$\",\"p\",\"p-20\",{\"children\":[[\"$\",\"code\",null,{\"children\":\"build\"}],\" 時にユーザが渡せる変数を定義する。\\n構築時には \",[\"$\",\"code\",null,{\"children\":\"docker build --build-arg \u003c変数名\u003e=\u003c値\u003e\"}],\" を指定する。\"]}],\"\\n\",[\"$\",\"pre\",\"pre-15\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-Dockerfile\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"display\":\"block\",\"overflowX\":\"auto\",\"padding\":\"0.5em\",\"background\":\"#272822\",\"color\":\"#ddd\"},\"children\":[\"$\",\"code\",null,{\"className\":\"$undefined\",\"style\":{\"whiteSpace\":\"pre\"},\"children\":[false,[[\"$\",\"span\",\"code-segement0\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"ARG \"]}],[\"$\",\"span\",\"code-segement1\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"\u003cname\u003e\"]}],[\"$\",\"span\",\"code-segement2\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"[=\"]}],[\"$\",\"span\",\"code-segement3\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"\u003cデフォルト値\u003e\"]}],[\"$\",\"span\",\"code-segement4\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"]\"]}]]]}]}]}]}],\"\\n\",[\"$\",\"h2\",\"h2-1\",{\"children\":\"docker-compose\"}],\"\\n\",[\"$\",\"p\",\"p-21\",{\"children\":\"サービスを定義する。\"}],\"\\n\",[\"$\",\"h3\",\"h3-12\",{\"children\":\"build\"}],\"\\n\",[\"$\",\"p\",\"p-22\",{\"children\":\"ビルド時に適用される。\"}],\"\\n\",[\"$\",\"pre\",\"pre-16\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-yml\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"display\":\"block\",\"overflowX\":\"auto\",\"padding\":\"0.5em\",\"background\":\"#272822\",\"color\":\"#ddd\"},\"children\":[\"$\",\"code\",null,{\"className\":\"$undefined\",\"style\":{\"whiteSpace\":\"pre\"},\"children\":[false,[[\"$\",\"span\",\"code-segement0\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"services:\"]}],[\"$\",\"span\",\"code-segement1\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],[\"$\",\"span\",\"code-segement2\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\"]}],[\"$\",\"span\",\"code-segement3\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"  webapp:\"]}],[\"$\",\"span\",\"code-segement4\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],[\"$\",\"span\",\"code-segement5\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\"]}],[\"$\",\"span\",\"code-segement6\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"    build:\"]}],[\"$\",\"span\",\"code-segement7\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" ./dir\"]}]]]}]}]}]}],\"\\n\",[\"$\",\"p\",\"p-23\",{\"children\":[[\"$\",\"code\",null,{\"children\":\"context\"}],\" でパスを指定し, \",[\"$\",\"code\",null,{\"children\":\"Dockerfile\"}],\" や \",[\"$\",\"code\",null,{\"children\":\"args\"}],\" も指定できる。\"]}],\"\\n\",[\"$\",\"pre\",\"pre-17\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-yml\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"display\":\"block\",\"overflowX\":\"auto\",\"padding\":\"0.5em\",\"background\":\"#272822\",\"color\":\"#ddd\"},\"children\":[\"$\",\"code\",null,{\"className\":\"$undefined\",\"style\":{\"whiteSpace\":\"pre\"},\"children\":[false,[[\"$\",\"span\",\"code-segement0\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"services:\"]}],[\"$\",\"span\",\"code-segement1\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],[\"$\",\"span\",\"code-segement2\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\"]}],[\"$\",\"span\",\"code-segement3\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"  webapp:\"]}],[\"$\",\"span\",\"code-segement4\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],[\"$\",\"span\",\"code-segement5\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\"]}],[\"$\",\"span\",\"code-segement6\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"    build:\"]}],[\"$\",\"span\",\"code-segement7\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],[\"$\",\"span\",\"code-segement8\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\"]}],[\"$\",\"span\",\"code-segement9\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"      context:\"]}],[\"$\",\"span\",\"code-segement10\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" ./dir\\n\"]}],[\"$\",\"span\",\"code-segement11\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\"]}],[\"$\",\"span\",\"code-segement12\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"      dockerfile:\"]}],[\"$\",\"span\",\"code-segement13\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" Dockerfile-alternate\\n\"]}],[\"$\",\"span\",\"code-segement14\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\"]}],[\"$\",\"span\",\"code-segement15\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"      args:\"]}],[\"$\",\"span\",\"code-segement16\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],[\"$\",\"span\",\"code-segement17\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\"]}],[\"$\",\"span\",\"code-segement18\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"        buildno:\"]}],[\"$\",\"span\",\"code-segement19\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" \"]}],[\"$\",\"span\",\"code-segement20\",{\"className\":\"hljs-number\",\"style\":{},\"children\":[\"1\"]}]]]}]}]}]}],\"\\n\",[\"$\",\"p\",\"p-24\",{\"children\":[[\"$\",\"code\",null,{\"children\":\"image\"}],\" 名と \",[\"$\",\"code\",null,{\"children\":\"tag\"}],\" を指定できる。\"]}],\"\\n\",[\"$\",\"pre\",\"pre-18\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-yml\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"display\":\"block\",\"overflowX\":\"auto\",\"padding\":\"0.5em\",\"background\":\"#272822\",\"color\":\"#ddd\"},\"children\":[\"$\",\"code\",null,{\"className\":\"$undefined\",\"style\":{\"whiteSpace\":\"pre\"},\"children\":[false,[[\"$\",\"span\",\"code-segement0\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"build:\"]}],[\"$\",\"span\",\"code-segement1\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" ./dir\\n\"]}],[\"$\",\"span\",\"code-segement2\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\"]}],[\"$\",\"span\",\"code-segement3\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"image:\"]}],[\"$\",\"span\",\"code-segement4\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" webapp:tag\"]}]]]}]}]}]}],\"\\n\",[\"$\",\"h3\",\"h3-13\",{\"children\":\"context\"}],\"\\n\",[\"$\",\"p\",\"p-25\",{\"children\":[[\"$\",\"code\",null,{\"children\":\"Dockerfile\"}],\" を含むディレクトリへのパスか、 git リポジトリの URL を指定する。\"]}],\"\\n\",[\"$\",\"pre\",\"pre-19\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-yml\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"display\":\"block\",\"overflowX\":\"auto\",\"padding\":\"0.5em\",\"background\":\"#272822\",\"color\":\"#ddd\"},\"children\":[\"$\",\"code\",null,{\"className\":\"$undefined\",\"style\":{\"whiteSpace\":\"pre\"},\"children\":[false,[[\"$\",\"span\",\"code-segement0\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"build:\"]}],[\"$\",\"span\",\"code-segement1\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],[\"$\",\"span\",\"code-segement2\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\"]}],[\"$\",\"span\",\"code-segement3\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"  context:\"]}],[\"$\",\"span\",\"code-segement4\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" ./dir\"]}]]]}]}]}]}],\"\\n\",[\"$\",\"h3\",\"h3-14\",{\"children\":\"dockerfile\"}],\"\\n\",[\"$\",\"p\",\"p-26\",{\"children\":[\"別の \",[\"$\",\"code\",null,{\"children\":\"Dockerfile\"}],\" を指定する。この場合、ビルドパスを同時に指定する必要がある。\"]}],\"\\n\",[\"$\",\"pre\",\"pre-20\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-yml\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"display\":\"block\",\"overflowX\":\"auto\",\"padding\":\"0.5em\",\"background\":\"#272822\",\"color\":\"#ddd\"},\"children\":[\"$\",\"code\",null,{\"className\":\"$undefined\",\"style\":{\"whiteSpace\":\"pre\"},\"children\":[false,[[\"$\",\"span\",\"code-segement0\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"build:\"]}],[\"$\",\"span\",\"code-segement1\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],[\"$\",\"span\",\"code-segement2\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\"]}],[\"$\",\"span\",\"code-segement3\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"  context:\"]}],[\"$\",\"span\",\"code-segement4\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" .\\n\"]}],[\"$\",\"span\",\"code-segement5\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\"]}],[\"$\",\"span\",\"code-segement6\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"  dockerfile:\"]}],[\"$\",\"span\",\"code-segement7\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" Dockerfile-alternate\"]}]]]}]}]}]}],\"\\n\",[\"$\",\"h3\",\"h3-15\",{\"children\":\"args\"}],\"\\n\",[\"$\",\"p\",\"p-27\",{\"children\":\"ビルド時にのみ有効な環境変数を設定する。\\n個々をマッピングするか、リストで書く.ブール値はクォートで囲む。\"}],\"\\n\",[\"$\",\"pre\",\"pre-21\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-yml\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"display\":\"block\",\"overflowX\":\"auto\",\"padding\":\"0.5em\",\"background\":\"#272822\",\"color\":\"#ddd\"},\"children\":[\"$\",\"code\",null,{\"className\":\"$undefined\",\"style\":{\"whiteSpace\":\"pre\"},\"children\":[false,[[\"$\",\"span\",\"code-segement0\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"build:\"]}],[\"$\",\"span\",\"code-segement1\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],[\"$\",\"span\",\"code-segement2\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\"]}],[\"$\",\"span\",\"code-segement3\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"  context:\"]}],[\"$\",\"span\",\"code-segement4\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" .\\n\"]}],[\"$\",\"span\",\"code-segement5\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\"]}],[\"$\",\"span\",\"code-segement6\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"  args:\"]}],[\"$\",\"span\",\"code-segement7\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],[\"$\",\"span\",\"code-segement8\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\"]}],[\"$\",\"span\",\"code-segement9\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"    buildno:\"]}],[\"$\",\"span\",\"code-segement10\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" \"]}],[\"$\",\"span\",\"code-segement11\",{\"className\":\"hljs-number\",\"style\":{},\"children\":[\"1\"]}],[\"$\",\"span\",\"code-segement12\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],[\"$\",\"span\",\"code-segement13\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\"]}],[\"$\",\"span\",\"code-segement14\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"    gitcommithash:\"]}],[\"$\",\"span\",\"code-segement15\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" abc123\"]}]]]}]}]}]}],\"\\n\",[\"$\",\"pre\",\"pre-22\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-yml\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"display\":\"block\",\"overflowX\":\"auto\",\"padding\":\"0.5em\",\"background\":\"#272822\",\"color\":\"#ddd\"},\"children\":[\"$\",\"code\",null,{\"className\":\"$undefined\",\"style\":{\"whiteSpace\":\"pre\"},\"children\":[false,[[\"$\",\"span\",\"code-segement0\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"build:\\n\"]}],\"  context: .\\n\",\"  args:\\n\",[\"$\",\"span\",\"code-segement3\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"    - \"]}],[\"$\",\"span\",\"code-segement4\",{\"className\":\"hljs-attr\",\"style\":{},\"children\":[\"buildno\"]}],[\"$\",\"span\",\"code-segement5\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"=\"]}],[\"$\",\"span\",\"code-segement6\",{\"className\":\"hljs-number\",\"style\":{},\"children\":[\"1\"]}],[\"$\",\"span\",\"code-segement7\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],[\"$\",\"span\",\"code-segement8\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"    - \"]}],[\"$\",\"span\",\"code-segement9\",{\"className\":\"hljs-attr\",\"style\":{},\"children\":[\"gitcommithash\"]}],[\"$\",\"span\",\"code-segement10\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"=abc123\"]}]]]}]}]}]}],\"\\n\",[\"$\",\"h3\",\"h3-16\",{\"children\":\"command\"}],\"\\n\",[\"$\",\"p\",\"p-28\",{\"children\":\"デフォルトのコマンドを上書きする。\"}],\"\\n\",[\"$\",\"pre\",\"pre-23\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-yml\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"display\":\"block\",\"overflowX\":\"auto\",\"padding\":\"0.5em\",\"background\":\"#272822\",\"color\":\"#ddd\"},\"children\":[\"$\",\"code\",null,{\"className\":\"$undefined\",\"style\":{\"whiteSpace\":\"pre\"},\"children\":[false,[[\"$\",\"span\",\"code-segement0\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"command\"]}],[\"$\",\"span\",\"code-segement1\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\": bundle \"]}],[\"$\",\"span\",\"code-segement2\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"exec\"]}],[\"$\",\"span\",\"code-segement3\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" thin -p 3000\"]}]]]}]}]}]}],\"\\n\",[\"$\",\"p\",\"p-29\",{\"children\":\"リスト形式も可能。\"}],\"\\n\",[\"$\",\"pre\",\"pre-24\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-yml\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"display\":\"block\",\"overflowX\":\"auto\",\"padding\":\"0.5em\",\"background\":\"#272822\",\"color\":\"#ddd\"},\"children\":[\"$\",\"code\",null,{\"className\":\"$undefined\",\"style\":{\"whiteSpace\":\"pre\"},\"children\":[false,[[\"$\",\"span\",\"code-segement0\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"command: [\"]}],[\"$\",\"span\",\"code-segement1\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"\\\"bundle\\\"\"]}],[\"$\",\"span\",\"code-segement2\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\", \"]}],[\"$\",\"span\",\"code-segement3\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"\\\"exec\\\"\"]}],[\"$\",\"span\",\"code-segement4\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\", \"]}],[\"$\",\"span\",\"code-segement5\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"\\\"thin\\\"\"]}],[\"$\",\"span\",\"code-segement6\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\", \"]}],[\"$\",\"span\",\"code-segement7\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"\\\"-p\\\"\"]}],[\"$\",\"span\",\"code-segement8\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\", \"]}],[\"$\",\"span\",\"code-segement9\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"\\\"3000\\\"\"]}],[\"$\",\"span\",\"code-segement10\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"]\"]}]]]}]}]}]}],\"\\n\",[\"$\",\"h3\",\"h3-17\",{\"children\":\"depends_on\"}],\"\\n\",[\"$\",\"p\",\"p-30\",{\"children\":\"サービス起動の依存関係を表す。\\n以下の場合、 db と redis の起動後に web が起動する。\"}],\"\\n\",[\"$\",\"pre\",\"pre-25\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-yml\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"display\":\"block\",\"overflowX\":\"auto\",\"padding\":\"0.5em\",\"background\":\"#272822\",\"color\":\"#ddd\"},\"children\":[\"$\",\"code\",null,{\"className\":\"$undefined\",\"style\":{\"whiteSpace\":\"pre\"},\"children\":[false,[[\"$\",\"span\",\"code-segement0\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"version:\"]}],[\"$\",\"span\",\"code-segement1\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" \"]}],[\"$\",\"span\",\"code-segement2\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"\\\"3.9\\\"\"]}],[\"$\",\"span\",\"code-segement3\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],[\"$\",\"span\",\"code-segement4\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\"]}],[\"$\",\"span\",\"code-segement5\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"services:\"]}],[\"$\",\"span\",\"code-segement6\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],[\"$\",\"span\",\"code-segement7\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\"]}],[\"$\",\"span\",\"code-segement8\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"  web:\"]}],[\"$\",\"span\",\"code-segement9\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],[\"$\",\"span\",\"code-segement10\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\"]}],[\"$\",\"span\",\"code-segement11\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"    build:\"]}],[\"$\",\"span\",\"code-segement12\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" .\\n\"]}],[\"$\",\"span\",\"code-segement13\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\"]}],[\"$\",\"span\",\"code-segement14\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"    depends_on:\"]}],[\"$\",\"span\",\"code-segement15\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],\"      - db\\n\",\"      - redis\\n\",[\"$\",\"span\",\"code-segement18\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\"]}],[\"$\",\"span\",\"code-segement19\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"  redis:\"]}],[\"$\",\"span\",\"code-segement20\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],[\"$\",\"span\",\"code-segement21\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\"]}],[\"$\",\"span\",\"code-segement22\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"    image:\"]}],[\"$\",\"span\",\"code-segement23\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" redis\\n\"]}],[\"$\",\"span\",\"code-segement24\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\"]}],[\"$\",\"span\",\"code-segement25\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"  db:\"]}],[\"$\",\"span\",\"code-segement26\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],[\"$\",\"span\",\"code-segement27\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\"]}],[\"$\",\"span\",\"code-segement28\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"    image:\"]}],[\"$\",\"span\",\"code-segement29\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" postgres\"]}]]]}]}]}]}],\"\\n\",[\"$\",\"h3\",\"h3-18\",{\"children\":\"entrypoint\"}],\"\\n\",[\"$\",\"p\",\"p-31\",{\"children\":\"デフォルトのエントリーポイントを上書きする。\"}],\"\\n\",[\"$\",\"pre\",\"pre-26\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-yml\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"display\":\"block\",\"overflowX\":\"auto\",\"padding\":\"0.5em\",\"background\":\"#272822\",\"color\":\"#ddd\"},\"children\":[\"$\",\"code\",null,{\"className\":\"$undefined\",\"style\":{\"whiteSpace\":\"pre\"},\"children\":[false,[[\"$\",\"span\",\"code-segement0\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"entrypoint: \"]}],[\"$\",\"span\",\"code-segement1\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"/code/\"]}],[\"$\",\"span\",\"code-segement2\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"entrypoint.sh\"]}]]]}]}]}]}],\"\\n\",[\"$\",\"p\",\"p-32\",{\"children\":\"リスト形式も可能。\"}],\"\\n\",[\"$\",\"pre\",\"pre-27\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-yml\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"display\":\"block\",\"overflowX\":\"auto\",\"padding\":\"0.5em\",\"background\":\"#272822\",\"color\":\"#ddd\"},\"children\":[\"$\",\"code\",null,{\"className\":\"$undefined\",\"style\":{\"whiteSpace\":\"pre\"},\"children\":[false,[[\"$\",\"span\",\"code-segement0\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"entrypoint: [\"]}],[\"$\",\"span\",\"code-segement1\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"\\\"php\\\"\"]}],[\"$\",\"span\",\"code-segement2\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\", \"]}],[\"$\",\"span\",\"code-segement3\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"\\\"-d\\\"\"]}],[\"$\",\"span\",\"code-segement4\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\", \"]}],[\"$\",\"span\",\"code-segement5\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"\\\"memry_limit=1\\\"\"]}],[\"$\",\"span\",\"code-segement6\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\", \"]}],[\"$\",\"span\",\"code-segement7\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"\\\"vendor/bin/phpunit\\\"\"]}],[\"$\",\"span\",\"code-segement8\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"]\"]}]]]}]}]}]}],\"\\n\",[\"$\",\"h3\",\"h3-19\",{\"children\":\"environment\"}],\"\\n\",[\"$\",\"p\",\"p-33\",{\"children\":\"環境変数を追加する。\\n個々をマッピングするか,リストで書く.ブール値はクォートで囲む。\"}],\"\\n\",[\"$\",\"pre\",\"pre-28\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-yml\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"display\":\"block\",\"overflowX\":\"auto\",\"padding\":\"0.5em\",\"background\":\"#272822\",\"color\":\"#ddd\"},\"children\":[\"$\",\"code\",null,{\"className\":\"$undefined\",\"style\":{\"whiteSpace\":\"pre\"},\"children\":[false,[[\"$\",\"span\",\"code-segement0\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"environment:\"]}],[\"$\",\"span\",\"code-segement1\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],[\"$\",\"span\",\"code-segement2\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\"]}],[\"$\",\"span\",\"code-segement3\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"  RACK_ENV:\"]}],[\"$\",\"span\",\"code-segement4\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" development\\n\"]}],[\"$\",\"span\",\"code-segement5\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\"]}],[\"$\",\"span\",\"code-segement6\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"  SHOW:\"]}],[\"$\",\"span\",\"code-segement7\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" \"]}],[\"$\",\"span\",\"code-segement8\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"'true'\"]}],[\"$\",\"span\",\"code-segement9\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],[\"$\",\"span\",\"code-segement10\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\"]}],[\"$\",\"span\",\"code-segement11\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"  SESSION_SECRET:\"]}]]]}]}]}]}],\"\\n\",[\"$\",\"pre\",\"pre-29\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-yml\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"display\":\"block\",\"overflowX\":\"auto\",\"padding\":\"0.5em\",\"background\":\"#272822\",\"color\":\"#ddd\"},\"children\":[\"$\",\"code\",null,{\"className\":\"$undefined\",\"style\":{\"whiteSpace\":\"pre\"},\"children\":[false,[[\"$\",\"span\",\"code-segement0\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"environment:\\n\"]}],[\"$\",\"span\",\"code-segement1\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"  - \"]}],[\"$\",\"span\",\"code-segement2\",{\"className\":\"hljs-attr\",\"style\":{},\"children\":[\"RACK_ENV\"]}],[\"$\",\"span\",\"code-segement3\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"=development\\n\"]}],[\"$\",\"span\",\"code-segement4\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"  - \"]}],[\"$\",\"span\",\"code-segement5\",{\"className\":\"hljs-attr\",\"style\":{},\"children\":[\"SHOW\"]}],[\"$\",\"span\",\"code-segement6\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"=\"]}],[\"$\",\"span\",\"code-segement7\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#f92672\",\"fontWeight\":\"bold\"},\"children\":[\"true\"]}],[\"$\",\"span\",\"code-segement8\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],\"  - SESSION_SECRET\"]]}]}]}]}],\"\\n\",[\"$\",\"h3\",\"h3-20\",{\"children\":\"expose\"}],\"\\n\",[\"$\",\"p\",\"p-34\",{\"children\":\"ホストマシンにはポートを公開せずに,ポートを expose する.\\nリンクされたサービスのみアクセス可能。\"}],\"\\n\",[\"$\",\"pre\",\"pre-30\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-yml\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"display\":\"block\",\"overflowX\":\"auto\",\"padding\":\"0.5em\",\"background\":\"#272822\",\"color\":\"#ddd\"},\"children\":[\"$\",\"code\",null,{\"className\":\"$undefined\",\"style\":{\"whiteSpace\":\"pre\"},\"children\":[false,[[\"$\",\"span\",\"code-segement0\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"expose:\\n\"]}],[\"$\",\"span\",\"code-segement1\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"  -\"]}],[\"$\",\"span\",\"code-segement2\",{\"className\":\"ruby\",\"style\":{},\"children\":[\" \"]}],[\"$\",\"span\",\"code-segement3\",{\"className\":\"ruby\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"\\\"3000\\\"\"]}],[\"$\",\"span\",\"code-segement4\",{\"className\":\"ruby\",\"style\":{},\"children\":[\"\\n\"]}],[\"$\",\"span\",\"code-segement5\",{\"className\":\"ruby\",\"style\":{},\"children\":[\"\"]}],[\"$\",\"span\",\"code-segement6\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"  -\"]}],[\"$\",\"span\",\"code-segement7\",{\"className\":\"ruby\",\"style\":{},\"children\":[\" \"]}],[\"$\",\"span\",\"code-segement8\",{\"className\":\"ruby\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"\\\"8000\\\"\"]}]]]}]}]}]}],\"\\n\",[\"$\",\"h3\",\"h3-21\",{\"children\":\"external_links\"}],\"\\n\",[\"$\",\"p\",\"p-35\",{\"children\":[\"実行する \",[\"$\",\"code\",null,{\"children\":\"docker-compose.yml\"}],\" 以外から起動されたコンテナをリンクする。\\nコンテナ名とエイリアス名 (CONTAINER:ALIAS) を指定する。\"]}],\"\\n\",[\"$\",\"pre\",\"pre-31\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-yml\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"display\":\"block\",\"overflowX\":\"auto\",\"padding\":\"0.5em\",\"background\":\"#272822\",\"color\":\"#ddd\"},\"children\":[\"$\",\"code\",null,{\"className\":\"$undefined\",\"style\":{\"whiteSpace\":\"pre\"},\"children\":[false,[[\"$\",\"span\",\"code-segement0\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"external_links:\\n\"]}],[\"$\",\"span\",\"code-segement1\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"  -\"]}],[\"$\",\"span\",\"code-segement2\",{\"className\":\"ruby\",\"style\":{},\"children\":[\" redis_1\\n\"]}],[\"$\",\"span\",\"code-segement3\",{\"className\":\"ruby\",\"style\":{},\"children\":[\"\"]}],[\"$\",\"span\",\"code-segement4\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"  -\"]}],[\"$\",\"span\",\"code-segement5\",{\"className\":\"ruby\",\"style\":{},\"children\":[\" \"]}],[\"$\",\"span\",\"code-segement6\",{\"className\":\"ruby\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"project_db_1:\"]}],[\"$\",\"span\",\"code-segement7\",{\"className\":\"ruby\",\"style\":{},\"children\":[\"mysql\"]}]]]}]}]}]}],\"\\n\",[\"$\",\"h3\",\"h3-22\",{\"children\":\"extra_hosts\"}],\"\\n\",[\"$\",\"p\",\"p-36\",{\"children\":[\"ホスト名をマッピングに追加する。\\n\",[\"$\",\"code\",null,{\"children\":\"/etc/hosts\"}],\" に追加される。\"]}],\"\\n\",[\"$\",\"pre\",\"pre-32\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-yml\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"display\":\"block\",\"overflowX\":\"auto\",\"padding\":\"0.5em\",\"background\":\"#272822\",\"color\":\"#ddd\"},\"children\":[\"$\",\"code\",null,{\"className\":\"$undefined\",\"style\":{\"whiteSpace\":\"pre\"},\"children\":[false,[[\"$\",\"span\",\"code-segement0\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"extra_hosts:\"]}],[\"$\",\"span\",\"code-segement1\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],[\"$\",\"span\",\"code-segement2\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"  - \"]}],[\"$\",\"span\",\"code-segement3\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"\\\"somehost:162.242.195.82\\\"\"]}]]]}]}]}]}],\"\\n\",[\"$\",\"h3\",\"h3-23\",{\"children\":\"ports\"}],\"\\n\",[\"$\",\"p\",\"p-37\",{\"children\":[\"公開用のポートを設定する。\\nホスト側とコンテナ側のポートを指定する( \",[\"$\",\"code\",null,{\"children\":\"HOST:CONTAINER\"}],\" )。\\nもしくは、コンテナ側のポートを指定する。\"]}],\"\\n\",[\"$\",\"pre\",\"pre-33\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-yml\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"display\":\"block\",\"overflowX\":\"auto\",\"padding\":\"0.5em\",\"background\":\"#272822\",\"color\":\"#ddd\"},\"children\":[\"$\",\"code\",null,{\"className\":\"$undefined\",\"style\":{\"whiteSpace\":\"pre\"},\"children\":[false,[[\"$\",\"span\",\"code-segement0\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"ports\"]}],[\"$\",\"span\",\"code-segement1\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\":\\n\"]}],[\"$\",\"span\",\"code-segement2\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"  - \\\"\"]}],[\"$\",\"span\",\"code-segement3\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"3000\"]}],[\"$\",\"span\",\"code-segement4\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"\\\"\\n\"]}],[\"$\",\"span\",\"code-segement5\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"  - \\\"\"]}],[\"$\",\"span\",\"code-segement6\",{\"className\":\"hljs-number\",\"style\":{},\"children\":[\"3000\"]}],[\"$\",\"span\",\"code-segement7\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"-\"]}],[\"$\",\"span\",\"code-segement8\",{\"className\":\"hljs-number\",\"style\":{},\"children\":[\"3005\"]}],[\"$\",\"span\",\"code-segement9\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"\\\"\\n\"]}],[\"$\",\"span\",\"code-segement10\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"  - \\\"\"]}],[\"$\",\"span\",\"code-segement11\",{\"className\":\"hljs-number\",\"style\":{},\"children\":[\"8000\"]}],[\"$\",\"span\",\"code-segement12\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\":\"]}],[\"$\",\"span\",\"code-segement13\",{\"className\":\"hljs-number\",\"style\":{},\"children\":[\"8000\"]}],[\"$\",\"span\",\"code-segement14\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"\\\"\\n\"]}],[\"$\",\"span\",\"code-segement15\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"  - \\\"\"]}],[\"$\",\"span\",\"code-segement16\",{\"className\":\"hljs-number\",\"style\":{},\"children\":[\"9090\"]}],[\"$\",\"span\",\"code-segement17\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"-\"]}],[\"$\",\"span\",\"code-segement18\",{\"className\":\"hljs-number\",\"style\":{},\"children\":[\"9091\"]}],[\"$\",\"span\",\"code-segement19\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\":\"]}],[\"$\",\"span\",\"code-segement20\",{\"className\":\"hljs-number\",\"style\":{},\"children\":[\"8080\"]}],[\"$\",\"span\",\"code-segement21\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"-\"]}],[\"$\",\"span\",\"code-segement22\",{\"className\":\"hljs-number\",\"style\":{},\"children\":[\"8081\"]}],[\"$\",\"span\",\"code-segement23\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"\\\"\\n\"]}],[\"$\",\"span\",\"code-segement24\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"  - \\\"\"]}],[\"$\",\"span\",\"code-segement25\",{\"className\":\"hljs-number\",\"style\":{},\"children\":[\"49100\"]}],[\"$\",\"span\",\"code-segement26\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\":\"]}],[\"$\",\"span\",\"code-segement27\",{\"className\":\"hljs-number\",\"style\":{},\"children\":[\"22\"]}],[\"$\",\"span\",\"code-segement28\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"\\\"\\n\"]}],[\"$\",\"span\",\"code-segement29\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"  - \\\"\"]}],[\"$\",\"span\",\"code-segement30\",{\"className\":\"hljs-number\",\"style\":{},\"children\":[\"127.0.0.1:8001\"]}],[\"$\",\"span\",\"code-segement31\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\":\"]}],[\"$\",\"span\",\"code-segement32\",{\"className\":\"hljs-number\",\"style\":{},\"children\":[\"8001\"]}],[\"$\",\"span\",\"code-segement33\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"\\\"\\n\"]}],[\"$\",\"span\",\"code-segement34\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"  - \\\"\"]}],[\"$\",\"span\",\"code-segement35\",{\"className\":\"hljs-number\",\"style\":{},\"children\":[\"127.0.0.1:5000\"]}],[\"$\",\"span\",\"code-segement36\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"-\"]}],[\"$\",\"span\",\"code-segement37\",{\"className\":\"hljs-number\",\"style\":{},\"children\":[\"5010\"]}],[\"$\",\"span\",\"code-segement38\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\":\"]}],[\"$\",\"span\",\"code-segement39\",{\"className\":\"hljs-number\",\"style\":{},\"children\":[\"5000\"]}],[\"$\",\"span\",\"code-segement40\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"-\"]}],[\"$\",\"span\",\"code-segement41\",{\"className\":\"hljs-number\",\"style\":{},\"children\":[\"5010\"]}],[\"$\",\"span\",\"code-segement42\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"\\\"\\n\"]}],[\"$\",\"span\",\"code-segement43\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"  - \\\"\"]}],[\"$\",\"span\",\"code-segement44\",{\"className\":\"hljs-number\",\"style\":{},\"children\":[\"6060\"]}],[\"$\",\"span\",\"code-segement45\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\":\"]}],[\"$\",\"span\",\"code-segement46\",{\"className\":\"hljs-number\",\"style\":{},\"children\":[\"6060\"]}],[\"$\",\"span\",\"code-segement47\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"/udp\"]}],[\"$\",\"span\",\"code-segement48\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"\\\"\\n\"]}],[\"$\",\"span\",\"code-segement49\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"  - \\\"\"]}],[\"$\",\"span\",\"code-segement50\",{\"className\":\"hljs-number\",\"style\":{},\"children\":[\"12400\"]}],[\"$\",\"span\",\"code-segement51\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"-\"]}],[\"$\",\"span\",\"code-segement52\",{\"className\":\"hljs-number\",\"style\":{},\"children\":[\"12500\"]}],[\"$\",\"span\",\"code-segement53\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\":\"]}],[\"$\",\"span\",\"code-segement54\",{\"className\":\"hljs-number\",\"style\":{},\"children\":[\"1240\"]}],[\"$\",\"span\",\"code-segement55\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"\\\"\"]}]]]}]}]}]}],\"\\n\",[\"$\",\"h3\",\"h3-24\",{\"children\":\"volumes\"}],\"\\n\",[\"$\",\"p\",\"p-38\",{\"children\":[\"複数のサービスにわたってボリュームを再利用したい場合、最上位の \",[\"$\",\"code\",null,{\"children\":\"volumes\"}],\" キーで名前付きボリュームを定義する。\\n以下の場合、 db サービスのデータディレクトリは、 backup サービスのボリュームにも共有させている。\"]}],\"\\n\",[\"$\",\"pre\",\"pre-34\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-yml\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"display\":\"block\",\"overflowX\":\"auto\",\"padding\":\"0.5em\",\"background\":\"#272822\",\"color\":\"#ddd\"},\"children\":[\"$\",\"code\",null,{\"className\":\"$undefined\",\"style\":{\"whiteSpace\":\"pre\"},\"children\":[false,[[\"$\",\"span\",\"code-segement0\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"version:\"]}],[\"$\",\"span\",\"code-segement1\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" \"]}],[\"$\",\"span\",\"code-segement2\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"\\\"3.9\\\"\"]}],[\"$\",\"span\",\"code-segement3\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],[\"$\",\"span\",\"code-segement4\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\"]}],[\"$\",\"span\",\"code-segement5\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"services:\"]}],[\"$\",\"span\",\"code-segement6\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],[\"$\",\"span\",\"code-segement7\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\"]}],[\"$\",\"span\",\"code-segement8\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"  db:\"]}],[\"$\",\"span\",\"code-segement9\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],[\"$\",\"span\",\"code-segement10\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\"]}],[\"$\",\"span\",\"code-segement11\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"    image:\"]}],[\"$\",\"span\",\"code-segement12\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" db\\n\"]}],[\"$\",\"span\",\"code-segement13\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\"]}],[\"$\",\"span\",\"code-segement14\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"    volumes:\"]}],[\"$\",\"span\",\"code-segement15\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],[\"$\",\"span\",\"code-segement16\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"      - data-volume:\"]}],[\"$\",\"span\",\"code-segement17\",{\"className\":\"hljs-meta-keyword\",\"style\":{},\"children\":[\"/var/\"]}],[\"$\",\"span\",\"code-segement18\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"lib/db\\n\"]}],[\"$\",\"span\",\"code-segement19\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\"]}],[\"$\",\"span\",\"code-segement20\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"  backup:\"]}],[\"$\",\"span\",\"code-segement21\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],[\"$\",\"span\",\"code-segement22\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\"]}],[\"$\",\"span\",\"code-segement23\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"    image:\"]}],[\"$\",\"span\",\"code-segement24\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" backup-service\\n\"]}],[\"$\",\"span\",\"code-segement25\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\"]}],[\"$\",\"span\",\"code-segement26\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"    volumes:\"]}],[\"$\",\"span\",\"code-segement27\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],[\"$\",\"span\",\"code-segement28\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"      - data-volume:\"]}],[\"$\",\"span\",\"code-segement29\",{\"className\":\"hljs-meta-keyword\",\"style\":{},\"children\":[\"/var/\"]}],[\"$\",\"span\",\"code-segement30\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"lib\"]}],[\"$\",\"span\",\"code-segement31\",{\"className\":\"hljs-meta-keyword\",\"style\":{},\"children\":[\"/backup/\"]}],[\"$\",\"span\",\"code-segement32\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"data\\n\"]}],[\"$\",\"span\",\"code-segement33\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\"]}],[\"$\",\"span\",\"code-segement34\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"volumes:\"]}],[\"$\",\"span\",\"code-segement35\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],\"  data-volume:\"]]}]}]}]}],\"\\n\",[\"$\",\"p\",\"p-39\",{\"children\":[\"短い書き方では、 \",[\"$\",\"code\",null,{\"children\":\"[SOURCE:]TARGET[:MODE]\"}],\" と書ける。 \",[\"$\",\"code\",null,{\"children\":\"ro\"}],\" は \",[\"$\",\"code\",null,{\"children\":\"readonly\"}],\" 。\"]}],\"\\n\",[\"$\",\"pre\",\"pre-35\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-yml\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"display\":\"block\",\"overflowX\":\"auto\",\"padding\":\"0.5em\",\"background\":\"#272822\",\"color\":\"#ddd\"},\"children\":[\"$\",\"code\",null,{\"className\":\"$undefined\",\"style\":{\"whiteSpace\":\"pre\"},\"children\":[false,[[\"$\",\"span\",\"code-segement0\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"- ./cache:\"]}],[\"$\",\"span\",\"code-segement1\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"/tmp/\"]}],[\"$\",\"span\",\"code-segement2\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"cache:ro\"]}]]]}]}]}]}],\"\\n\",[\"$\",\"h3\",\"h3-25\",{\"children\":\"変数の置換\"}],\"\\n\",[\"$\",\"p\",\"p-40\",{\"children\":[\"シェル環境に \",[\"$\",\"code\",null,{\"children\":\"POSTGRES_VERSION=9.3\"}],\" が定義されていると、 postgres のバージョンは 9.3 になる。\"]}],\"\\n\",[\"$\",\"pre\",\"pre-36\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-yml\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"display\":\"block\",\"overflowX\":\"auto\",\"padding\":\"0.5em\",\"background\":\"#272822\",\"color\":\"#ddd\"},\"children\":[\"$\",\"code\",null,{\"className\":\"$undefined\",\"style\":{\"whiteSpace\":\"pre\"},\"children\":[false,[[\"$\",\"span\",\"code-segement0\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"db:\"]}],[\"$\",\"span\",\"code-segement1\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],[\"$\",\"span\",\"code-segement2\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\"]}],[\"$\",\"span\",\"code-segement3\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#bf79db\"},\"children\":[\"  image:\"]}],[\"$\",\"span\",\"code-segement4\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" \"]}],[\"$\",\"span\",\"code-segement5\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"\\\"postgres:${POSTGRES_VERSION}\\\"\"]}]]]}]}]}]}],\"\\n\",[\"$\",\"p\",\"p-41\",{\"children\":[\"環境変数が設定されていない場合は空文字になる。\\n環境変数のデフォルト値は \",[\"$\",\"code\",null,{\"children\":\".env\"}],\" ファイルに設定しておくことができる。\"]}],\"\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"$${VARIABLE:-default} は VARIABLE がセットされていないか, 空文字のときに \",[\"$\",\"code\",null,{\"children\":\"default\"}],\" として評価される\"]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"$${VARIABLE-default} は VARIABLE がセットされているときのみ \",[\"$\",\"code\",null,{\"children\":\"default\"}],\" として評価される\"]}],\"\\n\"]}]]]\n"])</script><script>self.__next_f.push([1,"9:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"MyDocs\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"Generated by create next app\"}],[\"$\",\"link\",\"4\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"16x16\"}],[\"$\",\"meta\",\"5\",{\"name\":\"next-size-adjust\"}]]\n4:null\n"])</script></body></html>