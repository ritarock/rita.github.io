<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>MyDocs</title><meta name="next-head-count" content="3"/><link rel="preload" href="/_next/static/css/ec23c38ee66c087d.css" as="style"/><link rel="stylesheet" href="/_next/static/css/ec23c38ee66c087d.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-9b312e20a4e32339.js" defer=""></script><script src="/_next/static/chunks/framework-5f4595e5518b5600.js" defer=""></script><script src="/_next/static/chunks/main-f65e66e62fc5ca80.js" defer=""></script><script src="/_next/static/chunks/pages/_app-c8629aafccf90c37.js" defer=""></script><script src="/_next/static/chunks/996-9e3c12b77542c098.js" defer=""></script><script src="/_next/static/chunks/711-7d68ff1249d1d375.js" defer=""></script><script src="/_next/static/chunks/pages/docs/%5Bid%5D-2063ba6ca0b41b92.js" defer=""></script><script src="/_next/static/BMZM76PMXFP8NyXSk7UGx/_buildManifest.js" defer=""></script><script src="/_next/static/BMZM76PMXFP8NyXSk7UGx/_ssgManifest.js" defer=""></script><script src="/_next/static/BMZM76PMXFP8NyXSk7UGx/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><div><div><div class="bg-gray-600 h-10 leading-10 text-2xl"><a class="no-underline text-gray-100 mx-2" href="/">MyDocs</a></div></div><div class="mx-10"><h1><b># <!-- -->form_with の使い方</b></h1><h2>form_with</h2>
<p>新しいバージョンの rails なら <code>form_for, form_tag</code> は使用せずに <code>form_with</code> を使う事ができる。</p>
<p>モデルの有無で書き方が変わる。</p>
<h3>モデルが有るとき</h3>
<pre><div class="sc-bczRLJ xShwa"><div class="sc-gsnTZi hkjzUR">ruby</div><pre node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-ruby" style="white-space:pre"><span>form_with </span><span style="color:#bf79db">model:</span><span> </span><span style="color:#a6e22e">&#x27;モデル名&#x27;</span><span> </span><span style="color:#f92672;font-weight:bold">do</span><span> </span><span class="hljs-params">|form|</span><span>
</span><span>  </span><span style="color:#75715e"># 中身</span><span>
</span><span></span><span style="color:#f92672;font-weight:bold">end</span></code></pre></div></pre>
<h3>モデルが無いとき</h3>
<ul>
<li>URL で指定する</li>
</ul>
<pre><div class="sc-bczRLJ xShwa"><div class="sc-gsnTZi hkjzUR">ruby</div><pre node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-ruby" style="white-space:pre"><span>form_with </span><span style="color:#bf79db">model:</span><span> </span><span style="color:#a6e22e">&#x27;URL&#x27;</span><span> </span><span style="color:#f92672;font-weight:bold">do</span><span> </span><span class="hljs-params">|form|</span><span>
</span><span>  </span><span style="color:#75715e"># 中身</span><span>
</span><span></span><span style="color:#f92672;font-weight:bold">end</span></code></pre></div></pre>
<ul>
<li>PATH で指定する</li>
</ul>
<pre><div class="sc-bczRLJ xShwa"><div class="sc-gsnTZi hkjzUR">ruby</div><pre node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-ruby" style="white-space:pre"><span>form_with </span><span style="color:#bf79db">model:</span><span> </span><span style="color:#a6e22e">&#x27;PATH&#x27;</span><span> </span><span style="color:#f92672;font-weight:bold">do</span><span> </span><span class="hljs-params">|form|</span><span>
</span><span>  </span><span style="color:#75715e"># 中身</span><span>
</span><span></span><span style="color:#f92672;font-weight:bold">end</span></code></pre></div></pre>
<h2>オプション</h2>
<p>よく使うもの。</p>
<table><thead><tr><th>オプション</th><th>説明</th><th>デフォルト値</th></tr></thead><tbody><tr><td>:url</td><td>URL を指定</td><td>-</td></tr><tr><td>:method</td><td>HTTP メソッド</td><td>POST</td></tr><tr><td>:local</td><td>リモート送信を無効</td><td>false</td></tr></tbody></table>
<h2>URL からフォームを作成 ( form_for 的な使い方 )</h2>
<pre><div class="sc-bczRLJ xShwa"><div class="sc-gsnTZi hkjzUR">slim</div><pre node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-markdown" style="white-space:pre"><span>= form</span><span style="color:#a6e22e">_with url :posts_</span><span>path do |f|
</span><span>  = f.text</span><span style="color:#a6e22e">_field :title</span></code></pre></div></pre>
<p>生成される HTML。</p>
<pre><div class="sc-bczRLJ xShwa"><div class="sc-gsnTZi hkjzUR">html</div><pre node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-markdown" style="white-space:pre"><span class="xml" style="color:#f92672">&lt;</span><span class="xml" style="color:#f92672">form</span><span class="xml" style="color:#f92672"> </span><span class="xml hljs-attr" style="color:#f92672">action</span><span class="xml" style="color:#f92672">=</span><span class="xml" style="color:#a6e22e">&quot;/pots&quot;</span><span class="xml" style="color:#f92672"> </span><span class="xml hljs-attr" style="color:#f92672">method</span><span class="xml" style="color:#f92672">=</span><span class="xml" style="color:#a6e22e">&quot;post&quot;</span><span class="xml" style="color:#f92672"> </span><span class="xml hljs-attr" style="color:#f92672">data-remote</span><span class="xml" style="color:#f92672">=</span><span class="xml" style="color:#a6e22e">&quot;true&quot;</span><span class="xml" style="color:#f92672">&gt;</span><span>
</span><span>  </span><span class="xml" style="color:#f92672">&lt;</span><span class="xml" style="color:#f92672">input</span><span class="xml" style="color:#f92672"> </span><span class="xml hljs-attr" style="color:#f92672">type</span><span class="xml" style="color:#f92672">=</span><span class="xml" style="color:#a6e22e">&quot;text&quot;</span><span class="xml" style="color:#f92672"> </span><span class="xml hljs-attr" style="color:#f92672">name</span><span class="xml" style="color:#f92672">=</span><span class="xml" style="color:#a6e22e">&quot;title&quot;</span><span class="xml" style="color:#f92672">&gt;</span><span>
</span><span></span><span class="xml" style="color:#f92672">&lt;/</span><span class="xml" style="color:#f92672">form</span><span class="xml" style="color:#f92672">&gt;</span></code></pre></div></pre>
<h2>モデルを指定してフォームを作成 ( form_for 的な使い方 )</h2>
<pre><div class="sc-bczRLJ xShwa"><div class="sc-gsnTZi hkjzUR">slim</div><pre node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-markdown" style="white-space:pre"><span>= form</span><span style="color:#a6e22e">_with model: Post.new do |f|
</span><span style="color:#a6e22e">  = f.text_</span><span>field :title</span></code></pre></div></pre>
<p>生成される HTML。</p>
<pre><div class="sc-bczRLJ xShwa"><div class="sc-gsnTZi hkjzUR">html</div><pre node="[object Object]" style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-markdown" style="white-space:pre"><span class="xml" style="color:#f92672">&lt;</span><span class="xml" style="color:#f92672">form</span><span class="xml" style="color:#f92672"> </span><span class="xml hljs-attr" style="color:#f92672">action</span><span class="xml" style="color:#f92672">=</span><span class="xml" style="color:#a6e22e">&quot;/pots&quot;</span><span class="xml" style="color:#f92672"> </span><span class="xml hljs-attr" style="color:#f92672">method</span><span class="xml" style="color:#f92672">=</span><span class="xml" style="color:#a6e22e">&quot;post&quot;</span><span class="xml" style="color:#f92672"> </span><span class="xml hljs-attr" style="color:#f92672">data-remote</span><span class="xml" style="color:#f92672">=</span><span class="xml" style="color:#a6e22e">&quot;true&quot;</span><span class="xml" style="color:#f92672">&gt;</span><span>
</span><span>  </span><span class="xml" style="color:#f92672">&lt;</span><span class="xml" style="color:#f92672">input</span><span class="xml" style="color:#f92672"> </span><span class="xml hljs-attr" style="color:#f92672">type</span><span class="xml" style="color:#f92672">=</span><span class="xml" style="color:#a6e22e">&quot;text&quot;</span><span class="xml" style="color:#f92672"> </span><span class="xml hljs-attr" style="color:#f92672">name</span><span class="xml" style="color:#f92672">=</span><span class="xml" style="color:#a6e22e">&quot;post[title]&quot;</span><span class="xml" style="color:#f92672">&gt;</span><span>
</span><span></span><span class="xml" style="color:#f92672">&lt;/</span><span class="xml" style="color:#f92672">form</span><span class="xml" style="color:#f92672">&gt;</span></code></pre></div></pre></div><br/></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"docBody":{"id":"20191130183100","title":"form_with の使い方","body":"\n## form_with\n新しいバージョンの rails なら `form_for, form_tag` は使用せずに `form_with` を使う事ができる。\n\nモデルの有無で書き方が変わる。\n\n### モデルが有るとき\n```ruby\nform_with model: 'モデル名' do |form|\n  # 中身\nend\n```\n\n### モデルが無いとき\n- URL で指定する\n```ruby\nform_with model: 'URL' do |form|\n  # 中身\nend\n```\n- PATH で指定する\n```ruby\nform_with model: 'PATH' do |form|\n  # 中身\nend\n```\n\n## オプション\nよく使うもの。\n\n|オプション|説明|デフォルト値|\n|-|-|-|\n:url|URL を指定|-\n:method|HTTP メソッド| POST\n:local| リモート送信を無効|false\n\n## URL からフォームを作成 ( form_for 的な使い方 )\n```slim\n= form_with url :posts_path do |f|\n  = f.text_field :title\n```\n\n生成される HTML。\n```html\n\u003cform action=\"/pots\" method=\"post\" data-remote=\"true\"\u003e\n  \u003cinput type=\"text\" name=\"title\"\u003e\n\u003c/form\u003e\n```\n\n## モデルを指定してフォームを作成 ( form_for 的な使い方 )\n```slim\n= form_with model: Post.new do |f|\n  = f.text_field :title\n```\n\n生成される HTML。\n```html\n\u003cform action=\"/pots\" method=\"post\" data-remote=\"true\"\u003e\n  \u003cinput type=\"text\" name=\"post[title]\"\u003e\n\u003c/form\u003e\n```\n"}},"__N_SSG":true},"page":"/docs/[id]","query":{"id":"20191130183100"},"buildId":"BMZM76PMXFP8NyXSk7UGx","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>