<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/c9a5bc6a7c948fb0-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/47b31a99984783d5.css" crossorigin="" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-720d97b6bc629885.js" crossorigin=""/><script src="/_next/static/chunks/fd9d1056-c7082c319cc53ced.js" async="" crossorigin=""></script><script src="/_next/static/chunks/69-e3dbb5f8498dce62.js" async="" crossorigin=""></script><script src="/_next/static/chunks/main-app-4a08b92cc00737ec.js" async="" crossorigin=""></script><script src="/_next/static/chunks/250-92aea3426083640b.js" async=""></script><script src="/_next/static/chunks/app/docs/%5Bid%5D/page-a14447f626e33a06.js" async=""></script><title>Create Next App</title><meta name="description" content="Generated by create next app"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="16x16"/><meta name="next-size-adjust"/><script src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js" crossorigin="" noModule=""></script></head><body class="__className_aaf875"><div><a style="text-decoration:none" href="/"><div style="color:black;font-size:22px;cusor:pointer">MyDocs</div></a></div><p></p><h1><b># <!-- -->GolangのORM試した</b></h1><p>試したリポジトリはここ。</p>
<p><a href="https://github.com/ritarock/sandbox/tree/master/golang/sample_gorm">https://github.com/ritarock/sandbox/tree/master/golang/sample_gorm</a></p>
<h2>DB に接続</h2>
<p> の第一引数は接続するデータベース、第二引数には接続情報。</p>
<p>今回は Docker で実行したのでコンテナが起動しても mysql は起動していない場合があったので 30 秒待つ処理を入れた。</p>
<pre><code class="language-go"><pre style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-go" style="white-space:pre"><span class="hljs-function" style="color:#f92672;font-weight:bold">func</span><span class="hljs-function"> </span><span class="hljs-function" style="color:#a6e22e;font-weight:bold">gormConnect</span><span class="hljs-function hljs-params">()</span><span class="hljs-function"> *</span><span class="hljs-function" style="color:#a6e22e;font-weight:bold">gorm</span><span class="hljs-function">.</span><span class="hljs-function" style="color:#a6e22e;font-weight:bold">DB</span><span> {
</span><span>	DBMS := </span><span style="color:#a6e22e">&quot;mysql&quot;</span><span>
</span><span>	PROTOCOL := </span><span style="color:#a6e22e">&quot;tcp(db:3306)&quot;</span><span>
</span><span>	USER := </span><span style="color:#a6e22e">&quot;user&quot;</span><span>
</span><span>	PASS := </span><span style="color:#a6e22e">&quot;password&quot;</span><span>
</span><span>	DBNAME := </span><span style="color:#a6e22e">&quot;app&quot;</span><span>
</span><span>	CONNECT := USER + </span><span style="color:#a6e22e">&quot;:&quot;</span><span> + PASS + </span><span style="color:#a6e22e">&quot;@&quot;</span><span> + PROTOCOL + </span><span style="color:#a6e22e">&quot;/&quot;</span><span> + DBNAME + </span><span style="color:#a6e22e">&quot;?parseTime=true&quot;</span><span>
</span>
<span>	</span><span style="color:#f92672;font-weight:bold">var</span><span> err error
</span>	db, err := gorm.Open(DBMS, CONNECT)
<span>	</span><span style="color:#f92672;font-weight:bold">if</span><span> err != </span><span style="color:#f92672;font-weight:bold">nil</span><span> {
</span><span>		fmt.Println(</span><span style="color:#a6e22e">&quot;Not ready&quot;</span><span>)
</span>		time.Sleep(time.Second)
<!-- -->		count++
<span>		</span><span style="color:#f92672;font-weight:bold">if</span><span> count &gt; </span><span class="hljs-number">30</span><span> {
</span><span>			</span><span style="color:#a6e22e">panic</span><span>(err.Error())
</span>		}
<span>		</span><span style="color:#f92672;font-weight:bold">return</span><span> gormConnect()
</span>	}
<span>	fmt.Println(</span><span style="color:#a6e22e">&quot;Success connect&quot;</span><span>)
</span><span>	</span><span style="color:#f92672;font-weight:bold">return</span><span> db
</span>}</code></pre></code></pre>
<h2>モデル</h2>
<p>構造体を定義する。</p>
<p>フィールドの <!-- --> は gorm では主キーとなる。 <!-- --> と <!-- --> はレコードの作成時と更新時に自動的で設定される。</p>
<pre><code class="language-go"><pre style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-go" style="white-space:pre"><span style="color:#f92672;font-weight:bold">type</span><span> Post </span><span style="color:#f92672;font-weight:bold">struct</span><span> {
</span><span>	ID        </span><span style="color:#f92672;font-weight:bold">int</span><span>
</span><span>	Content   </span><span style="color:#f92672;font-weight:bold">string</span><span>
</span><span>	Author    </span><span style="color:#f92672;font-weight:bold">string</span><span> </span><span style="color:#a6e22e">`sql:&quot;not null&quot;`</span><span>
</span>	Comments  []Comment
<!-- -->	CreatedAt time.Time
<!-- -->}
<!-- -->
<span></span><span style="color:#f92672;font-weight:bold">type</span><span> Comment </span><span style="color:#f92672;font-weight:bold">struct</span><span> {
</span><span>	ID        </span><span style="color:#f92672;font-weight:bold">int</span><span>
</span><span>	Content   </span><span style="color:#f92672;font-weight:bold">string</span><span>
</span><span>	Author    </span><span style="color:#f92672;font-weight:bold">string</span><span> </span><span style="color:#a6e22e">`sql:&quot;not null&quot;`</span><span>
</span><span>	PostId    </span><span style="color:#f92672;font-weight:bold">int</span><span>
</span>	CreatedAt time.Time
<!-- -->}</code></pre></code></pre>
<p>gorm ではフィールドタグ <!-- --> を設定すること制約などの設定を行える。</p>
<p>設定できるものは <a href="https://gorm.io/ja_JP/docs/models.html#Fields-Tags">ここ</a> を参照。</p>
<h2>belongs to</h2>
<p>User は Company に所属している。</p>
<pre><code class="language-go"><pre style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-go" style="white-space:pre"><span style="color:#f92672;font-weight:bold">type</span><span> User </span><span style="color:#f92672;font-weight:bold">struct</span><span> {
</span>  gorm.Model
<span>  Name      </span><span style="color:#f92672;font-weight:bold">string</span><span>
</span><span>  CompanyID </span><span style="color:#f92672;font-weight:bold">int</span><span>
</span>  Company   Company
<!-- -->}
<!-- -->
<span></span><span style="color:#f92672;font-weight:bold">type</span><span> Company </span><span style="color:#f92672;font-weight:bold">struct</span><span> {
</span><span>  ID   </span><span style="color:#f92672;font-weight:bold">int</span><span>
</span><span>  Name </span><span style="color:#f92672;font-weight:bold">string</span><span>
</span>}</code></pre></code></pre>
<h2>has one</h2>
<p>別のモデルと 1 対 1 の関係。</p>
<pre><code class="language-go"><pre style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-go" style="white-space:pre"><span style="color:#f92672;font-weight:bold">type</span><span> User </span><span style="color:#f92672;font-weight:bold">struct</span><span> {
</span>  gorm.Model
<!-- -->  CreditCard CreditCard
<!-- -->}
<!-- -->
<span></span><span style="color:#f92672;font-weight:bold">type</span><span> CreditCard </span><span style="color:#f92672;font-weight:bold">struct</span><span> {
</span>  gorm.Model
<span>  Number </span><span style="color:#f92672;font-weight:bold">string</span><span>
</span><span>  UserID </span><span style="color:#f92672;font-weight:bold">uint</span><span>
</span>}</code></pre></code></pre>
<h2>has many</h2>
<p>User は CreditCard を複数持っている。</p>
<pre><code class="language-go"><pre style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-go" style="white-space:pre"><span style="color:#f92672;font-weight:bold">type</span><span> User </span><span style="color:#f92672;font-weight:bold">struct</span><span> {
</span>  gorm.Model
<!-- -->  CreditCards []CreditCard
<!-- -->}
<!-- -->
<span></span><span style="color:#f92672;font-weight:bold">type</span><span> CreditCard </span><span style="color:#f92672;font-weight:bold">struct</span><span> {
</span>  gorm.Model
<span>  Number </span><span style="color:#f92672;font-weight:bold">string</span><span>
</span><span>  UserID </span><span style="color:#f92672;font-weight:bold">uint</span><span>
</span>}</code></pre></code></pre>
<h2>many to many</h2>
<p>Book は複数の Author を持ち、 Author は複数の本を持っている。</p>
<pre><code class="language-go"><pre style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-go" style="white-space:pre"><span style="color:#f92672;font-weight:bold">type</span><span> Book </span><span style="color:#f92672;font-weight:bold">struct</span><span> {
</span>  gorm.Model
<span>  Authors []Author </span><span style="color:#a6e22e">`gorm:&quot;many2many:author_books&quot;`</span><span>
</span>}
<span></span><span style="color:#f92672;font-weight:bold">type</span><span> Author </span><span style="color:#f92672;font-weight:bold">struct</span><span> {
</span>  gorm.Model
<span>  Books []Book </span><span style="color:#a6e22e">`gorm:&quot;many2many:author_books&quot;`</span><span>
</span>}</code></pre></code></pre>
<h2>マイグレーション</h2>
<p>足りないカラムの追加、変更、インデックスの作成は行うが、不要になったカラムの削除等は行われない。</p>
<pre><code class="language-go"><pre style="display:block;overflow-x:auto;padding:0.5em;background:#272822;color:#ddd"><code class="language-go" style="white-space:pre"><span>db.AutoMigrate(&amp;Post{}, &amp;Comment{})</span></code></pre></code></pre><script src="/_next/static/chunks/webpack-720d97b6bc629885.js" crossorigin="" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/c9a5bc6a7c948fb0-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/css/47b31a99984783d5.css\",\"style\",{\"crossOrigin\":\"\"}]\n0:\"$L3\"\n"])</script><script>self.__next_f.push([1,"4:I[7690,[],\"\"]\n7:I[5613,[],\"\"]\n9:I[1778,[],\"\"]\nb:I[8955,[],\"\"]\n8:[\"id\",\"20210717123805\",\"d\"]\nc:[]\n"])</script><script>self.__next_f.push([1,"3:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/47b31a99984783d5.css\",\"precedence\":\"next\",\"crossOrigin\":\"\"}]],[\"$\",\"$L4\",null,{\"buildId\":\"MPhj52O82I6-1x1gIrwA3\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/docs/20210717123805\",\"initialTree\":[\"\",{\"children\":[\"docs\",{\"children\":[[\"id\",\"20210717123805\",\"d\"],{\"children\":[\"__PAGE__?{\\\"id\\\":\\\"20210717123805\\\"}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[\"docs\",{\"children\":[[\"id\",\"20210717123805\",\"d\"],{\"children\":[\"__PAGE__\",{},[\"$L5\",\"$L6\",null]]},[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"docs\",\"children\",\"$8\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}]]},[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"docs\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}]]},[null,[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\"__className_aaf875\",\"children\":[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[],\"styles\":null}]}]}],null]],\"initialHead\":[false,\"$La\"],\"globalErrorComponent\":\"$b\",\"missingSlots\":\"$Wc\"}]]\n"])</script><script>self.__next_f.push([1,"d:I[5250,[\"250\",\"static/chunks/250-92aea3426083640b.js\",\"314\",\"static/chunks/app/docs/%5Bid%5D/page-a14447f626e33a06.js\"],\"\"]\n"])</script><script>self.__next_f.push([1,"6:[[[\"$\",\"div\",null,{\"children\":[null,[\"$\",\"$Ld\",null,{\"href\":\"/\",\"style\":{\"textDecoration\":\"none\"},\"children\":[\"$\",\"div\",null,{\"style\":{\"color\":\"black\",\"fontSize\":\"22px\",\"cusor\":\"pointer\"},\"children\":\"MyDocs\"}]}]]}],[\"$\",\"p\",null,{}]],[\"$\",\"h1\",null,{\"children\":[\"$\",\"b\",null,{\"children\":[\"# \",\"GolangのORM試した\"]}]}],[[\"$\",\"p\",\"p-0\",{\"children\":\"試したリポジトリはここ。\"}],\"\\n\",[\"$\",\"p\",\"p-1\",{\"children\":[\"$\",\"a\",\"a-0\",{\"href\":\"https://github.com/ritarock/sandbox/tree/master/golang/sample_gorm\",\"children\":\"https://github.com/ritarock/sandbox/tree/master/golang/sample_gorm\"}]}],\"\\n\",[\"$\",\"h2\",\"h2-0\",{\"children\":\"DB に接続\"}],\"\\n\",[\"$\",\"p\",\"p-2\",{\"children\":[\"$undefined\",\" の第一引数は接続するデータベース、第二引数には接続情報。\"]}],\"\\n\",[\"$\",\"p\",\"p-3\",{\"children\":\"今回は Docker で実行したのでコンテナが起動しても mysql は起動していない場合があったので 30 秒待つ処理を入れた。\"}],\"\\n\",[\"$\",\"pre\",\"pre-0\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-go\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"display\":\"block\",\"overflowX\":\"auto\",\"padding\":\"0.5em\",\"background\":\"#272822\",\"color\":\"#ddd\"},\"children\":[\"$\",\"code\",null,{\"className\":\"language-go\",\"style\":{\"whiteSpace\":\"pre\"},\"children\":[false,[[\"$\",\"span\",\"code-segement0\",{\"className\":\"hljs-function\",\"style\":{\"color\":\"#f92672\",\"fontWeight\":\"bold\"},\"children\":[\"func\"]}],[\"$\",\"span\",\"code-segement1\",{\"className\":\"hljs-function\",\"style\":{},\"children\":[\" \"]}],[\"$\",\"span\",\"code-segement2\",{\"className\":\"hljs-function\",\"style\":{\"color\":\"#a6e22e\",\"fontWeight\":\"bold\"},\"children\":[\"gormConnect\"]}],[\"$\",\"span\",\"code-segement3\",{\"className\":\"hljs-function hljs-params\",\"style\":{},\"children\":[\"()\"]}],[\"$\",\"span\",\"code-segement4\",{\"className\":\"hljs-function\",\"style\":{},\"children\":[\" *\"]}],[\"$\",\"span\",\"code-segement5\",{\"className\":\"hljs-function\",\"style\":{\"color\":\"#a6e22e\",\"fontWeight\":\"bold\"},\"children\":[\"gorm\"]}],[\"$\",\"span\",\"code-segement6\",{\"className\":\"hljs-function\",\"style\":{},\"children\":[\".\"]}],[\"$\",\"span\",\"code-segement7\",{\"className\":\"hljs-function\",\"style\":{\"color\":\"#a6e22e\",\"fontWeight\":\"bold\"},\"children\":[\"DB\"]}],[\"$\",\"span\",\"code-segement8\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" {\\n\"]}],[\"$\",\"span\",\"code-segement9\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\tDBMS := \"]}],[\"$\",\"span\",\"code-segement10\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"\\\"mysql\\\"\"]}],[\"$\",\"span\",\"code-segement11\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],[\"$\",\"span\",\"code-segement12\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\tPROTOCOL := \"]}],[\"$\",\"span\",\"code-segement13\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"\\\"tcp(db:3306)\\\"\"]}],[\"$\",\"span\",\"code-segement14\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],[\"$\",\"span\",\"code-segement15\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\tUSER := \"]}],[\"$\",\"span\",\"code-segement16\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"\\\"user\\\"\"]}],[\"$\",\"span\",\"code-segement17\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],[\"$\",\"span\",\"code-segement18\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\tPASS := \"]}],[\"$\",\"span\",\"code-segement19\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"\\\"password\\\"\"]}],[\"$\",\"span\",\"code-segement20\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],[\"$\",\"span\",\"code-segement21\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\tDBNAME := \"]}],[\"$\",\"span\",\"code-segement22\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"\\\"app\\\"\"]}],[\"$\",\"span\",\"code-segement23\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],[\"$\",\"span\",\"code-segement24\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\tCONNECT := USER + \"]}],[\"$\",\"span\",\"code-segement25\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"\\\":\\\"\"]}],[\"$\",\"span\",\"code-segement26\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" + PASS + \"]}],[\"$\",\"span\",\"code-segement27\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"\\\"@\\\"\"]}],[\"$\",\"span\",\"code-segement28\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" + PROTOCOL + \"]}],[\"$\",\"span\",\"code-segement29\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"\\\"/\\\"\"]}],[\"$\",\"span\",\"code-segement30\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" + DBNAME + \"]}],[\"$\",\"span\",\"code-segement31\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"\\\"?parseTime=true\\\"\"]}],[\"$\",\"span\",\"code-segement32\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],\"\\n\",[\"$\",\"span\",\"code-segement34\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\t\"]}],[\"$\",\"span\",\"code-segement35\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#f92672\",\"fontWeight\":\"bold\"},\"children\":[\"var\"]}],[\"$\",\"span\",\"code-segement36\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" err error\\n\"]}],\"\\tdb, err := gorm.Open(DBMS, CONNECT)\\n\",[\"$\",\"span\",\"code-segement38\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\t\"]}],[\"$\",\"span\",\"code-segement39\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#f92672\",\"fontWeight\":\"bold\"},\"children\":[\"if\"]}],[\"$\",\"span\",\"code-segement40\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" err != \"]}],[\"$\",\"span\",\"code-segement41\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#f92672\",\"fontWeight\":\"bold\"},\"children\":[\"nil\"]}],[\"$\",\"span\",\"code-segement42\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" {\\n\"]}],[\"$\",\"span\",\"code-segement43\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\t\\tfmt.Println(\"]}],[\"$\",\"span\",\"code-segement44\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"\\\"Not ready\\\"\"]}],[\"$\",\"span\",\"code-segement45\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\")\\n\"]}],\"\\t\\ttime.Sleep(time.Second)\\n\",\"\\t\\tcount++\\n\",[\"$\",\"span\",\"code-segement48\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\t\\t\"]}],[\"$\",\"span\",\"code-segement49\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#f92672\",\"fontWeight\":\"bold\"},\"children\":[\"if\"]}],[\"$\",\"span\",\"code-segement50\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" count \u003e \"]}],[\"$\",\"span\",\"code-segement51\",{\"className\":\"hljs-number\",\"style\":{},\"children\":[\"30\"]}],[\"$\",\"span\",\"code-segement52\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" {\\n\"]}],[\"$\",\"span\",\"code-segement53\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\t\\t\\t\"]}],[\"$\",\"span\",\"code-segement54\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"panic\"]}],[\"$\",\"span\",\"code-segement55\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"(err.Error())\\n\"]}],\"\\t\\t}\\n\",[\"$\",\"span\",\"code-segement57\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\t\\t\"]}],[\"$\",\"span\",\"code-segement58\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#f92672\",\"fontWeight\":\"bold\"},\"children\":[\"return\"]}],[\"$\",\"span\",\"code-segement59\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" gormConnect()\\n\"]}],\"\\t}\\n\",[\"$\",\"span\",\"code-segement61\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\tfmt.Println(\"]}],[\"$\",\"span\",\"code-segement62\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"\\\"Success connect\\\"\"]}],[\"$\",\"span\",\"code-segement63\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\")\\n\"]}],[\"$\",\"span\",\"code-segement64\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\t\"]}],[\"$\",\"span\",\"code-segement65\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#f92672\",\"fontWeight\":\"bold\"},\"children\":[\"return\"]}],[\"$\",\"span\",\"code-segement66\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" db\\n\"]}],\"}\"]]}]}]}]}],\"\\n\",[\"$\",\"h2\",\"h2-1\",{\"children\":\"モデル\"}],\"\\n\",[\"$\",\"p\",\"p-4\",{\"children\":\"構造体を定義する。\"}],\"\\n\",[\"$\",\"p\",\"p-5\",{\"children\":[\"フィールドの \",\"$undefined\",\" は gorm では主キーとなる。 \",\"$undefined\",\" と \",\"$undefined\",\" はレコードの作成時と更新時に自動的で設定される。\"]}],\"\\n\",[\"$\",\"pre\",\"pre-1\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-go\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"display\":\"block\",\"overflowX\":\"auto\",\"padding\":\"0.5em\",\"background\":\"#272822\",\"color\":\"#ddd\"},\"children\":[\"$\",\"code\",null,{\"className\":\"language-go\",\"style\":{\"whiteSpace\":\"pre\"},\"children\":[false,[[\"$\",\"span\",\"code-segement0\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#f92672\",\"fontWeight\":\"bold\"},\"children\":[\"type\"]}],[\"$\",\"span\",\"code-segement1\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" Post \"]}],[\"$\",\"span\",\"code-segement2\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#f92672\",\"fontWeight\":\"bold\"},\"children\":[\"struct\"]}],[\"$\",\"span\",\"code-segement3\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" {\\n\"]}],[\"$\",\"span\",\"code-segement4\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\tID        \"]}],[\"$\",\"span\",\"code-segement5\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#f92672\",\"fontWeight\":\"bold\"},\"children\":[\"int\"]}],[\"$\",\"span\",\"code-segement6\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],[\"$\",\"span\",\"code-segement7\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\tContent   \"]}],[\"$\",\"span\",\"code-segement8\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#f92672\",\"fontWeight\":\"bold\"},\"children\":[\"string\"]}],[\"$\",\"span\",\"code-segement9\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],[\"$\",\"span\",\"code-segement10\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\tAuthor    \"]}],[\"$\",\"span\",\"code-segement11\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#f92672\",\"fontWeight\":\"bold\"},\"children\":[\"string\"]}],[\"$\",\"span\",\"code-segement12\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" \"]}],[\"$\",\"span\",\"code-segement13\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"`sql:\\\"not null\\\"`\"]}],[\"$\",\"span\",\"code-segement14\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],\"\\tComments  []Comment\\n\",\"\\tCreatedAt time.Time\\n\",\"}\\n\",\"\\n\",[\"$\",\"span\",\"code-segement19\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\"]}],[\"$\",\"span\",\"code-segement20\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#f92672\",\"fontWeight\":\"bold\"},\"children\":[\"type\"]}],[\"$\",\"span\",\"code-segement21\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" Comment \"]}],[\"$\",\"span\",\"code-segement22\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#f92672\",\"fontWeight\":\"bold\"},\"children\":[\"struct\"]}],[\"$\",\"span\",\"code-segement23\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" {\\n\"]}],[\"$\",\"span\",\"code-segement24\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\tID        \"]}],[\"$\",\"span\",\"code-segement25\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#f92672\",\"fontWeight\":\"bold\"},\"children\":[\"int\"]}],[\"$\",\"span\",\"code-segement26\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],[\"$\",\"span\",\"code-segement27\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\tContent   \"]}],[\"$\",\"span\",\"code-segement28\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#f92672\",\"fontWeight\":\"bold\"},\"children\":[\"string\"]}],[\"$\",\"span\",\"code-segement29\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],[\"$\",\"span\",\"code-segement30\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\tAuthor    \"]}],[\"$\",\"span\",\"code-segement31\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#f92672\",\"fontWeight\":\"bold\"},\"children\":[\"string\"]}],[\"$\",\"span\",\"code-segement32\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" \"]}],[\"$\",\"span\",\"code-segement33\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"`sql:\\\"not null\\\"`\"]}],[\"$\",\"span\",\"code-segement34\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],[\"$\",\"span\",\"code-segement35\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\tPostId    \"]}],[\"$\",\"span\",\"code-segement36\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#f92672\",\"fontWeight\":\"bold\"},\"children\":[\"int\"]}],[\"$\",\"span\",\"code-segement37\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],\"\\tCreatedAt time.Time\\n\",\"}\"]]}]}]}]}],\"\\n\",[\"$\",\"p\",\"p-6\",{\"children\":[\"gorm ではフィールドタグ \",\"$undefined\",\" を設定すること制約などの設定を行える。\"]}],\"\\n\",[\"$\",\"p\",\"p-7\",{\"children\":[\"設定できるものは \",[\"$\",\"a\",\"a-0\",{\"href\":\"https://gorm.io/ja_JP/docs/models.html#Fields-Tags\",\"children\":\"ここ\"}],\" を参照。\"]}],\"\\n\",[\"$\",\"h2\",\"h2-2\",{\"children\":\"belongs to\"}],\"\\n\",[\"$\",\"p\",\"p-8\",{\"children\":\"User は Company に所属している。\"}],\"\\n\",[\"$\",\"pre\",\"pre-2\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-go\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"display\":\"block\",\"overflowX\":\"auto\",\"padding\":\"0.5em\",\"background\":\"#272822\",\"color\":\"#ddd\"},\"children\":[\"$\",\"code\",null,{\"className\":\"language-go\",\"style\":{\"whiteSpace\":\"pre\"},\"children\":[false,[[\"$\",\"span\",\"code-segement0\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#f92672\",\"fontWeight\":\"bold\"},\"children\":[\"type\"]}],[\"$\",\"span\",\"code-segement1\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" User \"]}],[\"$\",\"span\",\"code-segement2\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#f92672\",\"fontWeight\":\"bold\"},\"children\":[\"struct\"]}],[\"$\",\"span\",\"code-segement3\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" {\\n\"]}],\"  gorm.Model\\n\",[\"$\",\"span\",\"code-segement5\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"  Name      \"]}],[\"$\",\"span\",\"code-segement6\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#f92672\",\"fontWeight\":\"bold\"},\"children\":[\"string\"]}],[\"$\",\"span\",\"code-segement7\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],[\"$\",\"span\",\"code-segement8\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"  CompanyID \"]}],[\"$\",\"span\",\"code-segement9\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#f92672\",\"fontWeight\":\"bold\"},\"children\":[\"int\"]}],[\"$\",\"span\",\"code-segement10\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],\"  Company   Company\\n\",\"}\\n\",\"\\n\",[\"$\",\"span\",\"code-segement14\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\"]}],[\"$\",\"span\",\"code-segement15\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#f92672\",\"fontWeight\":\"bold\"},\"children\":[\"type\"]}],[\"$\",\"span\",\"code-segement16\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" Company \"]}],[\"$\",\"span\",\"code-segement17\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#f92672\",\"fontWeight\":\"bold\"},\"children\":[\"struct\"]}],[\"$\",\"span\",\"code-segement18\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" {\\n\"]}],[\"$\",\"span\",\"code-segement19\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"  ID   \"]}],[\"$\",\"span\",\"code-segement20\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#f92672\",\"fontWeight\":\"bold\"},\"children\":[\"int\"]}],[\"$\",\"span\",\"code-segement21\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],[\"$\",\"span\",\"code-segement22\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"  Name \"]}],[\"$\",\"span\",\"code-segement23\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#f92672\",\"fontWeight\":\"bold\"},\"children\":[\"string\"]}],[\"$\",\"span\",\"code-segement24\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],\"}\"]]}]}]}]}],\"\\n\",[\"$\",\"h2\",\"h2-3\",{\"children\":\"has one\"}],\"\\n\",[\"$\",\"p\",\"p-9\",{\"children\":\"別のモデルと 1 対 1 の関係。\"}],\"\\n\",[\"$\",\"pre\",\"pre-3\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-go\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"display\":\"block\",\"overflowX\":\"auto\",\"padding\":\"0.5em\",\"background\":\"#272822\",\"color\":\"#ddd\"},\"children\":[\"$\",\"code\",null,{\"className\":\"language-go\",\"style\":{\"whiteSpace\":\"pre\"},\"children\":[false,[[\"$\",\"span\",\"code-segement0\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#f92672\",\"fontWeight\":\"bold\"},\"children\":[\"type\"]}],[\"$\",\"span\",\"code-segement1\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" User \"]}],[\"$\",\"span\",\"code-segement2\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#f92672\",\"fontWeight\":\"bold\"},\"children\":[\"struct\"]}],[\"$\",\"span\",\"code-segement3\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" {\\n\"]}],\"  gorm.Model\\n\",\"  CreditCard CreditCard\\n\",\"}\\n\",\"\\n\",[\"$\",\"span\",\"code-segement8\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\"]}],[\"$\",\"span\",\"code-segement9\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#f92672\",\"fontWeight\":\"bold\"},\"children\":[\"type\"]}],[\"$\",\"span\",\"code-segement10\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" CreditCard \"]}],[\"$\",\"span\",\"code-segement11\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#f92672\",\"fontWeight\":\"bold\"},\"children\":[\"struct\"]}],[\"$\",\"span\",\"code-segement12\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" {\\n\"]}],\"  gorm.Model\\n\",[\"$\",\"span\",\"code-segement14\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"  Number \"]}],[\"$\",\"span\",\"code-segement15\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#f92672\",\"fontWeight\":\"bold\"},\"children\":[\"string\"]}],[\"$\",\"span\",\"code-segement16\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],[\"$\",\"span\",\"code-segement17\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"  UserID \"]}],[\"$\",\"span\",\"code-segement18\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#f92672\",\"fontWeight\":\"bold\"},\"children\":[\"uint\"]}],[\"$\",\"span\",\"code-segement19\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],\"}\"]]}]}]}]}],\"\\n\",[\"$\",\"h2\",\"h2-4\",{\"children\":\"has many\"}],\"\\n\",[\"$\",\"p\",\"p-10\",{\"children\":\"User は CreditCard を複数持っている。\"}],\"\\n\",[\"$\",\"pre\",\"pre-4\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-go\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"display\":\"block\",\"overflowX\":\"auto\",\"padding\":\"0.5em\",\"background\":\"#272822\",\"color\":\"#ddd\"},\"children\":[\"$\",\"code\",null,{\"className\":\"language-go\",\"style\":{\"whiteSpace\":\"pre\"},\"children\":[false,[[\"$\",\"span\",\"code-segement0\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#f92672\",\"fontWeight\":\"bold\"},\"children\":[\"type\"]}],[\"$\",\"span\",\"code-segement1\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" User \"]}],[\"$\",\"span\",\"code-segement2\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#f92672\",\"fontWeight\":\"bold\"},\"children\":[\"struct\"]}],[\"$\",\"span\",\"code-segement3\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" {\\n\"]}],\"  gorm.Model\\n\",\"  CreditCards []CreditCard\\n\",\"}\\n\",\"\\n\",[\"$\",\"span\",\"code-segement8\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\"]}],[\"$\",\"span\",\"code-segement9\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#f92672\",\"fontWeight\":\"bold\"},\"children\":[\"type\"]}],[\"$\",\"span\",\"code-segement10\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" CreditCard \"]}],[\"$\",\"span\",\"code-segement11\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#f92672\",\"fontWeight\":\"bold\"},\"children\":[\"struct\"]}],[\"$\",\"span\",\"code-segement12\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" {\\n\"]}],\"  gorm.Model\\n\",[\"$\",\"span\",\"code-segement14\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"  Number \"]}],[\"$\",\"span\",\"code-segement15\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#f92672\",\"fontWeight\":\"bold\"},\"children\":[\"string\"]}],[\"$\",\"span\",\"code-segement16\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],[\"$\",\"span\",\"code-segement17\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"  UserID \"]}],[\"$\",\"span\",\"code-segement18\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#f92672\",\"fontWeight\":\"bold\"},\"children\":[\"uint\"]}],[\"$\",\"span\",\"code-segement19\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],\"}\"]]}]}]}]}],\"\\n\",[\"$\",\"h2\",\"h2-5\",{\"children\":\"many to many\"}],\"\\n\",[\"$\",\"p\",\"p-11\",{\"children\":\"Book は複数の Author を持ち、 Author は複数の本を持っている。\"}],\"\\n\",[\"$\",\"pre\",\"pre-5\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-go\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"display\":\"block\",\"overflowX\":\"auto\",\"padding\":\"0.5em\",\"background\":\"#272822\",\"color\":\"#ddd\"},\"children\":[\"$\",\"code\",null,{\"className\":\"language-go\",\"style\":{\"whiteSpace\":\"pre\"},\"children\":[false,[[\"$\",\"span\",\"code-segement0\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#f92672\",\"fontWeight\":\"bold\"},\"children\":[\"type\"]}],[\"$\",\"span\",\"code-segement1\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" Book \"]}],[\"$\",\"span\",\"code-segement2\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#f92672\",\"fontWeight\":\"bold\"},\"children\":[\"struct\"]}],[\"$\",\"span\",\"code-segement3\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" {\\n\"]}],\"  gorm.Model\\n\",[\"$\",\"span\",\"code-segement5\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"  Authors []Author \"]}],[\"$\",\"span\",\"code-segement6\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"`gorm:\\\"many2many:author_books\\\"`\"]}],[\"$\",\"span\",\"code-segement7\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],\"}\\n\",[\"$\",\"span\",\"code-segement9\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\"]}],[\"$\",\"span\",\"code-segement10\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#f92672\",\"fontWeight\":\"bold\"},\"children\":[\"type\"]}],[\"$\",\"span\",\"code-segement11\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" Author \"]}],[\"$\",\"span\",\"code-segement12\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#f92672\",\"fontWeight\":\"bold\"},\"children\":[\"struct\"]}],[\"$\",\"span\",\"code-segement13\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" {\\n\"]}],\"  gorm.Model\\n\",[\"$\",\"span\",\"code-segement15\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"  Books []Book \"]}],[\"$\",\"span\",\"code-segement16\",{\"className\":\"$undefined\",\"style\":{\"color\":\"#a6e22e\"},\"children\":[\"`gorm:\\\"many2many:author_books\\\"`\"]}],[\"$\",\"span\",\"code-segement17\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],\"}\"]]}]}]}]}],\"\\n\",[\"$\",\"h2\",\"h2-6\",{\"children\":\"マイグレーション\"}],\"\\n\",[\"$\",\"p\",\"p-12\",{\"children\":\"足りないカラムの追加、変更、インデックスの作成は行うが、不要になったカラムの削除等は行われない。\"}],\"\\n\",[\"$\",\"pre\",\"pre-6\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-go\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"display\":\"block\",\"overflowX\":\"auto\",\"padding\":\"0.5em\",\"background\":\"#272822\",\"color\":\"#ddd\"},\"children\":[\"$\",\"code\",null,{\"className\":\"language-go\",\"style\":{\"whiteSpace\":\"pre\"},\"children\":[false,[[\"$\",\"span\",\"code-segement0\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"db.AutoMigrate(\u0026Post{}, \u0026Comment{})\"]}]]]}]}]}]}]]]\n"])</script><script>self.__next_f.push([1,"a:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"Create Next App\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"Generated by create next app\"}],[\"$\",\"link\",\"4\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"16x16\"}],[\"$\",\"meta\",\"5\",{\"name\":\"next-size-adjust\"}]]\n5:null\n"])</script><script>self.__next_f.push([1,""])</script></body></html>